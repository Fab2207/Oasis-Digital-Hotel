import{a as z,b as H}from"./chunk-HDTJ3KOH.js";import{a as k}from"./chunk-YG3CPSL3.js";import{D as a,E as f,H as v,Ha as A,J as d,Ja as V,Ka as j,N as i,O as t,P as y,S as O,T as F,U as u,X as n,Y as p,Z as c,_ as D,da as h,fa as T,ia as R,ka as m,ma as x,q as g,sa as B,t as M,ta as S,u as I,ua as w,v as C,w as N,x as P,xa as L,ya as E,za as b}from"./chunk-DBIQ3VVQ.js";function G(r,l){if(r&1&&(i(0,"tr",17)(1,"td",13)(2,"div",18)(3,"span",19),n(4,"sell"),t(),n(5),t()(),i(6,"td",20),n(7),t(),i(8,"td",21),n(9),t(),i(10,"td",22),n(11),m(12,"date"),t(),i(13,"td",13)(14,"div",23)(15,"div",24),y(16,"div",25),t(),i(17,"span",26),n(18,"0/100"),t()()(),i(19,"td",13)(20,"span",27),y(21,"span",28),n(22," Activo "),t()()()),r&2){let e=l.$implicit;a(5),c(" ",e.codigo," "),a(2),p(e.tipo),a(2),p(e.valor),a(2),p(x(12,4,e.fechaFin,"yyyy-MM-dd"))}}function U(r,l){r&1&&(i(0,"tr")(1,"td",29),n(2," No se encontraron descuentos "),t()())}function $(r,l){if(r&1&&(i(0,"tr",17)(1,"td",11)(2,"div",18)(3,"div",19)(4,"span",20),n(5,"spa"),t()(),i(6,"span",21),n(7),t()()(),i(8,"td",22),n(9),t(),i(10,"td",23),n(11),m(12,"number"),t(),i(13,"td",24),n(14,"\u2014"),t()()),r&2){let e=l.$implicit;a(7),p(e.nombre),a(2),p(e.descripcion),a(2),c("S/. ",x(12,3,e.precio,"1.1-1"),"")}}function Z(r,l){r&1&&(i(0,"tr")(1,"td",25),n(2," No se encontraron servicios "),t()())}var q=r=>({"border-0 p-0 bg-transparent":r}),J=(r,l,e,o)=>({"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":r,"bg-green-500/10 text-green-500 border-green-500/20":l,"bg-red-500/10 text-red-500 border-red-500/20":e,"bg-gray-500/10 text-gray-500 border-gray-500/20":o}),K=r=>["/cliente/factura",r];function Q(r,l){r&1&&(i(0,"div",25)(1,"a",26)(2,"span",27),n(3,"arrow_back"),t(),n(4," Volver "),t()())}function W(r,l){if(r&1&&(i(0,"div",31)(1,"span"),n(2),t(),i(3,"span"),n(4),m(5,"number"),t()()),r&2){let e=l.$implicit;a(2),p(e.nombre),a(2),c("S/. ",x(5,2,e.precio,"1.2-2"),"")}}function X(r,l){if(r&1&&(i(0,"div",28)(1,"p",29),n(2,"Servicios Adicionales"),t(),v(3,W,6,5,"div",30),t()),r&2){let e=u(2);a(3),d("ngForOf",e.parsedServicios)}}function Y(r,l){if(r&1&&(i(0,"div",32)(1,"span"),n(2,"Descuento"),t(),i(3,"span"),n(4),m(5,"number"),t()()),r&2){let e=u(2);a(4),c("- S/. ",x(5,1,e.reserva.montoDescuento,"1.2-2"),"")}}function ee(r,l){if(r&1&&(i(0,"div",33)(1,"span"),n(2,"M\xE9todo de Pago"),t(),i(3,"span",34),n(4),t()()),r&2){let e=u(2);a(4),p(e.reserva.metodoPago)}}function te(r,l){if(r&1&&(i(0,"div",35)(1,"a",36)(2,"span",27),n(3,"receipt_long"),t(),n(4," Ver Factura "),t()()),r&2){let e=u(2);a(),d("routerLink",T(1,K,e.reserva.id))}}function ie(r,l){if(r&1&&(i(0,"div",3),v(1,Q,5,0,"div",4),i(2,"div",5)(3,"div",6)(4,"div")(5,"h2",7),n(6),t(),i(7,"p",8),n(8),t()(),i(9,"div",9),n(10),t()(),i(11,"div",10)(12,"div",11)(13,"div")(14,"span",12),n(15,"Habitaci\xF3n"),t(),i(16,"p",13),n(17),t(),i(18,"p",14),n(19),t()()(),i(20,"div",15),v(21,X,4,1,"div",16),i(22,"div",17)(23,"span"),n(24,"Subtotal"),t(),i(25,"span"),n(26),m(27,"number"),t()(),v(28,Y,6,4,"div",18)(29,ee,5,1,"div",19),i(30,"div",20)(31,"span"),n(32,"Estado de Pago"),t(),i(33,"span",21),n(34),t()(),i(35,"div",22)(36,"span",13),n(37,"Total"),t(),i(38,"span",23),n(39),m(40,"number"),t()(),v(41,te,5,3,"div",24),t()()()()),r&2){let e=u();a(),d("ngIf",!e.isModal),a(),d("ngClass",T(23,q,e.isModal)),a(4),c("Reserva #",e.reserva.id,""),a(2),D("",e.reserva.fechaInicio," - ",e.reserva.fechaFin,""),a(),d("ngClass",R(25,J,e.reserva.estado==="PENDIENTE",e.reserva.estado==="ACTIVA"||e.reserva.estado==="CONFIRMADA",e.reserva.estado==="CANCELADA",e.reserva.estado==="FINALIZADA")),a(),c(" ",e.reserva.estado," "),a(7),p(e.reserva.habitacionNumero),a(2),p(e.reserva.habitacionTipo),a(2),d("ngIf",e.parsedServicios.length>0),a(5),c("S/. ",x(27,17,e.calculateSubtotal(),"1.2-2"),""),a(2),d("ngIf",e.reserva.montoDescuento>0),a(),d("ngIf",e.reserva.metodoPago),a(4),d("ngClass",e.reserva.estado==="PENDIENTE"?"text-yellow-500":"text-green-500"),a(),c(" ",e.reserva.estado==="PENDIENTE"?"Pendiente":"Pagado"," "),a(5),c("S/. ",x(40,20,e.calculateTotal(),"1.2-2"),""),a(2),d("ngIf",e.reserva.estado!=="PENDIENTE")}}function ne(r,l){r&1&&(i(0,"div",37),n(1," Cargando detalles... "),t())}function re(r,l){if(r&1&&(i(0,"div",38),n(1),t()),r&2){let e=u();a(),c(" ",e.error," ")}}function ae(r,l){if(r&1&&(i(0,"tr",33)(1,"td",53),n(2),t(),i(3,"td",36),n(4,"1"),t(),i(5,"td",36),n(6),m(7,"number"),t(),i(8,"td",37),n(9),m(10,"number"),t()()),r&2){let e=l.$implicit;a(2),p(e.nombre),a(4),c("S/. ",x(7,3,e.precio,"1.2-2"),""),a(3),c("S/. ",x(10,6,e.precio,"1.2-2"),"")}}function oe(r,l){if(r&1&&(i(0,"div",54)(1,"span",55),n(2,"Descuento"),t(),i(3,"span",56),n(4),m(5,"number"),t()()),r&2){let e=u(2);a(4),c("-S/. ",x(5,1,e.reserva.montoDescuento,"1.2-2"),"")}}function se(r,l){if(r&1){let e=O();i(0,"div",3)(1,"div",4)(2,"div",5),N(),i(3,"svg",6),y(4,"path",7),t()(),P(),i(5,"div",8)(6,"div")(7,"div",9)(8,"div",10)(9,"span",11),n(10,"apartment"),t()(),i(11,"h1",12),n(12,"Oasis Digital"),t()(),i(13,"div",13)(14,"p"),n(15,"Av. Principal 123, Lima, Per\xFA"),t(),i(16,"p"),n(17,"contacto@oasisdigital.com"),t(),i(18,"p"),n(19,"+51 1 234 5678"),t(),i(20,"p",14),n(21,"RUC: 20123456789"),t()()(),i(22,"div",15)(23,"h2",16),n(24,"FACTURA"),t(),i(25,"p",17),n(26,"N\xB0 "),i(27,"span",18),n(28),t()(),i(29,"p",19),n(30,"Fecha: "),i(31,"span",20),n(32),t()()()(),i(33,"div",21)(34,"h3",22),n(35,"Facturar a"),t(),i(36,"div",23)(37,"div")(38,"p",24),n(39),t(),i(40,"p",25),n(41),t()(),i(42,"div",15)(43,"p",25),n(44,"Documento de Identidad"),t(),i(45,"p",26),n(46),t()()()(),i(47,"div",27)(48,"table",28)(49,"thead")(50,"tr",29)(51,"th",30),n(52,"Descripci\xF3n"),t(),i(53,"th",31),n(54,"Cant."),t(),i(55,"th",31),n(56,"Precio Unit."),t(),i(57,"th",31),n(58,"Total"),t()()(),i(59,"tbody",32)(60,"tr",33)(61,"td",34)(62,"p",26),n(63),t(),i(64,"p",35),n(65),t()(),i(66,"td",36),n(67),t(),i(68,"td",36),n(69),m(70,"number"),t(),i(71,"td",37),n(72),m(73,"number"),t()(),v(74,ae,11,9,"tr",38),t()()(),i(75,"div",39)(76,"div",40)(77,"div",41)(78,"span",42),n(79,"Subtotal"),t(),i(80,"span",26),n(81),m(82,"number"),t()(),v(83,oe,6,4,"div",43),i(84,"div",44)(85,"span",45),n(86,"TOTAL PAGADO"),t(),i(87,"span",45),n(88),m(89,"number"),t()()()(),i(90,"div",46)(91,"p",47),n(92,"Gracias por su preferencia"),t(),i(93,"p",48),n(94,"Este documento es un comprobante de pago electr\xF3nico sin valor fiscal real (demo)."),t()(),i(95,"div",49)(96,"button",50),F("click",function(){I(e);let s=u();return C(s.print())}),i(97,"span",51),n(98,"print"),t(),n(99," Imprimir / PDF "),t(),i(100,"button",52),F("click",function(){I(e);let s=u();return C(s.goBack())}),n(101," Cerrar "),t()()()()}if(r&2){let e=u();a(28),c("F-",e.reserva.id,""),a(4),p(e.reserva.fechaInicio),a(7),p(e.reserva.clienteNombre),a(2),p(e.reserva.clienteEmail||"No registrado"),a(5),p(e.reserva.clienteDni||"No registrado"),a(17),c("Habitaci\xF3n ",e.reserva.habitacionTipo,""),a(2),D("Estancia del ",e.reserva.fechaInicio," al ",e.reserva.fechaFin,""),a(2),p(e.reserva.diasEstadia||1),a(2),c("S/. ",x(70,15,e.reserva.habitacionPrecio||0,"1.2-2"),""),a(3),c("S/. ",x(73,18,(e.reserva.habitacionPrecio||0)*(e.reserva.diasEstadia||1),"1.2-2"),""),a(2),d("ngForOf",e.parsedServicios),a(7),c("S/. ",x(82,21,e.calculateSubtotal(),"1.2-2"),""),a(2),d("ngIf",e.reserva.montoDescuento>0),a(5),c("S/. ",x(89,24,e.calculateTotal(),"1.2-2"),"")}}function le(r,l){r&1&&(i(0,"div",57),n(1,"Cargando factura..."),t())}function de(r,l){if(r&1&&(i(0,"div",58),n(1),t()),r&2){let e=u();a(),p(e.error)}}var he=(()=>{class r{constructor(e){this.descuentoService=e,this.descuentos=[],this.loading=!0}ngOnInit(){this.descuentoService.getAll().subscribe({next:e=>{this.descuentos=e,this.loading=!1},error:e=>{console.error(e),this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||r)(f(H))}}static{this.\u0275cmp=g({type:r,selectors:[["app-client-discounts"]],standalone:!0,features:[h],decls:32,vars:2,consts:[[1,"space-y-6","animate-fade-in"],[1,"flex","flex-col","gap-1"],[1,"text-2xl","font-bold","text-white"],[1,"text-white/60","text-sm"],[1,"glass-panel","rounded-2xl","overflow-hidden","bg-[#1A1A1A]","border","border-white/5"],[1,"p-4","border-b","border-white/5"],[1,"relative","w-full","md:w-96"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40"],[1,"material-symbols-outlined","text-lg"],["type","text","placeholder","Buscar por c\xF3digo o descripci\xF3n...",1,"w-full","bg-[#121212]","border","border-white/10","rounded-lg","pl-10","pr-4","py-2","text-sm","text-white","focus:border-primary","focus:outline-none"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-white/5","transition-colors"],[1,"flex","items-center","gap-2","font-bold","text-white"],[1,"material-symbols-outlined","text-primary","text-sm"],[1,"px-6","py-4","text-white/70"],[1,"px-6","py-4","font-mono","font-bold","text-white"],[1,"px-6","py-4","text-white/60"],[1,"flex","items-center","gap-2"],[1,"w-16","h-1.5","bg-white/10","rounded-full","overflow-hidden"],[1,"h-full","bg-primary",2,"width","0%"],[1,"text-xs","text-white/50"],[1,"inline-flex","items-center","gap-1.5","px-2.5","py-1","rounded-full","text-xs","font-bold","bg-green-500/10","text-green-400","border","border-green-500/20"],[1,"size-1.5","rounded-full","bg-green-400"],["colspan","6",1,"px-6","py-12","text-center","text-white/30"]],template:function(o,s){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Gesti\xF3n de Descuentos"),t(),i(4,"p",3),n(5,"Administre los c\xF3digos de descuento y promociones."),t()(),i(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7)(10,"span",8),n(11,"search"),t()(),y(12,"input",9),t()(),i(13,"div",10)(14,"table",11)(15,"thead",12)(16,"tr")(17,"th",13),n(18,"C\xF3digo"),t(),i(19,"th",13),n(20,"Tipo"),t(),i(21,"th",13),n(22,"Valor"),t(),i(23,"th",13),n(24,"Fecha Fin"),t(),i(25,"th",13),n(26,"Uso"),t(),i(27,"th",13),n(28,"Estado"),t()()(),i(29,"tbody",14),v(30,G,23,7,"tr",15)(31,U,3,0,"tr",16),t()()()()()),o&2&&(a(30),d("ngForOf",s.descuentos),a(),d("ngIf",s.descuentos.length===0&&!s.loading))},dependencies:[b,S,w,L],encapsulation:2})}}return r})(),be=(()=>{class r{constructor(e){this.servicioService=e,this.servicios=[],this.loading=!0}ngOnInit(){this.servicioService.getAll().subscribe({next:e=>{this.servicios=e,this.loading=!1},error:e=>{console.error(e),this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||r)(f(z))}}static{this.\u0275cmp=g({type:r,selectors:[["app-client-services-view"]],standalone:!0,features:[h],decls:27,vars:2,consts:[[1,"space-y-6","animate-fade-in"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col","gap-1"],[1,"text-2xl","font-bold","text-white"],[1,"text-white/60","text-sm"],[1,"px-4","py-2","rounded-lg","bg-blue-500/10","border","border-blue-500/20","text-blue-400","text-sm","flex","items-center","gap-2"],[1,"material-symbols-outlined","text-lg"],[1,"glass-panel","rounded-2xl","overflow-hidden","bg-[#1A1A1A]","border","border-white/5"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"px-6","py-4","text-center"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-white/5","transition-colors","group"],[1,"flex","items-center","gap-3"],[1,"size-10","rounded-lg","bg-white/5","flex","items-center","justify-center","text-white/40"],[1,"material-symbols-outlined"],[1,"font-bold","text-white"],[1,"px-6","py-4","text-white/60","max-w-xs","truncate"],[1,"px-6","py-4","text-right","font-mono","font-bold","text-white"],[1,"px-6","py-4","text-center","text-white/20"],["colspan","4",1,"px-6","py-12","text-center","text-white/30"]],template:function(o,s){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),n(4,"Gesti\xF3n de Servicios"),t(),i(5,"p",4),n(6,"Administra los servicios adicionales ofrecidos por el hotel."),t()(),i(7,"div",5)(8,"span",6),n(9,"info"),t(),n(10," Solo administradores pueden modificar servicios "),t()(),i(11,"div",7)(12,"div",8)(13,"table",9)(14,"thead",10)(15,"tr")(16,"th",11),n(17,"Servicio"),t(),i(18,"th",11),n(19,"Descripci\xF3n"),t(),i(20,"th",12),n(21,"Precio"),t(),i(22,"th",13),n(23,"Acciones"),t()()(),i(24,"tbody",14),v(25,$,15,6,"tr",15)(26,Z,3,0,"tr",16),t()()()()()),o&2&&(a(25),d("ngForOf",s.servicios),a(),d("ngIf",s.servicios.length===0&&!s.loading))},dependencies:[b,S,w,E],encapsulation:2})}}return r})(),ye=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=g({type:r,selectors:[["app-client-reviews"]],standalone:!0,features:[h],decls:21,vars:0,consts:[[1,"space-y-6","animate-fade-in","text-white/90","font-sans"],[1,"flex","flex-col","gap-1"],[1,"flex","items-center","gap-2","text-xs","text-white/50","mb-4"],[1,"hover:text-primary","transition-colors","cursor-pointer"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-3xl","font-bold","text-white","tracking-tight"],[1,"text-white/60","text-sm"],[1,"border-2","border-dashed","border-white/10","rounded-xl","p-12","flex","flex-col","items-center","justify-center","text-center","bg-[#18181b]/50","min-h-[400px]"],[1,"w-16","h-16","rounded-full","bg-white/5","flex","items-center","justify-center","mb-4"],[1,"material-symbols-outlined","text-3xl","text-white/20"],[1,"text-lg","font-bold","text-white","mb-2"],["routerLink","/cliente/historial",1,"mt-6","px-6","py-3","bg-[#00A67E]","hover:bg-[#008f6d]","text-white","text-sm","font-bold","rounded-lg","transition-colors","shadow-lg","shadow-[#00A67E]/20"]],template:function(o,s){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n(4,"Panel de Control"),t(),i(5,"span",4),n(6,"chevron_right"),t(),i(7,"span"),n(8,"Inicio"),t()(),i(9,"h1",5),n(10,"Mis Rese\xF1as"),t(),i(11,"p",6),n(12,"Historial de tus opiniones y calificaciones."),t()(),i(13,"div",7)(14,"div",8)(15,"span",9),n(16,"rate_review"),t()(),i(17,"h3",10),n(18,"No has escrito rese\xF1as a\xFAn"),t(),i(19,"a",11),n(20," Ir al Historial "),t()()())},dependencies:[b,j],encapsulation:2})}}return r})(),Se=(()=>{class r{constructor(e,o){this.route=e,this.reservaService=o,this.reservaInput=null,this.isModal=!1,this.reserva=null,this.error=null,this.parsedServicios=[]}ngOnInit(){if(this.reservaInput)this.reserva=this.reservaInput,this.parseServicios();else{let e=this.route.snapshot.paramMap.get("id");e&&this.reservaService.getById(+e).subscribe({next:o=>{this.reserva=o,this.parseServicios()},error:o=>this.error="No se pudo cargar la reserva."})}}ngOnChanges(e){e.reservaInput&&this.reservaInput&&(this.reserva=this.reservaInput,this.parseServicios())}parseServicios(){this.reserva.servicios&&Array.isArray(this.reserva.servicios)&&(this.parsedServicios=this.reserva.servicios.map(e=>{let o=e.split(" - S/.");return o.length===2?{nombre:o[0],precio:parseFloat(o[1])}:{nombre:e,precio:0}}))}calculateSubtotal(){if(!this.reserva)return 0;let e=(this.reserva.habitacionPrecio||0)*(this.reserva.diasEstadia||1),o=this.parsedServicios.reduce((s,_)=>s+_.precio,0);return e+o}calculateTotal(){let e=this.calculateSubtotal(),o=this.reserva.montoDescuento||0;return Math.max(0,e-o)}static{this.\u0275fac=function(o){return new(o||r)(f(A),f(k))}}static{this.\u0275cmp=g({type:r,selectors:[["app-client-reserva-detail"]],inputs:{reservaInput:"reservaInput",isModal:"isModal"},standalone:!0,features:[M,h],decls:3,vars:3,consts:[["class","space-y-6 animate-fade-in text-white/90",4,"ngIf"],["class","text-center py-12 text-white/50",4,"ngIf"],["class","text-center py-12 text-red-400",4,"ngIf"],[1,"space-y-6","animate-fade-in","text-white/90"],["class","flex items-center gap-2 mb-4",4,"ngIf"],[1,"bg-[#1A1A1A]","border","border-white/5","rounded-2xl","p-8","max-w-2xl","mx-auto",3,"ngClass"],[1,"flex","justify-between","items-start","mb-8","pb-8","border-b","border-white/5"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-white/50","text-sm"],[1,"px-3","py-1","rounded-full","text-xs","font-bold","border",3,"ngClass"],[1,"space-y-6"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xs","font-bold","text-white/40","uppercase","tracking-wider","block","mb-1"],[1,"text-lg","font-bold","text-white"],[1,"text-sm","text-white/50"],[1,"pt-6","border-t","border-white/5","space-y-2"],["class","space-y-2 pb-4 border-b border-white/5",4,"ngIf"],[1,"flex","justify-between","text-white/70","text-sm","pt-2"],["class","flex justify-between text-green-400 text-sm",4,"ngIf"],["class","flex justify-between text-white/70 text-sm",4,"ngIf"],[1,"flex","justify-between","text-white/70"],[1,"font-bold",3,"ngClass"],[1,"flex","justify-between","items-center","pt-2","border-t","border-white/5"],[1,"text-2xl","font-bold","text-primary"],["class","flex justify-end pt-4",4,"ngIf"],[1,"flex","items-center","gap-2","mb-4"],["routerLink","/cliente/dashboard",1,"text-white/50","hover:text-white","transition-colors","flex","items-center","gap-1","text-sm"],[1,"material-symbols-outlined","text-sm"],[1,"space-y-2","pb-4","border-b","border-white/5"],[1,"text-xs","font-bold","text-white/40","uppercase","tracking-wider"],["class","flex justify-between text-sm text-white/70",4,"ngFor","ngForOf"],[1,"flex","justify-between","text-sm","text-white/70"],[1,"flex","justify-between","text-green-400","text-sm"],[1,"flex","justify-between","text-white/70","text-sm"],[1,"font-medium","text-white"],[1,"flex","justify-end","pt-4"],["target","_blank",1,"px-4","py-2","bg-white/5","hover:bg-white/10","text-white","text-sm","font-bold","rounded-lg","transition-colors","flex","items-center","gap-2","cursor-pointer",3,"routerLink"],[1,"text-center","py-12","text-white/50"],[1,"text-center","py-12","text-red-400"]],template:function(o,s){o&1&&v(0,ie,42,30,"div",0)(1,ne,2,0,"div",1)(2,re,2,1,"div",2),o&2&&(d("ngIf",s.reserva),a(),d("ngIf",!s.reserva&&!s.error&&!s.isModal),a(),d("ngIf",s.error))},dependencies:[b,B,S,w,E,j],encapsulation:2})}}return r})(),we=(()=>{class r{constructor(e,o,s){this.route=e,this.router=o,this.disciplinaService=s,this.reserva=null,this.error=null,this.parsedServicios=[]}get reservaService(){return this.disciplinaService}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.reservaService.getById(+e).subscribe({next:o=>{this.reserva=o,this.parseServicios()},error:o=>this.error="No se pudo cargar la factura."})}parseServicios(){this.reserva.servicios&&Array.isArray(this.reserva.servicios)&&(this.parsedServicios=this.reserva.servicios.map(e=>{let o=e.split(" - S/.");return o.length===2?{nombre:o[0],precio:parseFloat(o[1])}:{nombre:e,precio:0}}))}calculateSubtotal(){if(!this.reserva)return 0;let e=(this.reserva.habitacionPrecio||0)*(this.reserva.diasEstadia||1),o=this.parsedServicios.reduce((s,_)=>s+_.precio,0);return e+o}calculateTotal(){let e=this.calculateSubtotal(),o=this.reserva.montoDescuento||0;return Math.max(0,e-o)}print(){window.print()}goBack(){window.history.back()}static{this.\u0275fac=function(o){return new(o||r)(f(A),f(V),f(k))}}static{this.\u0275cmp=g({type:r,selectors:[["app-client-factura"]],standalone:!0,features:[h],decls:3,vars:3,consts:[["class","min-h-screen bg-[#121212] p-8 flex items-center justify-center font-sans text-gray-900",4,"ngIf"],["class","min-h-screen flex items-center justify-center text-white/50",4,"ngIf"],["class","min-h-screen flex items-center justify-center text-red-500",4,"ngIf"],[1,"min-h-screen","bg-[#121212]","p-8","flex","items-center","justify-center","font-sans","text-gray-900"],[1,"w-full","max-w-3xl","bg-white","p-12","shadow-2xl","rounded-xl","relative","overflow-hidden","print:shadow-none","print:border","print:border-gray-200"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","opacity-[0.03]","pointer-events-none","select-none"],["width","600","height","600","viewBox","0 0 24 24","fill","currentColor"],["d","M12 2L2 12h3v8h6v-6h2v6h6v-8h3L12 2zm0 2.83L19.17 12H17v8h-2v-6H9v6H7v-8H4.83L12 4.83z"],[1,"flex","justify-between","items-start","border-b-2","border-gray-100","pb-8","mb-8","relative","z-10"],[1,"flex","items-center","gap-2","mb-4"],[1,"w-8","h-8","bg-black","text-white","rounded","flex","items-center","justify-center"],[1,"material-symbols-outlined","text-sm"],[1,"text-2xl","font-black","tracking-tight","uppercase"],[1,"text-sm","text-gray-500","space-y-1"],[1,"font-medium","text-gray-900","mt-2"],[1,"text-right"],[1,"text-4xl","font-black","text-gray-900","mb-2"],[1,"text-gray-500","font-medium","mb-1"],[1,"text-gray-900"],[1,"text-gray-500"],[1,"text-gray-900","font-medium"],[1,"mb-10","relative","z-10","bg-gray-50","p-6","rounded-lg","border","border-gray-100"],[1,"text-xs","font-bold","text-gray-400","uppercase","tracking-wider","mb-4"],[1,"grid","grid-cols-2","gap-4"],[1,"text-lg","font-bold","text-gray-900"],[1,"text-gray-600","text-sm"],[1,"font-bold","text-gray-900"],[1,"relative","z-10"],[1,"w-full","mb-8"],[1,"border-b-2","border-gray-900"],[1,"text-left","py-3","text-xs","font-bold","uppercase","tracking-wider","text-gray-900"],[1,"text-right","py-3","text-xs","font-bold","uppercase","tracking-wider","text-gray-900"],[1,"text-sm"],[1,"border-b","border-gray-100"],[1,"py-4"],[1,"text-xs","text-gray-500","mt-1"],[1,"text-right","py-4","text-gray-600"],[1,"text-right","py-4","font-bold","text-gray-900"],["class","border-b border-gray-100",4,"ngFor","ngForOf"],[1,"flex","justify-end","pt-4","relative","z-10"],[1,"w-72"],[1,"flex","justify-between","mb-3","text-sm"],[1,"font-medium","text-gray-600"],["class","flex justify-between mb-4 text-sm",4,"ngIf"],[1,"flex","justify-between","border-t-2","border-gray-900","pt-4","text-xl"],[1,"font-black","text-gray-900"],[1,"mt-16","pt-8","border-t","border-gray-100","text-center","relative","z-10"],[1,"text-sm","font-bold","text-gray-900","mb-1"],[1,"text-xs","text-gray-500"],[1,"mt-8","text-center","print:hidden","flex","justify-center","gap-4"],[1,"bg-black","text-white","px-6","py-3","rounded-lg","font-bold","hover:bg-gray-800","transition","shadow-lg","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"material-symbols-outlined"],[1,"px-6","py-3","rounded-lg","font-bold","text-gray-600","hover:bg-gray-100","transition","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"py-4","text-gray-900"],[1,"flex","justify-between","mb-4","text-sm"],[1,"font-medium","text-green-600"],[1,"font-bold","text-green-600"],[1,"min-h-screen","flex","items-center","justify-center","text-white/50"],[1,"min-h-screen","flex","items-center","justify-center","text-red-500"]],template:function(o,s){o&1&&v(0,se,102,27,"div",0)(1,le,2,0,"div",1)(2,de,2,1,"div",2),o&2&&(d("ngIf",s.reserva),a(),d("ngIf",!s.reserva&&!s.error),a(),d("ngIf",s.error))},dependencies:[b,S,w,E],styles:["@media print{[_nghost-%COMP%]{background:#fff;color:#000;display:block}.print\\:shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}.print\\:border[_ngcontent-%COMP%]{border:1px solid #e5e7eb!important}.print\\:hidden[_ngcontent-%COMP%]{display:none!important}}"]})}}return r})();export{he as a,be as b,ye as c,Se as d,we as e};
