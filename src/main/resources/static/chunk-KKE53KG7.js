import{a as M}from"./chunk-6AL5JYWX.js";import{a as A}from"./chunk-HAICC4VJ.js";import{D as a,E as f,H as m,Ia as D,J as d,Ka as k,L as I,La as F,N as t,O as e,P as c,S as b,T as v,U as p,X as i,Y as x,Z as L,da as y,ka as g,la as _,ma as N,q as w,ta as T,u,ua as C,v as h,va as S,xa as H,za as E}from"./chunk-DBIQ3VVQ.js";function U(n,s){n&1&&c(0,"span",18)}function z(n,s){if(n&1&&(t(0,"span",28),i(1),e()),n&2){let r=p(3);a(),L("",r.unreadCount," nuevas")}}function O(n,s){if(n&1){let r=b();t(0,"div",29),v("click",function(){let l=u(r).$implicit,V=p(3);return h(V.markAsRead(l))}),t(1,"div",30),c(2,"div",31),t(3,"div")(4,"p",32),i(5),e(),t(6,"p",33),i(7),e(),t(8,"p",34),i(9),g(10,"date"),e()()()()}if(n&2){let r=s.$implicit;I("bg-white-5",!r.leida),a(2),I("bg-primary",!r.leida)("bg-white-10",r.leida),a(3),x(r.titulo),a(2),x(r.mensaje),a(2),x(N(10,9,r.fechaCreacion,"short"))}}function B(n,s){n&1&&(t(0,"div",35)(1,"span",36),i(2,"notifications_off"),e(),t(3,"p",37),i(4,"No tienes notificaciones"),e()())}function G(n,s){if(n&1&&(t(0,"div",19)(1,"div",20)(2,"h3",21),i(3,"Notificaciones"),e(),m(4,z,2,1,"span",22),e(),t(5,"div",23),m(6,O,11,12,"div",24)(7,B,5,0,"div",25),e(),t(8,"div",26)(9,"button",27),i(10," Ver todas las notificaciones "),e()()()),n&2){let r=p(2);a(4),d("ngIf",r.unreadCount>0),a(2),d("ngForOf",r.notifications),a(),d("ngIf",r.notifications.length===0)}}function q(n,s){if(n&1){let r=b();t(0,"div",8)(1,"div",9)(2,"span",10),i(3,"search"),e(),c(4,"input",11),e(),t(5,"div",12)(6,"button",13),v("click",function(){u(r);let l=p();return h(l.toggleNotifications())}),t(7,"span",14),i(8,"notifications"),e(),m(9,U,1,0,"span",15),e(),m(10,G,11,3,"div",16),e(),t(11,"div",17),i(12),e()()}if(n&2){let r=s.ngIf,o=p();a(9),d("ngIf",o.unreadCount>0),a(),d("ngIf",o.showNotifications),a(2),L(" ",r.displayName.charAt(0).toUpperCase()," ")}}var P=(()=>{class n{constructor(r,o){this.authService=r,this.dashboardService=o,this.currentUser$=this.authService.currentUser$,this.showNotifications=!1,this.notifications=[],this.unreadCount=0}ngOnInit(){this.loadNotifications(),setInterval(()=>this.loadNotifications(),6e4)}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:r=>{this.notifications=r||[],this.notifications.sort((o,l)=>new Date(l.fechaCreacion).getTime()-new Date(o.fechaCreacion).getTime()),this.unreadCount=this.notifications.filter(o=>!o.leida).length},error:r=>console.error("Error loading notifications",r)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(r){r.leida||this.dashboardService.markAsRead(r.id).subscribe(()=>{r.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}static{this.\u0275fac=function(o){return new(o||n)(f(A),f(M))}}static{this.\u0275cmp=w({type:n,selectors:[["app-client-header"]],standalone:!0,features:[y],decls:13,vars:3,consts:[[1,"h-20","bg-background-dark","border-b","border-white/5","flex","items-center","justify-between","px-8","sticky","top-0","z-30"],[1,"flex","flex-col"],[1,"flex","items-center","gap-2","text-xs","text-white/40","mb-1"],["routerLink","/cliente/dashboard",1,"hover:text-primary","cursor-pointer","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"text-xl","font-bold","text-white","tracking-wide"],["class","flex items-center gap-6",4,"ngIf"],[1,"flex","items-center","gap-6"],[1,"relative","hidden","md:block"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","material-symbols-outlined","text-white/20","text-[20px]"],["type","text","placeholder","Buscar...",1,"bg-[#1A1A1A]","border","border-white/5","rounded-full","h-10","pl-10","pr-4","text-sm","text-white","placeholder:text-white/20","focus:outline-none","focus:border-primary/50","focus:ring-1","focus:ring-primary/50","w-64","transition-all"],[1,"relative"],[1,"w-10","h-10","rounded-full","bg-[#1A1A1A]","border","border-white/5","flex","items-center","justify-center","text-white/60","hover:text-white","hover:border-white/10","transition-all","relative",3,"click"],[1,"material-symbols-outlined"],["class","absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-[#1A1A1A]",4,"ngIf"],["class","absolute right-0 top-full mt-4 w-80 bg-[#1e1e1e] border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-200 origin-top-right",4,"ngIf"],[1,"w-10","h-10","rounded-full","bg-primary/20","flex","items-center","justify-center","text-primary","font-bold","border","border-primary/20"],[1,"absolute","top-2","right-2","w-2","h-2","bg-red-500","rounded-full","border","border-[#1A1A1A]"],[1,"absolute","right-0","top-full","mt-4","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-xl","shadow-2xl","overflow-hidden","z-50","animate-in","fade-in","zoom-in-95","duration-200","origin-top-right"],[1,"p-4","border-b","border-white/10","flex","justify-between","items-center","bg-white/[0.02]"],[1,"text-white","font-bold","text-sm"],["class","text-xs text-primary font-medium",4,"ngIf"],[1,"max-h-[300px]","overflow-y-auto"],["class","p-4 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors group relative",3,"bg-white-5","click",4,"ngFor","ngForOf"],["class","p-8 text-center flex flex-col items-center gap-2",4,"ngIf"],[1,"p-2","bg-white/[0.02]","border-t","border-white/10"],[1,"w-full","py-2","text-xs","font-bold","text-white/50","hover:text-white","transition-colors"],[1,"text-xs","text-primary","font-medium"],[1,"p-4","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors","group","relative",3,"click"],[1,"flex","gap-3"],[1,"mt-1","w-2","h-2","rounded-full","flex-shrink-0"],[1,"text-sm","text-white","font-medium","group-hover:text-primary","transition-colors"],[1,"text-xs","text-white/50","mt-1","leading-relaxed"],[1,"text-[10px]","text-white/30","mt-2"],[1,"p-8","text-center","flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-white/20","text-4xl"],[1,"text-white/40","text-sm"]],template:function(o,l){o&1&&(t(0,"header",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4,"Inicio"),e(),t(5,"span",4),i(6,"chevron_right"),e(),t(7,"span",5),i(8,"Panel de Control"),e()(),t(9,"h1",6),i(10,"Panel de Control"),e()(),m(11,q,13,3,"div",7),g(12,"async"),e()),o&2&&(a(11),d("ngIf",_(12,1,l.currentUser$)))},dependencies:[E,T,C,S,H,k],encapsulation:2})}}return n})();function J(n,s){if(n&1){let r=b();t(0,"div",23)(1,"div",3)(2,"div",24)(3,"span",25),i(4,"person"),e()(),t(5,"div",26)(6,"p",27),i(7),e(),t(8,"p",28),i(9,"Cliente"),e()(),t(10,"button",29),v("click",function(){u(r);let l=p();return h(l.logout())}),t(11,"span",30),i(12,"logout"),e()()()()}if(n&2){let r=s.ngIf;a(7),x(r.username)}}var te=(()=>{class n{constructor(r){this.authService=r,this.currentUser$=this.authService.currentUser$}logout(){window.showLogoutAnimation&&window.showLogoutAnimation(),this.authService.logout()}static{this.\u0275fac=function(o){return new(o||n)(f(A))}}static{this.\u0275cmp=w({type:n,selectors:[["app-client-layout"]],standalone:!0,features:[y],decls:56,vars:3,consts:[[1,"flex","min-h-screen","bg-background-dark"],[1,"w-64","bg-[#121212]","border-r","border-white/5","flex","flex-col","fixed","h-full","z-40"],[1,"h-20","flex","items-center","px-6","border-b","border-white/5"],[1,"flex","items-center","gap-3"],[1,"material-symbols-outlined","text-[#D4AF37]","text-2xl"],[1,"flex","flex-col"],[1,"font-bold","text-white","tracking-wide"],[1,"text-[10px]","text-white/40","uppercase","tracking-widest"],[1,"flex-1","overflow-y-auto","py-6","px-3","space-y-1"],[1,"px-3","text-xs","font-bold","text-white/30","uppercase","tracking-wider","mb-2"],["routerLink","/cliente/dashboard","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],[1,"material-symbols-outlined","text-[20px]","group-hover:scale-110","transition-transform"],[1,"text-sm","font-medium"],["routerLink","/cliente/reservas/nueva","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],["routerLink","/cliente/descuentos","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],["routerLink","/cliente/servicios","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],["routerLink","/cliente/perfil","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],["routerLink","/cliente/historial","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],["routerLink","/cliente/resenas","routerLinkActive","bg-primary/10 text-primary border-primary/50",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","text-white/70","hover:bg-white/5","hover:text-white","transition-all","border","border-transparent","group"],["class","p-4 border-t border-white/5 bg-black/20",4,"ngIf"],[1,"flex-1","ml-64","flex","flex-col","min-h-screen"],[1,"p-8","overflow-y-auto","flex-1"],[1,"max-w-7xl","mx-auto"],[1,"p-4","border-t","border-white/5","bg-black/20"],[1,"w-10","h-10","rounded-full","border","border-white/10","flex","items-center","justify-center","bg-white/5","text-white/70"],[1,"material-symbols-outlined"],[1,"flex-1","min-w-0"],[1,"text-sm","font-bold","text-white","truncate"],[1,"text-xs","text-white/40","truncate"],["title","Cerrar Sesi\xF3n",1,"p-2","rounded-lg","hover:bg-white/5","text-white/40","hover:text-red-400","transition-colors",3,"click"],[1,"material-symbols-outlined","text-[20px]"]],template:function(o,l){o&1&&(t(0,"div",0)(1,"aside",1)(2,"div",2)(3,"div",3)(4,"span",4),i(5,"spa"),e(),t(6,"div",5)(7,"span",6),i(8,"Oasis Digital"),e(),t(9,"span",7),i(10,"Gesti\xF3n Hotelera"),e()()()(),t(11,"nav",8)(12,"p",9),i(13,"Menu Principal"),e(),t(14,"a",10)(15,"span",11),i(16,"dashboard"),e(),t(17,"span",12),i(18,"Mi Panel"),e()(),t(19,"a",13)(20,"span",11),i(21,"add_circle"),e(),t(22,"span",12),i(23,"Nueva Reserva"),e()(),t(24,"a",14)(25,"span",11),i(26,"sell"),e(),t(27,"span",12),i(28,"Descuentos"),e()(),t(29,"a",15)(30,"span",11),i(31,"room_service"),e(),t(32,"span",12),i(33,"Servicios"),e()(),t(34,"a",16)(35,"span",11),i(36,"person"),e(),t(37,"span",12),i(38,"Datos Personales"),e()(),t(39,"a",17)(40,"span",11),i(41,"history"),e(),t(42,"span",12),i(43,"Historial"),e()(),t(44,"a",18)(45,"span",11),i(46,"rate_review"),e(),t(47,"span",12),i(48,"Mis Rese\xF1as"),e()()(),m(49,J,13,1,"div",19),g(50,"async"),e(),t(51,"main",20),c(52,"app-client-header"),t(53,"div",21)(54,"div",22),c(55,"router-outlet"),e()()()()),o&2&&(a(49),d("ngIf",_(50,1,l.currentUser$)))},dependencies:[E,C,S,k,F,D,P],encapsulation:2})}}return n})();export{te as ClientLayoutComponent};
