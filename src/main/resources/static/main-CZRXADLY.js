import{a as _e,b as Xe}from"./chunk-CPPCMVDG.js";import{a as it}from"./chunk-UHMI57GQ.js";import{a as O}from"./chunk-6AL5JYWX.js";import{a as ye}from"./chunk-YPPC7AQK.js";import{a as Le,b as tt}from"./chunk-HDTJ3KOH.js";import{a as we}from"./chunk-YG3CPSL3.js";import{a as H}from"./chunk-IOAMSEWY.js";import{a as et}from"./chunk-ZVDLZFPG.js";import{a as j}from"./chunk-HAICC4VJ.js";import{a as Ne,b as q,c as U,d as re,e as oe,f as G,g as ae,h as fe,j as ge,k as be,l as ve,m as Qe,n as le,p as Ve,q as pe,r as De,s as $}from"./chunk-SW222O52.js";import{$ as S,A as Fe,Ba as Re,C as We,Ca as qe,D as l,Da as Ue,E as w,Ea as Ge,Fa as $e,Ga as Ze,H as g,Ha as Je,Ia as Ye,J as c,Ja as Q,K as Be,Ka as N,L as ne,Ma as Ke,N as t,Na as B,O as i,Oa as Ae,P as h,Q as Ce,R as Ee,S as v,T as p,U as m,W as ee,X as n,Y as _,Z as b,_ as z,a as ie,aa as C,b as ke,ba as E,da as M,e as Ie,ea as W,f as He,fa as V,g as ze,ga as A,ia as ce,k as Me,ka as y,la as T,ma as k,n as Te,na as te,q as I,sa as L,ta as D,u,ua as R,v as x,va as Z,xa as P,ya as me,za as F}from"./chunk-DBIQ3VVQ.js";var nt=(o,d)=>{let e=localStorage.getItem("token");if(e){let a=o.clone({setHeaders:{Authorization:`Bearer ${e}`}});return d(a)}return d(o)};var kt=()=>["/notificaciones"],It=o=>({id:o}),Mt=(o,d)=>({"bg-white/5":o,"opacity-70":d});function Tt(o,d){o&1&&h(0,"span",30)}function Ft(o,d){if(o&1){let e=v();t(0,"div",40),p("click",function(){let r=u(e).$implicit,s=m(3);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",41),n(2),i(),t(3,"p",42),n(4),i(),t(5,"p",43),n(6),y(7,"date"),i()()}if(o&2){let e=d.$implicit;c("routerLink",W(9,kt))("queryParams",V(10,It,e.id))("ngClass",A(12,Mt,!e.leida,e.leida)),l(2),b(" ",e.titulo," "),l(2),_(e.mensaje),l(2),b(" ",k(7,6,e.fechaCreacion,"short")," ")}}function Rt(o,d){o&1&&(t(0,"div",44),n(1," No tienes notificaciones "),i())}function At(o,d){if(o&1){let e=v();t(0,"div",31)(1,"div",32)(2,"h3",33),n(3,"Notificaciones"),i(),t(4,"span",34),n(5),i()(),t(6,"div",35),g(7,Ft,8,15,"div",36)(8,Rt,2,0,"div",37),i(),t(9,"div",38)(10,"a",39),p("click",function(){u(e);let r=m(2);return x(r.toggleNotifications())}),n(11," Ver todas "),i()()()}if(o&2){let e=m(2);l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function Nt(o,d){if(o&1&&(t(0,"a",45),n(1," Panel "),i()),o&2){let e=m().ngIf;c("routerLink",e.role==="ROLE_ADMIN"?"/dashboard":"/recepcion")}}function Vt(o,d){if(o&1){let e=v();t(0,"div",51),p("mouseleave",function(){u(e);let r=m(3);return x(r.showUserDropdown=!1)}),t(1,"a",52)(2,"span",53),n(3,"dashboard"),i(),n(4," Mi Cuenta "),i(),t(5,"a",54)(6,"span",53),n(7,"add_circle"),i(),n(8," Nueva Reserva "),i(),h(9,"div",55),t(10,"button",56),p("click",function(){u(e);let r=m(3);return x(r.logout())}),t(11,"span",53),n(12,"logout"),i(),n(13," Cerrar Sesi\xF3n "),i()()}}function Dt(o,d){if(o&1){let e=v();t(0,"div",22)(1,"button",46),p("click",function(){u(e);let r=m(2);return x(r.showUserDropdown=!r.showUserDropdown)}),t(2,"div",47),n(3),i(),t(4,"span",48),n(5),i(),t(6,"span",49),n(7,"expand_more"),i()(),g(8,Vt,14,0,"div",50),i()}if(o&2){let e=m().ngIf,a=m();l(3),b(" ",e.displayName.charAt(0).toUpperCase()," "),l(2),_(e.displayName.split(" ")[0]),l(3),c("ngIf",a.showUserDropdown)}}function Lt(o,d){if(o&1){let e=v();t(0,"button",57),p("click",function(){u(e);let r=m(2);return x(r.logout())}),t(1,"span",58),n(2,"logout"),i()()}}function Pt(o,d){if(o&1){let e=v();Ce(0),t(1,"div",21)(2,"div",22)(3,"button",23),p("click",function(){u(e);let r=m();return x(r.toggleNotifications())}),t(4,"span",24),n(5,"notifications"),i(),g(6,Tt,1,0,"span",25),i(),g(7,At,12,3,"div",26),i(),g(8,Nt,2,1,"a",27)(9,Dt,9,3,"div",28)(10,Lt,3,0,"button",29),i(),Ee()}if(o&2){let e=d.ngIf,a=m();l(6),c("ngIf",a.unreadCount>0),l(),c("ngIf",a.showNotifications),l(),c("ngIf",e.role==="ROLE_ADMIN"||e.role==="ROLE_RECEPCIONISTA"),l(),c("ngIf",e.role==="ROLE_CLIENTE"),l(),c("ngIf",e.role!=="ROLE_CLIENTE")}}function jt(o,d){o&1&&(t(0,"a",59)(1,"span",60),n(2,"Login"),i()())}function Ot(o,d){if(o&1){let e=v();Ce(0),t(1,"a",67),p("click",function(){u(e);let r=m(2);return x(r.toggleMobileMenu())}),n(2,"Ir al Panel"),i(),t(3,"button",68),p("click",function(){u(e);let r=m(2);return r.logout(),x(r.toggleMobileMenu())}),n(4," Cerrar Sesi\xF3n "),i(),Ee()}if(o&2){let e=d.ngIf;l(),c("routerLink",e.role==="ROLE_CLIENTE"?"/catalogo":"/dashboard")}}function Ht(o,d){if(o&1){let e=v();t(0,"a",69),p("click",function(){u(e);let r=m(2);return x(r.toggleMobileMenu())}),n(1,"Login"),i()}}function zt(o,d){if(o&1){let e=v();t(0,"div",61)(1,"a",62),p("click",function(){u(e);let r=m();return x(r.toggleMobileMenu())}),n(2,"Inicio"),i(),t(3,"a",63),p("click",function(){u(e);let r=m();return x(r.toggleMobileMenu())}),n(4,"Habitaciones"),i(),t(5,"a",64),p("click",function(){u(e);let r=m();return x(r.toggleMobileMenu())}),n(6,"Servicios"),i(),t(7,"a",65),p("click",function(){u(e);let r=m();return x(r.toggleMobileMenu())}),n(8,"Rese\xF1as"),i(),t(9,"a",66),p("click",function(){u(e);let r=m();return x(r.toggleMobileMenu())}),n(10,"Contacto"),i(),g(11,Ot,5,1,"ng-container",16),y(12,"async"),g(13,Ht,2,0,"ng-template",null,1,te),i()}if(o&2){let e=ee(14),a=m();l(11),c("ngIf",T(12,2,a.currentUser$))("ngIfElse",e)}}var rt=(()=>{class o{constructor(e,a,r,s){this.elRef=e,this.authService=a,this.router=r,this.dashboardService=s,this.showMobileMenu=!1,this.currentUser$=this.authService.currentUser$,this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.currentUser=null,this.showUserDropdown=!1}ngOnInit(){this.currentUser$.subscribe(e=>{this.currentUser=e,e?this.loadNotifications():(this.notifications=[],this.unreadCount=0)}),setInterval(()=>{this.currentUser&&this.loadNotifications()},6e4)}ngAfterViewInit(){this.initSmoothScroll()}loadNotifications(){console.log("Loading notifications..."),this.dashboardService.getNotifications().subscribe({next:e=>{console.log("Notifications loaded:",e),this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications,console.log("Toggle notifications state:",this.showNotifications),this.showNotifications&&this.notifications.length===0&&(this.notifications=[{id:999,titulo:"Notificaci\xF3n de Prueba",mensaje:"Esta es una notificaci\xF3n generada para verificar que el men\xFA funciona.",tipo:"SISTEMA",fechaCreacion:new Date().toISOString(),leida:!1}],this.unreadCount=1)}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}logout(){window.showLogoutAnimation&&window.showLogoutAnimation(),setTimeout(()=>{this.authService.logout(),this.router.navigate(["/"])},1500)}initSmoothScroll(){this.elRef.nativeElement.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",r=>{r.preventDefault();let s=a.getAttribute("href");if(s&&s!=="#"){let f=document.querySelector(s);f&&(f.scrollIntoView({behavior:"smooth",block:"start"}),this.showMobileMenu=!1)}})})}toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu}static{this.\u0275fac=function(a){return new(a||o)(w(Fe),w(j),w(Q),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-header"]],standalone:!0,features:[M],decls:29,vars:5,consts:[["loginBtn",""],["mobileLogin",""],[1,"fixed","top-0","w-full","z-50","flex","items-center","justify-center","bg-background-dark/80","backdrop-blur-sm","border-b","border-solid","border-white/10","px-4","sm:px-8"],[1,"flex","items-center","justify-between","whitespace-nowrap","w-full","max-w-7xl","py-3"],[1,"flex","items-center","gap-4"],[1,"size-6","text-primary"],[1,"fas","fa-hotel","text-2xl"],[1,"text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"hidden","md:flex","flex-1","justify-end","items-center","gap-6"],[1,"flex","items-center","gap-8"],["href","#inicio",1,"text-white","text-sm","font-medium","leading-normal","hover:text-primary","transition-colors","cursor-pointer"],["href","#habitaciones",1,"text-white","text-sm","font-medium","leading-normal","hover:text-primary","transition-colors","cursor-pointer"],["href","#servicios",1,"text-white","text-sm","font-medium","leading-normal","hover:text-primary","transition-colors","cursor-pointer"],["href","#resenas",1,"text-white","text-sm","font-medium","leading-normal","hover:text-primary","transition-colors","cursor-pointer"],["href","#contacto",1,"text-white","text-sm","font-medium","leading-normal","hover:text-primary","transition-colors","cursor-pointer"],[1,"w-px","h-6","bg-[#121212]/20"],[4,"ngIf","ngIfElse"],[1,"md:hidden"],[1,"text-white",3,"click"],[1,"material-symbols-outlined","text-3xl"],["class","md:hidden absolute top-full left-0 right-0 bg-background-dark border-t border-white/10 py-4 px-4 space-y-3",4,"ngIf"],[1,"flex","items-center","gap-3"],[1,"relative"],["type","button",1,"flex","items-center","justify-center","h-10","w-10","rounded-lg","bg-white/10","text-white","hover:bg-white/20","transition-all","border","border-white/5","relative","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 size-2 bg-red-500 rounded-full border border-background-dark pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],["class","flex items-center justify-center h-10 px-4 rounded-lg bg-white/10 text-white text-sm font-bold hover:bg-white/20 transition-all border border-white/5",3,"routerLink",4,"ngIf"],["class","relative",4,"ngIf"],["class","flex items-center justify-center h-10 w-10 rounded-lg bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500/20 transition-all","title","Cerrar Sesi\xF3n",3,"click",4,"ngIf"],[1,"absolute","top-2","right-2","size-2","bg-red-500","rounded-full","border","border-background-dark","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-4 text-center text-[#a0a0a0] text-sm",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer",3,"click"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1"],[1,"text-[10px]","text-white/40","mt-2","text-right"],[1,"p-4","text-center","text-[#a0a0a0]","text-sm"],[1,"flex","items-center","justify-center","h-10","px-4","rounded-lg","bg-white/10","text-white","text-sm","font-bold","hover:bg-white/20","transition-all","border","border-white/5",3,"routerLink"],[1,"flex","items-center","gap-2","h-10","px-3","rounded-full","bg-white/5","hover:bg-white/10","border","border-white/10","transition-all","focus:outline-none",3,"click"],[1,"w-8","h-8","rounded-full","bg-primary","flex","items-center","justify-center","text-black","font-bold","text-sm"],[1,"text-white","text-sm","font-medium"],[1,"material-symbols-outlined","text-white/50","text-sm"],["class","absolute right-0 top-full mt-2 w-48 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100] py-1",3,"mouseleave",4,"ngIf"],[1,"absolute","right-0","top-full","mt-2","w-48","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]","py-1",3,"mouseleave"],["routerLink","/cliente/dashboard",1,"flex","items-center","gap-3","px-4","py-3","text-sm","text-gray-200","hover:bg-white/5","hover:text-white","transition-colors"],[1,"material-symbols-outlined","text-lg"],["routerLink","/cliente/reservas/nueva",1,"flex","items-center","gap-3","px-4","py-3","text-sm","text-gray-200","hover:bg-white/5","hover:text-white","transition-colors"],[1,"h-px","bg-white/10","my-1"],[1,"w-full","flex","items-center","gap-3","px-4","py-3","text-sm","text-red-400","hover:bg-red-500/10","transition-colors","text-left",3,"click"],["title","Cerrar Sesi\xF3n",1,"flex","items-center","justify-center","h-10","w-10","rounded-lg","bg-red-500/10","text-red-400","border","border-red-500/20","hover:bg-red-500/20","transition-all",3,"click"],[1,"material-symbols-outlined","text-sm"],["routerLink","/login",1,"flex","min-w-[84px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-background-dark","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-opacity-80","transition-opacity"],[1,"truncate"],[1,"md:hidden","absolute","top-full","left-0","right-0","bg-background-dark","border-t","border-white/10","py-4","px-4","space-y-3"],["href","#inicio",1,"block","text-white","text-sm","font-medium","py-2","hover:text-primary","transition-colors",3,"click"],["href","#habitaciones",1,"block","text-white","text-sm","font-medium","py-2","hover:text-primary","transition-colors",3,"click"],["href","#servicios",1,"block","text-white","text-sm","font-medium","py-2","hover:text-primary","transition-colors",3,"click"],["href","#resenas",1,"block","text-white","text-sm","font-medium","py-2","hover:text-primary","transition-colors",3,"click"],["href","#contacto",1,"block","text-white","text-sm","font-medium","py-2","hover:text-primary","transition-colors",3,"click"],[1,"block","bg-white/10","text-white","text-sm","font-bold","py-2","px-4","rounded-lg","text-center","border","border-white/5","hover:bg-white/20","transition-all",3,"click","routerLink"],[1,"block","w-full","bg-red-500/10","text-red-400","border","border-red-500/20","text-sm","font-bold","py-2","px-4","rounded-lg","text-center","hover:bg-red-500/20","transition-all",3,"click"],["routerLink","/login",1,"block","bg-primary","text-background-dark","text-sm","font-bold","py-2","px-4","rounded-lg","text-center","hover:bg-opacity-90","transition-all",3,"click"]],template:function(a,r){if(a&1){let s=v();t(0,"header",2)(1,"nav",3)(2,"div",4)(3,"div",5),h(4,"i",6),i(),t(5,"h2",7),n(6," Oasis Digital "),i()(),t(7,"div",8)(8,"div",9)(9,"a",10),n(10,"Inicio"),i(),t(11,"a",11),n(12,"Habitaciones"),i(),t(13,"a",12),n(14,"Servicios"),i(),t(15,"a",13),n(16,"Rese\xF1as"),i(),t(17,"a",14),n(18,"Contacto"),i()(),h(19,"div",15),g(20,Pt,11,5,"ng-container",16),y(21,"async"),g(22,jt,3,0,"ng-template",null,0,te),i(),t(24,"div",17)(25,"button",18),p("click",function(){return u(s),x(r.toggleMobileMenu())}),t(26,"span",19),n(27,"menu"),i()()()(),g(28,zt,15,4,"div",20),i()}if(a&2){let s=ee(23);l(20),c("ngIf",T(21,3,r.currentUser$))("ngIfElse",s),l(8),c("ngIf",r.showMobileMenu)}},dependencies:[F,L,D,R,Z,P,B,N]})}}return o})();function Wt(o,d){o&1&&(Ce(0),t(1,"a",127)(2,"span",17),n(3,"Reservar Habitaci\xF3n"),i()(),Ee())}function Bt(o,d){o&1&&(t(0,"a",128),h(1,"i",129),t(2,"span",17),n(3,"Iniciar Sesi\xF3n"),i()())}var ot=(()=>{class o{constructor(e,a){this.elRef=e,this.authService=a,this.carouselSlides=[],this.currentSlide=0,this.currentUser$=this.authService.currentUser$}ngOnInit(){setTimeout(()=>{let e=this.elRef.nativeElement.querySelectorAll(".carousel-slide");this.carouselSlides=Array.from(e),this.startCarousel(),this.initSmoothScroll()},0)}initSmoothScroll(){this.elRef.nativeElement.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",r=>{r.preventDefault();let s=document.querySelector(a.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})})}ngOnDestroy(){this.carouselInterval&&clearInterval(this.carouselInterval)}startCarousel(){this.carouselSlides.length!==0&&(this.carouselInterval=setInterval(()=>{this.nextSlide()},5e3))}nextSlide(){this.carouselSlides[this.currentSlide].classList.remove("active"),this.currentSlide=(this.currentSlide+1)%this.carouselSlides.length,this.carouselSlides[this.currentSlide].classList.add("active")}static{this.\u0275fac=function(a){return new(a||o)(w(Fe),w(j))}}static{this.\u0275cmp=I({type:o,selectors:[["app-home"]],standalone:!0,features:[M],decls:334,vars:4,consts:[["publicButtons",""],[1,"relative","w-full","overflow-x-hidden"],["id","inicio",1,"relative","w-full","h-[90vh]","min-h-[600px]","flex","items-center","justify-center","text-center","text-white"],[1,"absolute","inset-0"],[1,"carousel-slide","active",2,"background-image","url('https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=1920&auto=format&fit=crop')"],[1,"carousel-slide",2,"background-image","url('https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?q=80&w=1920&auto=format&fit=crop')"],[1,"carousel-slide",2,"background-image","url('https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=1920&auto=format&fit=crop')"],[1,"carousel-slide",2,"background-image","url('https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?q=80&w=1920&auto=format&fit=crop')"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/80","via-black/50","to-transparent","z-10"],[1,"relative","z-20","flex","flex-col","items-center","gap-8","px-4","py-10","max-w-4xl"],[1,"flex","flex-col","gap-4","fade-in-up"],[1,"text-5xl","font-black","leading-tight","tracking-[-0.033em]","md:text-7xl"],[1,"text-lg","font-normal","leading-normal","md:text-xl","text-white/80","max-w-2xl","mx-auto"],[1,"flex","flex-wrap","gap-4","justify-center","fade-in-up","delay-200"],[4,"ngIf","ngIfElse"],["href","#habitaciones",1,"flex","min-w-[84px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-12","px-6","bg-[#121212]/10","border","border-white/20","text-white","text-base","font-bold","leading-normal","tracking-[0.015em]","hover:bg-[#121212]/20","transition-colors"],[1,"fas","fa-search","mr-2"],[1,"truncate"],[1,"bg-background-dark","py-20","px-4","sm:px-8","relative","overflow-hidden"],[1,"max-w-7xl","mx-auto","grid","lg:grid-cols-2","gap-12","items-center","relative","z-10"],[1,"fade-in-up"],[1,"inline-block","px-4","py-1","rounded-full","bg-primary/10","text-primary","font-bold","text-sm","mb-4","border","border-primary/20"],[1,"text-white","text-4xl","sm:text-5xl","font-bold","leading-tight","tracking-[-0.015em]","mb-6"],[1,"text-white/80","text-lg","leading-relaxed"],[1,"fade-in-up","delay-200"],["alt","Hotel lobby luxury","src","https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=800&auto=format&fit=crop",1,"rounded-2xl","w-full","h-[400px]","object-cover","shadow-2xl","border","border-white/10","hover:scale-[1.02]","transition-transform","duration-500"],[1,"bg-primary-darker","py-20","px-4","sm:px-8","relative"],[1,"max-w-7xl","mx-auto","grid","lg:grid-cols-2","gap-12","items-center","relative","z-10","lg:flex-row-reverse"],[1,"order-2","lg:order-1","fade-in-up"],["alt","Hotel vision future","src","https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?q=80&w=800&auto=format&fit=crop",1,"rounded-2xl","w-full","h-[400px]","object-cover","shadow-2xl","border","border-white/10","hover:scale-[1.02]","transition-transform","duration-500"],[1,"order-1","lg:order-2","fade-in-up","delay-200"],["id","habitaciones",1,"bg-background-dark","py-24","px-4","sm:px-8","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","pointer-events-none"],[1,"absolute","top-20","left-10","w-64","h-64","bg-primary/5","rounded-full","blur-3xl"],[1,"absolute","bottom-20","right-10","w-80","h-80","bg-primary/5","rounded-full","blur-3xl"],[1,"max-w-7xl","mx-auto","relative","z-10"],[1,"text-center","mb-16","fade-in-up"],[1,"text-white","text-4xl","sm:text-5xl","font-bold","leading-tight","tracking-[-0.015em]"],[1,"text-primary"],[1,"text-white/80","text-lg","mt-4","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"room-card-hover","bg-primary/10","backdrop-blur-sm","border","border-primary/10","rounded-2xl","overflow-hidden","group","relative","fade-in-up","delay-100"],[1,"w-full","h-72","overflow-hidden","relative"],[1,"room-img","w-full","h-full","bg-center","bg-no-repeat","bg-cover","transition-transform","duration-700",2,"background-image","url('https://images.unsplash.com/photo-1631049307264-da0ec9d70304?q=80&w=800&auto=format&fit=crop')"],[1,"absolute","top-4","right-4","bg-primary","text-background-dark","text-xs","font-bold","px-3","py-1","rounded-full","uppercase","tracking-wider"],[1,"p-6"],[1,"text-white","text-xl","font-bold","mb-2"],[1,"text-white/60","text-sm","mb-4","line-clamp-2"],[1,"flex","items-center","justify-between","border-t","border-white/10","pt-4","mt-auto"],[1,"block","text-xs","text-white/50","uppercase","tracking-wider"],[1,"text-primary","text-xl","font-bold"],["routerLink","/login",1,"w-10","h-10","rounded-full","bg-[#121212]/5","flex","items-center","justify-center","text-white","hover:bg-primary","hover:text-background-dark","transition-colors"],[1,"fas","fa-arrow-right"],[1,"room-card-hover","bg-primary/10","backdrop-blur-sm","border","border-primary/10","rounded-2xl","overflow-hidden","group","relative","fade-in-up","delay-200"],[1,"room-img","w-full","h-full","bg-center","bg-no-repeat","bg-cover","transition-transform","duration-700",2,"background-image","url('https://images.unsplash.com/photo-1590490360182-c33d57733427?q=80&w=800&auto=format&fit=crop')"],[1,"room-card-hover","bg-primary/10","backdrop-blur-sm","border","border-primary/10","rounded-2xl","overflow-hidden","group","relative","fade-in-up","delay-300"],[1,"room-img","w-full","h-full","bg-center","bg-no-repeat","bg-cover","transition-transform","duration-700",2,"background-image","url('https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?q=80&w=800&auto=format&fit=crop')"],[1,"room-card-hover","bg-primary/10","backdrop-blur-sm","border","border-primary/10","rounded-2xl","overflow-hidden","group","relative","fade-in-up","delay-400"],[1,"room-img","w-full","h-full","bg-center","bg-no-repeat","bg-cover","transition-transform","duration-700",2,"background-image","url('https://images.unsplash.com/photo-1578683010236-d716f9a3f461?q=80&w=800&auto=format&fit=crop')"],["id","servicios",1,"bg-primary-darker","py-24","px-4","sm:px-8","relative","overflow-hidden"],[1,"absolute","top-0","right-0","w-full","h-full","overflow-hidden","pointer-events-none"],[1,"absolute","top-20","right-10","w-64","h-64","bg-primary/5","rounded-full","blur-3xl"],[1,"absolute","bottom-20","left-10","w-80","h-80","bg-primary/5","rounded-full","blur-3xl"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"bg-background-dark/50","backdrop-blur-sm","p-8","rounded-2xl","border","border-white/10","hover:border-primary/50","transition-all","hover:transform","hover:-translate-y-2","fade-in-up","delay-100"],[1,"w-16","h-16","bg-primary/20","rounded-xl","flex","items-center","justify-center","mb-6"],[1,"fas","fa-wifi","text-primary","text-3xl"],[1,"text-white","text-xl","font-bold","mb-3"],[1,"text-white/70","leading-relaxed"],[1,"bg-background-dark/50","backdrop-blur-sm","p-8","rounded-2xl","border","border-white/10","hover:border-primary/50","transition-all","hover:transform","hover:-translate-y-2","fade-in-up","delay-200"],[1,"fas","fa-spa","text-primary","text-3xl"],[1,"bg-background-dark/50","backdrop-blur-sm","p-8","rounded-2xl","border","border-white/10","hover:border-primary/50","transition-all","hover:transform","hover:-translate-y-2","fade-in-up","delay-300"],[1,"fas","fa-dumbbell","text-primary","text-3xl"],[1,"fas","fa-swimming-pool","text-primary","text-3xl"],[1,"fas","fa-utensils","text-primary","text-3xl"],[1,"fas","fa-parking","text-primary","text-3xl"],[1,"fas","fa-concierge-bell","text-primary","text-3xl"],[1,"fas","fa-tshirt","text-primary","text-3xl"],[1,"fas","fa-briefcase","text-primary","text-3xl"],["id","resenas",1,"bg-background-dark","py-24","px-4","sm:px-8","relative"],[1,"text-white/80","text-lg","mt-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"bg-background-dark","p-8","rounded-xl","border","border-white/10","flex","flex-col","hover:border-primary/50","transition-all","fade-in-up","delay-100"],[1,"flex","items-center","text-primary","mb-4","text-xl"],[1,"fas","fa-star"],[1,"text-white/80","italic","flex-grow"],[1,"flex","items-center","mt-6","pt-4","border-t","border-white/10"],[1,"w-12","h-12","rounded-full","bg-primary/20","flex","items-center","justify-center"],[1,"fas","fa-user","text-primary"],[1,"ml-4"],[1,"font-bold","text-white"],[1,"text-sm","text-white/60"],[1,"bg-background-dark","p-8","rounded-xl","border","border-white/10","flex","flex-col","hover:border-primary/50","transition-all","fade-in-up","delay-200"],[1,"bg-background-dark","p-8","rounded-xl","border","border-white/10","flex","flex-col","hover:border-primary/50","transition-all","fade-in-up","delay-300"],[1,"fas","fa-star-half-alt"],[1,"relative","py-24","px-4","sm:px-8","overflow-hidden"],[1,"absolute","inset-0","bg-cover","bg-center","bg-fixed",2,"background-image","url('https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?q=80&w=1920&auto=format&fit=crop')"],[1,"absolute","inset-0","bg-black/80","backdrop-blur-sm"],[1,"text-white/80","mt-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","max-w-4xl","mx-auto"],[1,"bg-[#121212]/5","backdrop-blur-md","p-8","rounded-2xl","border","border-white/10","text-center","hover:bg-[#121212]/10","transition-colors"],[1,"fas","fa-clock","text-primary","text-3xl","mb-4"],[1,"text-primary","font-bold","text-2xl"],[1,"text-white/60","text-sm","mt-2"],[1,"fas","fa-utensils","text-primary","text-3xl","mb-4"],[1,"fas","fa-swimming-pool","text-primary","text-3xl","mb-4"],[1,"bg-background-dark","py-24","px-4","sm:px-8"],[1,"max-w-7xl","mx-auto"],[1,"rounded-3xl","overflow-hidden","border","border-white/10","shadow-2xl","h-[500px]","relative","fade-in-up"],["src",We`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3901.3156733382925!2d-77.04277668561427!3d-12.046373345145943!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c8b5d35db5e9%3A0x3ba4458f6c05e473!2sLima%2C%20Peru!5e0!3m2!1sen!2scl!4v1234567890123!5m2!1sen!2scl`,"width","100%","height","100%","allowfullscreen","","loading","lazy",2,"border","0","filter","grayscale(1) invert(1) contrast(1.2)"],[1,"absolute","bottom-8","left-8","bg-background-dark/90","backdrop-blur-md","p-6","rounded-2xl","border","border-white/10","max-w-xs"],[1,"text-white","font-bold","text-lg","mb-2"],[1,"text-white/70","text-sm","mb-4"],["href","https://maps.google.com","target","_blank",1,"text-primary","text-sm","font-bold","hover:underline","flex","items-center","gap-2"],[1,"fas","fa-directions"],["id","contacto",1,"bg-primary-darker","py-24","px-4","sm:px-8"],[1,"lg:col-span-2"],[1,"bg-[#121212]","p-8","rounded-3xl","border","border-white/5","shadow-2xl"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-2"],[1,"text-sm","font-medium","text-white/60","ml-1"],["type","text","name","name","placeholder","Ej. Juan P\xE9rez","required","",1,"w-full","bg-black/40","border","border-white/10","rounded-xl","px-4","py-3","text-white","placeholder-white/20","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all"],["type","email","name","email","placeholder","juan@ejemplo.com","required","",1,"w-full","bg-black/40","border","border-white/10","rounded-xl","px-4","py-3","text-white","placeholder-white/20","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all"],["type","tel","name","phone","placeholder","+51 999 999 999",1,"w-full","bg-black/40","border","border-white/10","rounded-xl","px-4","py-3","text-white","placeholder-white/20","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all"],["name","message","rows","4","placeholder","\xBFEn qu\xE9 podemos ayudarte?","required","",1,"w-full","bg-black/40","border","border-white/10","rounded-xl","px-4","py-3","text-white","placeholder-white/20","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all","resize-none"],["type","submit",1,"w-full","bg-primary","text-background-dark","font-bold","py-4","rounded-xl","hover:bg-[#121212]","transition-all","duration-300","transform","hover:-translate-y-1","shadow-lg","shadow-primary/20"],["routerLink","/catalogo",1,"flex","min-w-[84px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-12","px-6","bg-primary","text-background-dark","text-base","font-bold","leading-normal","tracking-[0.015em]","hover:bg-opacity-80","transition-opacity"],["routerLink","/login",1,"flex","min-w-[84px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-12","px-6","bg-primary","text-background-dark","text-base","font-bold","leading-normal","tracking-[0.015em]","hover:bg-opacity-80","transition-opacity"],[1,"fas","fa-user-circle","mr-2"]],template:function(a,r){if(a&1&&(t(0,"div",1),h(1,"app-header"),t(2,"section",2)(3,"div",3),h(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),i(),h(8,"div",8),t(9,"div",9)(10,"div",10)(11,"h1",11),n(12," Bienvenido a Oasis Digital "),i(),t(13,"h2",12),n(14," Tu escapada de lujo te espera. Experimenta una comodidad y un servicio incomparables. "),i()(),t(15,"div",13),g(16,Wt,4,0,"ng-container",14),y(17,"async"),g(18,Bt,4,0,"ng-template",null,0,te),t(20,"a",15),h(21,"i",16),t(22,"span",17),n(23,"Ver Habitaciones"),i()()()()(),t(24,"section",18)(25,"div",19)(26,"div",20)(27,"div",21),n(28," SOBRE NOSOTROS "),i(),t(29,"h2",22),n(30," Nuestra Misi\xF3n "),i(),t(31,"p",23),n(32," Proporcionar un santuario de lujo y tranquilidad, combinando tecnolog\xEDa de vanguardia con una hospitalidad impecable. Nos dedicamos a crear experiencias personalizadas que superen las expectativas de cada hu\xE9sped, cuidando cada detalle para garantizar una estancia inolvidable. "),i()(),t(33,"div",24),h(34,"img",25),i()()(),t(35,"section",26)(36,"div",27)(37,"div",28),h(38,"img",29),i(),t(39,"div",30)(40,"div",21),n(41," HACIA EL FUTURO "),i(),t(42,"h2",22),n(43," Nuestra Visi\xF3n "),i(),t(44,"p",23),n(45," Ser reconocidos globalmente como el referente indiscutible en hoteler\xEDa de lujo digital. Aspiramos a redefinir el concepto de hospitalidad integrando innovaci\xF3n tecnol\xF3gica y calidez humana, estableciendo nuevos est\xE1ndares de excelencia y sostenibilidad en la industria. "),i()()()(),t(46,"section",31)(47,"div",32),h(48,"div",33)(49,"div",34),i(),t(50,"div",35)(51,"div",36)(52,"h2",37)(53,"span",38),n(54,"Nuestras"),i(),n(55," Habitaciones "),i(),t(56,"p",39),n(57," Espacios dise\xF1ados meticulosamente para tu m\xE1ximo confort y descanso. "),i()(),t(58,"div",40)(59,"div",41)(60,"div",42),h(61,"div",43),t(62,"div",44),n(63," Premium "),i()(),t(64,"div",45)(65,"h3",46),n(66,"Suite Familiar"),i(),t(67,"p",47),n(68," Espacio amplio con m\xFAltiples ambientes para toda la familia. "),i(),t(69,"div",48)(70,"div")(71,"span",49),n(72,"Desde"),i(),t(73,"span",50),n(74,"S/. 150.0"),i()(),t(75,"a",51),h(76,"i",52),i()()()(),t(77,"div",53)(78,"div",42),h(79,"div",54),i(),t(80,"div",45)(81,"h3",46),n(82,"Suite Junior"),i(),t(83,"p",47),n(84," Elegancia y confort con sala de estar y balc\xF3n privado. "),i(),t(85,"div",48)(86,"div")(87,"span",49),n(88,"Desde"),i(),t(89,"span",50),n(90,"S/. 120.0"),i()(),t(91,"a",51),h(92,"i",52),i()()()(),t(93,"div",55)(94,"div",42),h(95,"div",56),i(),t(96,"div",45)(97,"h3",46),n(98,"Habitaci\xF3n Doble"),i(),t(99,"p",47),n(100," Ideal para parejas, con cama King y acabados modernos. "),i(),t(101,"div",48)(102,"div")(103,"span",49),n(104,"Desde"),i(),t(105,"span",50),n(106,"S/. 80.0"),i()(),t(107,"a",51),h(108,"i",52),i()()()(),t(109,"div",57)(110,"div",42),h(111,"div",58),i(),t(112,"div",45)(113,"h3",46),n(114,"Habitaci\xF3n Simple"),i(),t(115,"p",47),n(116," Confort eficiente para el viajero de negocios moderno. "),i(),t(117,"div",48)(118,"div")(119,"span",49),n(120,"Desde"),i(),t(121,"span",50),n(122,"S/. 50.0"),i()(),t(123,"a",51),h(124,"i",52),i()()()()()()(),t(125,"section",59)(126,"div",60),h(127,"div",61)(128,"div",62),i(),t(129,"div",35)(130,"div",36)(131,"h2",37),n(132," Nuestros "),t(133,"span",38),n(134,"Servicios"),i()(),t(135,"p",39),n(136," Amenidades de lujo dise\xF1adas para hacer tu estad\xEDa verdaderamente excepcional "),i()(),t(137,"div",63)(138,"div",64)(139,"div",65),h(140,"i",66),i(),t(141,"h3",67),n(142," WiFi de Alta Velocidad "),i(),t(143,"p",68),n(144," Conexi\xF3n gratuita de fibra \xF3ptica en todas las instalaciones para que te mantengas conectado. "),i()(),t(145,"div",69)(146,"div",65),h(147,"i",70),i(),t(148,"h3",67),n(149,"Spa & Wellness"),i(),t(150,"p",68),n(151," Centro de bienestar con masajes, sauna y tratamientos rejuvenecedores. "),i()(),t(152,"div",71)(153,"div",65),h(154,"i",72),i(),t(155,"h3",67),n(156,"Gimnasio Completo"),i(),t(157,"p",68),n(158," Equipamiento de \xFAltima generaci\xF3n disponible 24/7 para tu entrenamiento. "),i()(),t(159,"div",64)(160,"div",65),h(161,"i",73),i(),t(162,"h3",67),n(163,"Piscina Climatizada"),i(),t(164,"p",68),n(165," Piscina infinity con vista panor\xE1mica y \xE1rea de jacuzzi exclusiva. "),i()(),t(166,"div",69)(167,"div",65),h(168,"i",74),i(),t(169,"h3",67),n(170,"Restaurante Gourmet"),i(),t(171,"p",68),n(172," Gastronom\xEDa internacional y local con chef especializado y servicio a la habitaci\xF3n. "),i()(),t(173,"div",71)(174,"div",65),h(175,"i",75),i(),t(176,"h3",67),n(177," Estacionamiento Seguro "),i(),t(178,"p",68),n(179," Parking privado con seguridad 24/7 y servicio de valet disponible. "),i()(),t(180,"div",64)(181,"div",65),h(182,"i",76),i(),t(183,"h3",67),n(184," Servicio de Conserjer\xEDa "),i(),t(185,"p",68),n(186," Asistencia personalizada para reservas, tours y cualquier necesidad. "),i()(),t(187,"div",69)(188,"div",65),h(189,"i",77),i(),t(190,"h3",67),n(191," Servicio de Lavander\xEDa "),i(),t(192,"p",68),n(193," Lavado, planchado y tintorer\xEDa express disponibles todos los d\xEDas. "),i()(),t(194,"div",71)(195,"div",65),h(196,"i",78),i(),t(197,"h3",67),n(198,"Centro de Negocios"),i(),t(199,"p",68),n(200," Salas de reuniones equipadas y servicios de impresi\xF3n para profesionales. "),i()()()()(),t(201,"section",79)(202,"div",35)(203,"div",36)(204,"h2",37),n(205," Lo que dicen "),t(206,"span",38),n(207,"nuestros hu\xE9spedes"),i()(),t(208,"p",80),n(209," Experiencias reales de quienes nos visitaron "),i()(),t(210,"div",81)(211,"div",82)(212,"div",83),h(213,"i",84)(214,"i",84)(215,"i",84)(216,"i",84)(217,"i",84),i(),t(218,"p",85),n(219,' "Una experiencia inolvidable. El servicio fue impecable y las instalaciones son de otro nivel. \xA1Volveremos sin duda!" '),i(),t(220,"div",86)(221,"div",87),h(222,"i",88),i(),t(223,"div",89)(224,"p",90),n(225,"Mar\xEDa Gonz\xE1lez"),i(),t(226,"p",91),n(227,"Hu\xE9sped Verificado"),i()()()(),t(228,"div",92)(229,"div",83),h(230,"i",84)(231,"i",84)(232,"i",84)(233,"i",84)(234,"i",84),i(),t(235,"p",85),n(236,' "Excelente relaci\xF3n calidad-precio. El personal es muy amable. La vista desde la piscina es espectacular." '),i(),t(237,"div",86)(238,"div",87),h(239,"i",88),i(),t(240,"div",89)(241,"p",90),n(242,"Carlos Rodr\xEDguez"),i(),t(243,"p",91),n(244,"Viajero de Negocios"),i()()()(),t(245,"div",93)(246,"div",83),h(247,"i",84)(248,"i",84)(249,"i",84)(250,"i",84)(251,"i",94),i(),t(252,"p",85),n(253,' "El servicio es excepcional y las instalaciones de primer nivel. La ubicaci\xF3n perfecta para explorar la ciudad." '),i(),t(254,"div",86)(255,"div",87),h(256,"i",88),i(),t(257,"div",89)(258,"p",90),n(259,"Ana Mart\xEDnez"),i(),t(260,"p",91),n(261,"Turista"),i()()()()()()(),t(262,"section",95),h(263,"div",96)(264,"div",97),t(265,"div",35)(266,"div",36)(267,"h2",37),n(268," Horarios de Atenci\xF3n "),i(),t(269,"p",98),n(270,"Siempre disponibles para ti"),i()(),t(271,"div",99)(272,"div",100),h(273,"i",101),t(274,"h3",46),n(275,"Recepci\xF3n"),i(),t(276,"p",102),n(277,"24 Horas"),i(),t(278,"p",103),n(279,"Todos los d\xEDas"),i()(),t(280,"div",100),h(281,"i",104),t(282,"h3",46),n(283,"Restaurante"),i(),t(284,"p",102),n(285,"06:00 - 23:00"),i(),t(286,"p",103),n(287,"Desayuno, Almuerzo, Cena"),i()(),t(288,"div",100),h(289,"i",105),t(290,"h3",46),n(291,"\xC1reas Comunes"),i(),t(292,"p",102),n(293,"08:00 - 22:00"),i(),t(294,"p",103),n(295,"Piscina, Gym, Spa"),i()()()()(),t(296,"section",106)(297,"div",107)(298,"div",36)(299,"h2",37),n(300," Nuestra Ubicaci\xF3n "),i()(),t(301,"div",108),h(302,"iframe",109),t(303,"div",110)(304,"h4",111),n(305,"Oasis Digital Hotel"),i(),t(306,"p",112),n(307," Av. Principal 123, Miraflores, Lima - Per\xFA "),i(),t(308,"a",113),h(309,"i",114),n(310," C\xF3mo llegar "),i()()()()(),t(311,"section",115)(312,"div",116)(313,"div",117)(314,"form",118)(315,"div",119)(316,"div",120)(317,"label",121),n(318,"Nombre Completo"),i(),h(319,"input",122),i(),t(320,"div",120)(321,"label",121),n(322,"Correo Electr\xF3nico"),i(),h(323,"input",123),i()(),t(324,"div",120)(325,"label",121),n(326,"Tel\xE9fono"),i(),h(327,"input",124),i(),t(328,"div",120)(329,"label",121),n(330,"Mensaje"),i(),h(331,"textarea",125),i(),t(332,"button",126),n(333," Enviar Mensaje "),i()()()()()()),a&2){let s=ee(19);l(16),c("ngIf",T(17,2,r.currentUser$))("ngIfElse",s)}},dependencies:[F,R,Z,N,rt],styles:['.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.carousel-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 1.5s ease-in-out;background-size:cover;background-position:center}.carousel-slide.active[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.delay-100[_ngcontent-%COMP%]{animation-delay:.1s;animation-fill-mode:both}.delay-200[_ngcontent-%COMP%]{animation-delay:.2s;animation-fill-mode:both}.delay-300[_ngcontent-%COMP%]{animation-delay:.3s;animation-fill-mode:both}.delay-400[_ngcontent-%COMP%]{animation-delay:.4s;animation-fill-mode:both}.room-card-hover[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.4,0,.2,1);border:1px solid rgba(255,255,255,.1)}.room-card-hover[_ngcontent-%COMP%]:hover{transform:translateY(-10px);border-color:#2bee79;box-shadow:0 20px 40px -5px #2bee7926}.room-card-hover[_ngcontent-%COMP%]:hover   .room-img[_ngcontent-%COMP%]{transform:scale(1.1)}']})}}return o})();function qt(o,d){if(o&1&&(t(0,"div",17),n(1),i()),o&2){let e=m();l(),b(" ",e.errorMessage," ")}}function Ut(o,d){if(o&1&&(t(0,"div",18),n(1),i()),o&2){let e=m();l(),b(" ",e.successMessage," ")}}function Gt(o,d){if(o&1){let e=v();t(0,"div")(1,"h1",19),n(2," Bienvenido de Nuevo "),i(),t(3,"form",20),p("ngSubmit",function(){u(e);let r=m();return x(r.onLogin())}),t(4,"div",21)(5,"label",22)(6,"p",23),n(7," Usuario / Correo "),i(),t(8,"input",24),E("ngModelChange",function(r){u(e);let s=m();return C(s.loginData.username,r)||(s.loginData.username=r),x(r)}),i()(),t(9,"label",22)(10,"p",23),n(11," Contrase\xF1a "),i(),t(12,"div",25)(13,"input",26),E("ngModelChange",function(r){u(e);let s=m();return C(s.loginData.password,r)||(s.loginData.password=r),x(r)}),i(),t(14,"button",27),p("click",function(){u(e);let r=m();return x(r.togglePassword())}),t(15,"span",3),n(16,"visibility"),i()()()()(),t(17,"div",28)(18,"a",29),n(19,"\xBFOlvidaste tu contrase\xF1a?"),i()(),t(20,"div",30)(21,"button",31),n(22," Ingresar "),i()()()()}if(o&2){let e=m();l(8),S("ngModel",e.loginData.username),l(5),c("type",e.showPassword?"text":"password"),S("ngModel",e.loginData.password)}}function $t(o,d){if(o&1){let e=v();t(0,"div")(1,"h1",19),n(2," Crear Cuenta Nueva "),i(),t(3,"form",20),p("ngSubmit",function(){u(e);let r=m();return x(r.onRegister())}),t(4,"div",21)(5,"label",22)(6,"p",23),n(7," Nombre Completo "),i(),t(8,"input",32),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.nombres,r)||(s.registerData.nombres=r),x(r)}),i()(),t(9,"label",22)(10,"p",23),n(11," Apellidos "),i(),t(12,"input",33),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.apellidos,r)||(s.registerData.apellidos=r),x(r)}),i()(),t(13,"label",22)(14,"p",23),n(15," Nombre de Usuario "),i(),t(16,"input",34),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.username,r)||(s.registerData.username=r),x(r)}),i()(),t(17,"label",22)(18,"p",23),n(19," Tel\xE9fono "),i(),t(20,"input",35),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.telefono,r)||(s.registerData.telefono=r),x(r)}),i()(),t(21,"label",22)(22,"p",23),n(23," Correo Electr\xF3nico "),i(),t(24,"input",36),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.email,r)||(s.registerData.email=r),x(r)}),i()(),t(25,"label",22)(26,"p",23),n(27," DNI "),i(),t(28,"input",37),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.dni,r)||(s.registerData.dni=r),x(r)}),i()(),t(29,"label",22)(30,"p",23),n(31," Contrase\xF1a "),i(),t(32,"div",25)(33,"input",38),E("ngModelChange",function(r){u(e);let s=m();return C(s.registerData.password,r)||(s.registerData.password=r),x(r)}),i(),t(34,"button",27),p("click",function(){u(e);let r=m();return x(r.toggleRegisterPassword())}),t(35,"span",3),n(36,"visibility"),i()()()()(),t(37,"div",30)(38,"button",31),n(39," Registrarse "),i()()()()}if(o&2){let e=m();l(8),S("ngModel",e.registerData.nombres),l(4),S("ngModel",e.registerData.apellidos),l(4),S("ngModel",e.registerData.username),l(4),S("ngModel",e.registerData.telefono),l(4),S("ngModel",e.registerData.email),l(4),S("ngModel",e.registerData.dni),l(5),c("type",e.showRegisterPassword?"text":"password"),S("ngModel",e.registerData.password)}}var at=(()=>{class o{constructor(e,a){this.router=e,this.authService=a,this.activeTab="login",this.showPassword=!1,this.showRegisterPassword=!1,this.loginData={username:"",password:""},this.registerData={nombres:"",apellidos:"",username:"",telefono:"",email:"",dni:"",password:""},this.errorMessage=null,this.successMessage=null}setActiveTab(e){this.activeTab=e,this.errorMessage=null,this.successMessage=null}togglePassword(){this.showPassword=!this.showPassword}toggleRegisterPassword(){this.showRegisterPassword=!this.showRegisterPassword}onLogin(){if(this.errorMessage=null,!this.loginData.username||!this.loginData.password){this.errorMessage="Por favor ingrese usuario y contrase\xF1a.";return}this.authService.login(this.loginData).subscribe({next:e=>{window.showLoginSuccessAnimation?window.showLoginSuccessAnimation():console.warn("showLoginSuccessAnimation not found on window"),setTimeout(()=>{e.role==="ROLE_ADMIN"?this.router.navigate(["/dashboard"]):e.role==="ROLE_RECEPCIONISTA"?this.router.navigate(["/recepcion"]):this.router.navigate(["/"])},1500)},error:e=>{console.error("Login error",e),this.errorMessage="Credenciales incorrectas o error en el servidor."}})}onRegister(){this.errorMessage=null,this.authService.register(this.registerData).subscribe({next:e=>{this.successMessage="Cliente registrado exitosamente. Por favor inicie sesi\xF3n.",this.setActiveTab("login")},error:e=>{console.error("Register error",e),this.errorMessage="Error al registrar. El usuario podr\xEDa ya existir."}})}static{this.\u0275fac=function(a){return new(a||o)(w(Q),w(j))}}static{this.\u0275cmp=I({type:o,selectors:[["app-login"]],standalone:!0,features:[M],decls:25,vars:16,consts:[[1,"relative","flex","min-h-screen","w-full","flex-col","items-center","justify-center","bg-background-dark","p-4","group/design-root",2,"font-family","'Plus Jakarta Sans', sans-serif"],[1,"absolute","inset-0","z-0"],[1,"flex","items-center","justify-center","bg-primary/20","rounded-full","size-10","text-primary"],[1,"material-symbols-outlined"],[1,"relative","z-10","flex","w-full","max-w-md","flex-col","items-center"],[1,"mb-8","flex","items-center","gap-3"],[1,"material-symbols-outlined","text-[#D4AF37]","text-4xl"],[1,"text-3xl","font-bold","tracking-wider","text-white"],[1,"flex","w-full","flex-col","rounded-xl","border","border-[#D4AF37]/20","bg-background-dark/80","backdrop-blur-sm","p-2","shadow-2xl","shadow-black/30"],[1,"layout-content-container","flex","flex-col","flex-1"],[1,"flex","px-2","py-3"],[1,"flex","h-12","flex-1","items-center","justify-center","rounded-lg","bg-black/30","p-1"],[1,"flex","cursor-pointer","h-full","grow","items-center","justify-center","overflow-hidden","rounded-lg","px-2",3,"click"],[1,"truncate","font-medium","text-sm"],["class","mx-4 mb-2 p-3 rounded-lg bg-red-500/20 border border-red-500/50 text-red-400 text-sm text-center",4,"ngIf"],["class","mx-4 mb-2 p-3 rounded-lg bg-green-500/20 border border-green-500/50 text-green-400 text-sm text-center",4,"ngIf"],[4,"ngIf"],[1,"mx-4","mb-2","p-3","rounded-lg","bg-red-500/20","border","border-red-500/50","text-red-400","text-sm","text-center"],[1,"mx-4","mb-2","p-3","rounded-lg","bg-green-500/20","border","border-green-500/50","text-green-400","text-sm","text-center"],[1,"text-white","tracking-light","text-[32px]","font-bold","leading-tight","px-4","text-center","pb-3","pt-4"],[3,"ngSubmit"],[1,"flex","flex-col","gap-4","px-4","py-3"],[1,"flex","flex-col","min-w-40","flex-1"],[1,"text-gray-200","text-sm","font-medium","leading-normal","pb-2"],["name","username","placeholder","Introduce tu usuario o correo","type","text","required","","autofocus","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],[1,"relative","flex","w-full","flex-1","items-stretch"],["name","password","placeholder","Introduce tu contrase\xF1a","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","pr-12","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","type","ngModel"],["type","button",1,"absolute","right-0","top-0","flex","h-full","items-center","justify-center","px-3","text-gray-400","hover:text-[#D4AF37]","transition-colors",3,"click"],[1,"px-4","py-2","text-right"],["href","#",1,"text-sm","text-[#D4AF37]/80","hover:text-[#D4AF37]","hover:underline"],[1,"p-4"],["type","submit",1,"flex","h-14","w-full","items-center","justify-center","rounded-lg","bg-primary","px-6","text-base","font-bold","text-white","shadow-[0_4px_14px_rgba(4,99,7,0.5)]","transition-all","duration-300","hover:bg-primary/90","active:scale-95"],["name","nombres","placeholder","Tu nombre","type","text","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","apellidos","placeholder","Tus apellidos","type","text","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","username","placeholder","Elige un nombre de usuario","type","text","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","telefono","placeholder","999 999 999","type","tel","pattern","\\d{9}","maxlength","9","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","email","placeholder","tu@email.com","type","email","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","dni","placeholder","12345678","type","text","pattern","\\d{8}","maxlength","8","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","password","placeholder","M\xEDnimo 6 caracteres","required","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-gray-200","focus:outline-0","border","border-gray-700","bg-black/30","focus:border-[#D4AF37]","focus:ring","focus:ring-[#D4AF37]/50","h-12","placeholder:text-white/60","p-[15px]","pr-12","text-base","font-normal","leading-normal","transition-all","duration-300",3,"ngModelChange","type","ngModel"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),n(4,"person"),i()()(),t(5,"div",4)(6,"div",5)(7,"span",6),n(8,"spa"),i(),t(9,"h1",7),n(10," Oasis Digital "),i()(),t(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),p("click",function(){return r.setActiveTab("login")}),t(16,"span",13),n(17,"Iniciar Sesi\xF3n"),i()(),t(18,"label",12),p("click",function(){return r.setActiveTab("register")}),t(19,"span",13),n(20,"Registrarse"),i()()()(),g(21,qt,2,1,"div",14)(22,Ut,2,1,"div",15)(23,Gt,23,3,"div",16)(24,$t,40,8,"div",16),i()()()()),a&2&&(l(15),ne("bg-primary",r.activeTab==="login")("text-white",r.activeTab==="login")("text-gray-300",r.activeTab!=="login"),l(3),ne("bg-primary",r.activeTab==="register")("text-white",r.activeTab==="register")("text-gray-300",r.activeTab!=="register"),l(3),c("ngIf",r.errorMessage),l(),c("ngIf",r.successMessage),l(),c("ngIf",r.activeTab==="login"),l(),c("ngIf",r.activeTab==="register"))},dependencies:[F,R,$,ae,q,U,re,le,pe,De,G,oe],styles:['.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})}}return o})();var Zt=()=>["/notificaciones"],Jt=o=>({id:o}),Yt=(o,d)=>({"bg-white/5":o,"opacity-70":d}),Kt=(o,d,e,a)=>({"text-green-400 bg-green-400/10 border-green-400/20":o,"text-yellow-400 bg-yellow-400/10 border-yellow-400/20":d,"text-gray-400 bg-gray-400/10 border-gray-400/20":e,"text-red-400 bg-red-400/10 border-red-400/20":a});function Qt(o,d){o&1&&h(0,"span",76)}function Xt(o,d){if(o&1){let e=v();t(0,"div",86),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",87),n(2),i(),t(3,"p",88),n(4),i(),t(5,"div",89)(6,"span",90),n(7),i(),t(8,"p",91),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,Zt))("queryParams",V(11,Jt,e.id))("ngClass",A(13,Yt,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function ei(o,d){o&1&&(t(0,"div",92)(1,"span",93),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function ti(o,d){if(o&1&&(t(0,"div",77)(1,"div",78)(2,"h3",79),n(3,"Notificaciones"),i(),t(4,"span",80),n(5),i()(),t(6,"div",81),g(7,Xt,11,16,"div",82)(8,ei,4,0,"div",83),i(),t(9,"div",84)(10,"a",85),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function ii(o,d){if(o&1&&(t(0,"tr",94)(1,"td",72)(2,"div",95)(3,"div",96)(4,"span"),n(5),i()(),t(6,"span",97),n(7),i()()(),t(8,"td",98),n(9),y(10,"date"),i(),t(11,"td",98),n(12),y(13,"date"),i(),t(14,"td",72)(15,"span",99),n(16),i(),t(17,"span",100),n(18),i()(),t(19,"td",72)(20,"span",101),n(21),i()()()),o&2){let e=d.$implicit;l(5),_(e.cliente.nombres.charAt(0)),l(2),z(" ",e.cliente.nombres," ",e.cliente.apellidos," "),l(2),b(" ",k(10,9,e.fechaInicio,"dd MMM, yyyy")," "),l(3),b(" ",k(13,12,e.fechaFin,"dd MMM, yyyy")," "),l(4),b(" ",e.habitacion.numero," "),l(2),b(" ",e.habitacion.tipo," "),l(2),c("ngClass",ce(15,Kt,e.estadoReserva==="ACTIVA",e.estadoReserva==="PENDIENTE"||e.estadoReserva==="PROCESANDO",e.estadoReserva==="FINALIZADA",e.estadoReserva==="CANCELADA")),l(),b(" ",e.estadoReserva," ")}}function ni(o,d){o&1&&(t(0,"tr")(1,"td",102)(2,"span",103),n(3,"event_busy"),i(),n(4," No hay reservas recientes. "),i()())}_e.register(...Xe);var dt=(()=>{class o{constructor(e,a,r,s,f){this.reservaService=e,this.habitacionService=a,this.dashboardService=r,this.authService=s,this.router=f,this.totalHabitaciones=0,this.habitacionesOcupadas=0,this.habitacionesMantenimiento=0,this.habitacionesDisponibles=0,this.ocupacionPorcentaje=0,this.ingresosTotales=0,this.checkInsHoy=0,this.checkOutsHoy=0,this.ultimasReservas=[],this.showNotifications=!1,this.notifications=[],this.unreadCount=0}ngOnInit(){this.authService.currentUser$.subscribe(e=>{e&&e.role==="ROLE_RECEPCIONISTA"&&this.router.navigate(["/recepcion"])}),this.cargarDatos(),this.loadNotifications()}ngAfterViewInit(){}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showNotifications&&this.notifications.length===0&&console.log("No notifications found (empty list).")}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}cargarDatos(){He({habitaciones:this.habitacionService.getAll(),reservas:this.reservaService.getAll()}).subscribe({next:e=>{this.totalHabitaciones=e.habitaciones.length,this.habitacionesOcupadas=e.habitaciones.filter(f=>f.estado==="OCUPADA").length,this.habitacionesMantenimiento=e.habitaciones.filter(f=>f.estado==="MANTENIMIENTO").length,this.habitacionesDisponibles=e.habitaciones.filter(f=>f.estado==="DISPONIBLE").length,this.ocupacionPorcentaje=this.totalHabitaciones>0?Math.round(this.habitacionesOcupadas*100/this.totalHabitaciones):0;let r=new Date().toLocaleDateString("en-CA"),s=e.reservas.map(f=>{let K=0;f.servicios&&Array.isArray(f.servicios)&&(K=f.servicios.reduce((Se,Et)=>{let Oe=Et.split(" - S/.");return Se+(Oe.length===2?parseFloat(Oe[1]):0)},0));let xe=(f.habitacionPrecio||0)*(f.diasEstadia||1),he=Math.max(0,xe+K-(f.montoDescuento||0));return ke(ie({},f),{total:he})});this.ingresosTotales=s.filter(f=>f.estadoReserva!=="CANCELADA").reduce((f,K)=>f+(K.total||0),0),this.checkInsHoy=e.reservas.filter(f=>f.fechaInicio===r).length,this.checkOutsHoy=e.reservas.filter(f=>{let K=f.fechaFin===r&&f.estadoReserva!=="CANCELADA",xe=f.estadoReserva==="FINALIZADA"&&f.fechaSalidaReal===r;return K||xe}).length,this.ultimasReservas=[...e.reservas].sort((f,K)=>K.id-f.id).slice(0,5),this.initCharts()},error:e=>console.error("Error cargando datos del dashboard",e)})}initCharts(){_e.defaults.color="#9ca3af",_e.defaults.font.family="Outfit";let e=document.getElementById("habitacionesChart");e&&new _e(e,{type:"doughnut",data:{labels:["Ocupadas","Mantenimiento","Disponibles"],datasets:[{data:[this.habitacionesOcupadas,this.habitacionesMantenimiento,this.habitacionesDisponibles],backgroundColor:["#046307","#D4AF37","rgba(255,255,255,0.1)"],borderWidth:0,hoverOffset:10,borderRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"85%",plugins:{legend:{display:!1}},animation:{animateScale:!0,animateRotate:!0}}});let a=document.getElementById("ingresosChart");if(a){let r=a.getContext("2d")?.createLinearGradient(0,0,0,400);r?.addColorStop(0,"rgba(4, 99, 7, 0.5)"),r?.addColorStop(1,"rgba(4, 99, 7, 0.0)");let s=Array.from({length:10},(xe,he)=>{let Se=new Date;return Se.setDate(Se.getDate()-(9-he)*3),Se.toLocaleDateString("es-ES",{day:"numeric",month:"short"})}),f=this.ingresosTotales/50,K=s.map(()=>f+Math.random()*f);new _e(a,{type:"line",data:{labels:s,datasets:[{label:"Ingresos",data:K,borderColor:"#046307",backgroundColor:r,borderWidth:3,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,pointHoverBackgroundColor:"#D4AF37",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",bodyColor:"#fff",padding:10,cornerRadius:8,displayColors:!1}},scales:{x:{grid:{display:!1},ticks:{maxTicksLimit:8,color:"rgba(255,255,255,0.4)"}},y:{beginAtZero:!0,grid:{color:"rgba(255,255,255,0.05)"},ticks:{color:"rgba(255,255,255,0.4)"}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}})}}static{this.\u0275fac=function(a){return new(a||o)(w(we),w(ye),w(O),w(j),w(Q))}}static{this.\u0275cmp=I({type:o,selectors:[["app-dashboard"]],standalone:!0,features:[M],decls:140,vars:14,consts:[[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"absolute","bottom-[-10%]","left-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-accent/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","items-center","gap-2","text-sm","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-xs"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40"],[1,"material-symbols-outlined","text-lg"],["type","text","placeholder","Buscar...",1,"pl-9","pr-4","py-2","rounded-full","bg-white/5","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:outline-none","focus:ring-2","focus:ring-primary/50","w-64","transition-all","focus:w-72"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"glass-card","rounded-2xl","p-6","relative","overflow-hidden","group"],[1,"absolute","top-0","right-0","p-4","opacity-10","group-hover:opacity-20","transition-opacity"],[1,"material-symbols-outlined","text-6xl","text-primary"],[1,"flex","flex-col","gap-1","relative","z-10"],[1,"text-white/60","text-sm","font-medium","uppercase","tracking-wider"],[1,"flex","items-baseline","gap-2","mt-2"],[1,"text-white","text-4xl","font-bold","tracking-tight"],[1,"text-primary","text-sm","font-bold","bg-primary/10","px-2","py-0.5","rounded-full","border","border-primary/20"],[1,"text-white/40","text-xs","mt-2"],[1,"material-symbols-outlined","text-6xl","text-accent"],[1,"material-symbols-outlined","text-6xl","text-blue-400"],[1,"flex","items-center","gap-8","mt-2"],[1,"text-2xl","font-bold","text-white"],[1,"text-xs","text-white/40","uppercase"],[1,"w-px","h-8","bg-white/10"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6","mt-6"],[1,"lg:col-span-2","glass-panel","rounded-2xl","p-6"],[1,"flex","justify-between","items-start","mb-6"],[1,"text-lg","font-bold","text-white"],[1,"text-sm","text-white/40"],[1,"flex","items-center","gap-2","bg-primary/10","px-3","py-1","rounded-full","border","border-primary/20"],[1,"material-symbols-outlined","text-primary","text-sm"],[1,"text-sm","font-bold","text-primary"],[1,"relative","h-[300px]","w-full"],["id","ingresosChart"],[1,"glass-panel","rounded-2xl","p-6","flex","flex-col"],[1,"text-lg","font-bold","text-white","mb-2"],[1,"relative","flex-1","flex","items-center","justify-center","min-h-[200px]"],["id","habitacionesChart"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","pointer-events-none"],[1,"text-4xl","font-black","text-white"],[1,"text-xs","text-white/40","uppercase","tracking-widest"],[1,"grid","grid-cols-2","gap-3","mt-4"],[1,"flex","items-center","gap-2","bg-white/5","p-2","rounded-lg"],[1,"w-2","h-2","rounded-full","bg-primary","shadow-[0_0_8px_var(--color-primary)]"],[1,"text-xs","text-white/70"],[1,"w-2","h-2","rounded-full","bg-accent","shadow-[0_0_8px_var(--color-accent)]"],[1,"flex","items-center","gap-2","bg-white/5","p-2","rounded-lg","col-span-2"],[1,"w-2","h-2","rounded-full","bg-white/20"],[1,"mt-8"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold","text-white"],["routerLink","/reservas",1,"text-sm","text-primary","hover:text-primary/80","font-medium","flex","items-center","gap-1","transition-colors"],[1,"material-symbols-outlined","text-sm"],[1,"glass-panel","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"bg-white/5","text-xs","text-white/40","uppercase","tracking-wider","font-medium"],[1,"px-6","py-4"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"hover:bg-white/5","transition-colors","group"],[1,"flex","items-center","gap-3"],[1,"size-8","rounded-full","bg-gradient-to-br","from-gray-700","to-gray-900","flex","items-center","justify-center","text-xs","font-bold","text-white","border","border-white/10"],[1,"font-medium","text-white","group-hover:text-primary","transition-colors"],[1,"px-6","py-4","text-white/60"],[1,"text-white/80","font-mono","bg-white/5","px-2","py-1","rounded","text-xs"],[1,"text-white/40","text-xs","ml-1"],[1,"px-3","py-1","text-xs","font-bold","rounded-full","border",3,"ngClass"],["colspan","5",1,"px-6","py-12","text-center","text-white/30","flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-4xl","opacity-50"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"div",2)(4,"div",3),h(5,"div",4)(6,"div",5),i(),t(7,"header",6)(8,"div",7)(9,"a",8),n(10,"Inicio"),i(),t(11,"span",9),n(12,"chevron_right"),i(),t(13,"span",10),n(14,"Panel General"),i()(),t(15,"div",11)(16,"div",12)(17,"span",13)(18,"span",14),n(19,"search"),i()(),h(20,"input",15),i(),t(21,"div",16)(22,"button",17),p("click",function(){return r.toggleNotifications()}),t(23,"span",18),n(24,"notifications"),i(),g(25,Qt,1,0,"span",19),i(),g(26,ti,12,3,"div",20),i()()(),t(27,"main",21)(28,"div",22)(29,"div",23)(30,"div",24)(31,"div",25)(32,"span",26),n(33,"bed"),i()(),t(34,"div",27)(35,"p",28),n(36," Ocupaci\xF3n Actual "),i(),t(37,"div",29)(38,"p",30),n(39),i(),t(40,"span",31),n(41),i()(),t(42,"p",32),n(43,"Habitaciones ocupadas"),i()()(),t(44,"div",24)(45,"div",25)(46,"span",33),n(47,"payments"),i()(),t(48,"div",27)(49,"p",28),n(50," Ingresos Totales "),i(),t(51,"div",29)(52,"p",30),n(53),y(54,"number"),i()(),t(55,"p",32),n(56,"Acumulado hist\xF3rico"),i()()(),t(57,"div",24)(58,"div",25)(59,"span",34),n(60,"login"),i()(),t(61,"div",27)(62,"p",28),n(63," Flujo de Hoy "),i(),t(64,"div",35)(65,"div")(66,"p",36),n(67),i(),t(68,"p",37),n(69,"Check-ins"),i()(),h(70,"div",38),t(71,"div")(72,"p",36),n(73),i(),t(74,"p",37),n(75,"Check-outs"),i()()()()()(),t(76,"div",39)(77,"div",40)(78,"div",41)(79,"div")(80,"h3",42),n(81," Tendencia de Ingresos "),i(),t(82,"p",43),n(83,"\xDAltimos 30 d\xEDas"),i()(),t(84,"div",44)(85,"span",45),n(86,"trending_up"),i(),t(87,"span",46),n(88,"+8.2%"),i()()(),t(89,"div",47),h(90,"canvas",48),i()(),t(91,"div",49)(92,"h3",50),n(93,"Distribuci\xF3n"),i(),t(94,"div",51),h(95,"canvas",52),t(96,"div",53)(97,"span",54),n(98),i(),t(99,"span",55),n(100,"Ocupadas"),i()()(),t(101,"div",56)(102,"div",57),h(103,"span",58),t(104,"span",59),n(105,"Ocupadas"),i()(),t(106,"div",57),h(107,"span",60),t(108,"span",59),n(109,"Mantenimiento"),i()(),t(110,"div",61),h(111,"span",62),t(112,"span",59),n(113,"Disponibles"),i()()()()(),t(114,"div",63)(115,"div",64)(116,"h2",65),n(117,"\xDAltimas Reservas"),i(),t(118,"a",66),n(119," Ver todas "),t(120,"span",67),n(121,"arrow_forward"),i()()(),t(122,"div",68)(123,"div",69)(124,"table",70)(125,"thead",71)(126,"tr")(127,"th",72),n(128,"Hu\xE9sped"),i(),t(129,"th",72),n(130,"Check-in"),i(),t(131,"th",72),n(132,"Check-out"),i(),t(133,"th",72),n(134,"Habitaci\xF3n"),i(),t(135,"th",72),n(136,"Estado"),i()()(),t(137,"tbody",73),g(138,ii,22,20,"tr",74)(139,ni,5,0,"tr",75),i()()()()()()()()()),a&2&&(l(25),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(13),b(" ",r.ocupacionPorcentaje,"% "),l(2),z(" ",r.habitacionesOcupadas,"/",r.totalHabitaciones," "),l(12),b(" S/. ",k(54,11,r.ingresosTotales,"1.2-2")," "),l(14),_(r.checkInsHoy),l(6),b(" ",r.checkOutsHoy," "),l(25),_(r.habitacionesOcupadas),l(40),c("ngForOf",r.ultimasReservas),l(),c("ngIf",r.ultimasReservas.length===0))},dependencies:[F,L,D,R,me,P,B,N,H]})}}return o})();var oi=()=>["/notificaciones"],ai=o=>({id:o}),li=(o,d)=>({"bg-white/5":o,"opacity-70":d}),ct=(o,d,e,a)=>({"bg-green-500/10 text-green-400 border-green-500/20":o,"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":d,"bg-red-500/10 text-red-400 border-red-500/20":e,"bg-gray-500/10 text-gray-400 border-gray-500/20":a}),si=()=>["FINALIZADA","CANCELADA"],di=o=>({"bg-primary/10 border-primary/50":o}),ci=o=>({"bg-primary border-transparent":o});function mi(o,d){o&1&&h(0,"span",51)}function pi(o,d){if(o&1){let e=v();t(0,"div",61),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",62),n(2),i(),t(3,"p",63),n(4),i(),t(5,"div",64)(6,"span",65),n(7),i(),t(8,"p",66),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,oi))("queryParams",V(11,ai,e.id))("ngClass",A(13,li,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function ui(o,d){o&1&&(t(0,"div",67)(1,"span",68),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function xi(o,d){if(o&1&&(t(0,"div",52)(1,"div",53)(2,"h3",54),n(3,"Notificaciones"),i(),t(4,"span",55),n(5),i()(),t(6,"div",56),g(7,pi,11,16,"div",57)(8,ui,4,0,"div",58),i(),t(9,"div",59)(10,"a",60),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function hi(o,d){o&1&&(t(0,"div",69)(1,"a",70)(2,"span",71),n(3,"add"),i(),t(4,"span"),n(5,"Nueva Reserva"),i()()())}function fi(o,d){if(o&1){let e=v();t(0,"div",72)(1,"label",73)(2,"input",74),p("change",function(r){u(e);let s=m();return x(s.updateStatusFilter("ACTIVA",r))}),i(),t(3,"span",75),n(4,"Activa"),i()(),t(5,"label",73)(6,"input",74),p("change",function(r){u(e);let s=m();return x(s.updateStatusFilter("PENDIENTE",r))}),i(),t(7,"span",75),n(8,"Pendiente"),i()(),t(9,"label",73)(10,"input",74),p("change",function(r){u(e);let s=m();return x(s.updateStatusFilter("FINALIZADA",r))}),i(),t(11,"span",75),n(12,"Finalizada"),i()(),t(13,"label",73)(14,"input",74),p("change",function(r){u(e);let s=m();return x(s.updateStatusFilter("CANCELADA",r))}),i(),t(15,"span",75),n(16,"Cancelada"),i()(),t(17,"button",76),p("click",function(){u(e);let r=m();return x(r.applyFilters())}),n(18," Aplicar "),i()()}}function gi(o,d){if(o&1){let e=v();t(0,"tr",77),p("click",function(){let r=u(e).$implicit,s=m();return x(s.selectReserva(r))}),t(1,"td",78),n(2),i(),t(3,"td",42)(4,"div",69)(5,"div",79),n(6),i(),t(7,"span",80),n(8),i()()(),t(9,"td",42)(10,"span",81),n(11),i(),t(12,"span",82),n(13),i()(),t(14,"td",83)(15,"div",84)(16,"span"),n(17),y(18,"date"),i(),t(19,"span"),n(20),y(21,"date"),i()()(),t(22,"td",42)(23,"span",85),n(24),i()(),t(25,"td",86),n(26),y(27,"number"),i()()}if(o&2){let e=d.$implicit,a=m();ne("bg-white-5",(a.selectedReserva==null?null:a.selectedReserva.id)===e.id),l(2),b(" #",e.id," "),l(4),b(" ",e.cliente.nombres.charAt(0)," "),l(2),z(" ",e.cliente.nombres," ",e.cliente.apellidos," "),l(3),_(e.habitacion.numero),l(2),_(e.habitacion.tipo),l(4),b("In: ",k(18,13,e.fechaInicio,"dd MMM"),""),l(3),b("Out: ",k(21,16,e.fechaFin,"dd MMM"),""),l(3),c("ngClass",ce(22,ct,e.estadoReserva==="ACTIVA",e.estadoReserva==="PENDIENTE"||e.estadoReserva==="PROCESANDO",e.estadoReserva==="CANCELADA",e.estadoReserva==="FINALIZADA")),l(),b(" ",e.estadoReserva," "),l(2),b(" S/. ",k(27,19,e.total,"1.2-2")," ")}}function bi(o,d){o&1&&(t(0,"tr")(1,"td",87)(2,"div",88)(3,"span",89),n(4,"event_busy"),i(),t(5,"p",90),n(6," No se encontraron reservas con los filtros seleccionados. "),i()()()())}function vi(o,d){o&1&&(t(0,"div",91)(1,"div",92)(2,"div",93)(3,"span",94),n(4,"touch_app"),i()(),t(5,"p",95),n(6," Selecciona una reserva de la lista para ver sus detalles y acciones. "),i()()())}function _i(o,d){if(o&1){let e=v();t(0,"button",125),p("click",function(){u(e);let r=m(2);return x(r.intentarEliminar(r.selectedReserva))}),t(1,"span",71),n(2,"delete_forever"),i(),n(3," Eliminar Reserva "),i()}}function wi(o,d){if(o&1){let e=v();t(0,"div",126)(1,"div",127)(2,"div",128)(3,"div",129)(4,"span",130),n(5,"priority_high"),i()(),t(6,"div")(7,"h3",131),n(8," Acci\xF3n Requerida "),i(),t(9,"p",132),n(10," La reserva est\xE1 "),t(11,"span",133),n(12),i(),n(13,". "),h(14,"br"),n(15,"Para eliminarla, primero defina su estado final. "),i()()(),t(16,"div",134)(17,"button",135),p("click",function(){u(e);let r=m(2);return x(r.resolverConflicto("FINALIZAR"))}),t(18,"span",130),n(19,"check_circle"),i(),t(20,"div",136)(21,"div",137),n(22," Finalizar Estancia "),i(),t(23,"div",138),n(24," Marcar como completada "),i()()(),t(25,"button",139),p("click",function(){u(e);let r=m(2);return x(r.resolverConflicto("CANCELAR"))}),t(26,"span",130),n(27,"cancel"),i(),t(28,"div",136)(29,"div",137),n(30,"Cancelar Reserva"),i(),t(31,"div",138),n(32," Anular sin cobro "),i()()(),t(33,"button",140),p("click",function(){u(e);let r=m(2);return x(r.cerrarModalConflicto())}),n(34," Mantener Reserva (Cancelar Acci\xF3n) "),i()()()()}if(o&2){let e=m(2);l(12),_(e.selectedReservaForAction==null?null:e.selectedReservaForAction.estadoReserva)}}function yi(o,d){if(o&1){let e=v();t(0,"button",141),p("click",function(){u(e);let r=m(2);return x(r.realizarCheckIn(r.selectedReserva.id))}),t(1,"span",71),n(2,"login"),i(),n(3," Realizar Check-In "),i()}}function Si(o,d){if(o&1){let e=v();t(0,"button",142),p("click",function(){u(e);let r=m(2);return x(r.realizarCheckOut(r.selectedReserva.id))}),t(1,"span",71),n(2,"logout"),i(),n(3," Finalizar Estancia (Check-Out) "),i()}}function Ci(o,d){if(o&1){let e=v();t(0,"button",143),p("click",function(){u(e);let r=m(2);return x(r.eliminarReservaFisica(r.selectedReserva.id))}),t(1,"span",71),n(2,"delete_forever"),i(),n(3," Ocultar Registro "),i()}}function Ei(o,d){o&1&&(t(0,"div",144),n(1," Esta reserva no admite m\xE1s acciones. "),i())}function ki(o,d){if(o&1){let e=v();t(0,"div",96)(1,"div",97)(2,"button",98),p("click",function(){u(e);let r=m();return x(r.selectedReserva=null)}),t(3,"span",71),n(4,"close"),i()(),t(5,"div",99)(6,"div",100),n(7),i(),t(8,"div")(9,"h3",101),n(10),i(),t(11,"p",102),n(12),i()()(),t(13,"div",103)(14,"div",104),h(15,"span",105),n(16),i(),t(17,"span",106),n(18),y(19,"date"),i()()(),t(20,"div",107)(21,"div",108)(22,"div",109)(23,"span",110),n(24,"Habitaci\xF3n"),i(),t(25,"div",111),n(26),i(),t(27,"div",112),n(28),i()(),t(29,"div",109)(30,"span",110),n(31,"Estad\xEDa"),i(),t(32,"div",111),n(33),y(34,"date"),y(35,"date"),i()()(),t(36,"div",113)(37,"div",114)(38,"span",115),n(39,"Total a Pagar"),i(),t(40,"span",116),n(41),y(42,"number"),i()(),t(43,"div",117),h(44,"div",118),i()(),g(45,_i,4,0,"button",119)(46,wi,35,1,"div",120)(47,yi,4,0,"button",121)(48,Si,4,0,"button",122)(49,Ci,4,0,"button",123)(50,Ei,2,0,"div",124),i()()}if(o&2){let e=m();l(7),b(" ",e.selectedReserva.cliente.nombres.charAt(0)," "),l(3),z(" ",e.selectedReserva.cliente.nombres," ",e.selectedReserva.cliente.apellidos," "),l(2),b(" ID: #",e.selectedReserva.id," "),l(2),c("ngClass",ce(30,ct,e.selectedReserva.estadoReserva==="ACTIVA",e.selectedReserva.estadoReserva==="PENDIENTE",e.selectedReserva.estadoReserva==="CANCELADA",e.selectedReserva.estadoReserva==="FINALIZADA")),l(2),b(" ",e.selectedReserva.estadoReserva," "),l(2),_(k(19,18,e.selectedReserva.fechaInicio,"longDate")),l(8),b(" ",e.selectedReserva.habitacion.numero," "),l(2),b(" ",e.selectedReserva.habitacion.tipo," "),l(5),z(" ",k(34,21,e.selectedReserva.fechaInicio,"dd/MM")," - ",k(35,24,e.selectedReserva.fechaFin,"dd/MM")," "),l(8),b("S/. ",k(42,27,e.selectedReserva.total,"1.2-2"),""),l(4),c("ngIf",!W(35,si).includes(e.selectedReserva.estadoReserva)),l(),c("ngIf",e.showConflictModal),l(),c("ngIf",e.selectedReserva.estadoReserva==="PENDIENTE"),l(),c("ngIf",e.selectedReserva.estadoReserva==="ACTIVA"),l(),c("ngIf",e.selectedReserva.estadoReserva==="CANCELADA"),l(),c("ngIf",e.selectedReserva.estadoReserva==="FINALIZADA"||e.selectedReserva.estadoReserva==="CANCELADA")}}function Ii(o,d){o&1&&(t(0,"span",162),n(1,"check"),i())}function Mi(o,d){if(o&1){let e=v();t(0,"div",156),p("click",function(){let r=u(e).$implicit,s=m(2);return x(s.toggleServiceSelection(r.id))}),t(1,"div")(2,"p",157),n(3),i(),t(4,"p",158),n(5),i()(),t(6,"div",69)(7,"span",159),n(8),i(),t(9,"div",160),g(10,Ii,2,0,"span",161),i()()()}if(o&2){let e=d.$implicit,a=m(2);c("ngClass",V(6,di,a.selectedServiceIds.has(e.id))),l(3),_(e.nombre),l(2),_(e.descripcion),l(3),b("S/. ",e.precio,""),l(),c("ngClass",V(8,ci,a.selectedServiceIds.has(e.id))),l(),c("ngIf",a.selectedServiceIds.has(e.id))}}function Ti(o,d){o&1&&(t(0,"div",163),n(1," No hay servicios disponibles o activos. "),i())}function Fi(o,d){if(o&1){let e=v();t(0,"div",145)(1,"div",146)(2,"div",147)(3,"h2",131),n(4,"Asignar Servicios"),i(),t(5,"button",148),p("click",function(){u(e);let r=m();return x(r.closeServiceModal())}),t(6,"span",71),n(7,"close"),i()()(),t(8,"p",149),n(9," Selecciona los servicios que deseas agregar a la reserva actual. Se sumar\xE1n al total a pagar. "),i(),t(10,"div",150),g(11,Mi,11,10,"div",151)(12,Ti,2,0,"div",152),i(),t(13,"div",153)(14,"button",154),p("click",function(){u(e);let r=m();return x(r.closeServiceModal())}),n(15," Cancelar "),i(),t(16,"button",155),p("click",function(){u(e);let r=m();return x(r.confirmServices())}),n(17),i()()()()}if(o&2){let e=m();l(11),c("ngForOf",e.availableServices),l(),c("ngIf",e.availableServices.length===0),l(4),c("disabled",e.selectedServiceIds.size===0),l(),b(" Confirmar (",e.selectedServiceIds.size,") ")}}var mt=(()=>{class o{constructor(e,a,r,s){this.reservaService=e,this.authService=a,this.dashboardService=r,this.servicioService=s,this.reservas=[],this.filteredReservas=[],this.searchTerm="",this.selectedStatuses={},this.showStatusDropdown=!1,this.selectedReserva=null,this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.showServiceModal=!1,this.availableServices=[],this.selectedServiceIds=new Set,this.showConflictModal=!1,this.selectedReservaForAction=null,this.isRecepcion$=this.authService.currentUser$.pipe(Ie(f=>!!(f&&f.role==="ROLE_RECEPCIONISTA"))),this.canCreate$=this.isRecepcion$}openServiceModal(){this.selectedReserva&&(this.availableServices.length===0?this.servicioService.getAll().subscribe(e=>{this.availableServices=e.filter(a=>a.activo),this.showServiceModal=!0,this.selectedServiceIds.clear()}):(this.showServiceModal=!0,this.selectedServiceIds.clear()))}toggleServiceSelection(e){this.selectedServiceIds.has(e)?this.selectedServiceIds.delete(e):this.selectedServiceIds.add(e)}confirmServices(){if(!this.selectedReserva||this.selectedServiceIds.size===0)return;let e=Array.from(this.selectedServiceIds);this.reservaService.asignarServicios(this.selectedReserva.id,e).subscribe({next:()=>{alert("Servicios asignados correctamente"),this.showServiceModal=!1,this.cargarReservas()},error:()=>alert("Error asignando servicios")})}closeServiceModal(){this.showServiceModal=!1}ngOnInit(){this.cargarReservas(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}cargarReservas(){this.reservaService.getAll().subscribe({next:e=>{this.reservas=e.map(a=>{let r=0;a.servicios&&Array.isArray(a.servicios)&&(r=a.servicios.reduce((K,xe)=>{let he=xe.split(" - S/.");return K+(he.length===2?parseFloat(he[1]):0)},0));let s=(a.habitacionPrecio||0)*(a.diasEstadia||1),f=Math.max(0,s+r-(a.montoDescuento||0));return ke(ie({},a),{total:f})}),this.applyFilters()},error:e=>console.error("Error loading reservas",e)})}toggleStatusDropdown(){this.showStatusDropdown=!this.showStatusDropdown}selectReserva(e){this.selectedReserva=e}updateStatusFilter(e,a){this.selectedStatuses[e]=a.target.checked}applyFilters(){let e=[...this.reservas];if(this.searchTerm){let r=this.searchTerm.toLowerCase();e=e.filter(s=>s.id.toString().includes(r)||(s.cliente?.nombres+" "+s.cliente?.apellidos).toLowerCase().includes(r)||s.cliente?.dni?.includes(r))}let a=Object.keys(this.selectedStatuses).filter(r=>this.selectedStatuses[r]);a.length>0&&(e=e.filter(r=>a.includes(r.estadoReserva))),e.sort((r,s)=>s.id-r.id),this.filteredReservas=e,this.showStatusDropdown=!1}cancelarReserva(e){confirm("\xBFEst\xE1s seguro de cancelar esta reserva?")&&this.reservaService.cancelar(e).subscribe({next:()=>{this.cargarReservas(),this.selectedReserva=null},error:()=>alert("Error al cancelar la reserva")})}realizarCheckIn(e){confirm("\xBFConfirmar Check-In?")&&this.reservaService.checkIn(e).subscribe({next:()=>{if(this.cargarReservas(),this.selectedReserva){let a=this.reservas.find(r=>r.id===e);a&&(this.selectedReserva=a)}},error:()=>alert("Error al realizar Check-In")})}realizarCheckOut(e){confirm("\xBFConfirmar Check-Out?")&&this.reservaService.checkOut(e).subscribe({next:()=>{if(this.cargarReservas(),this.selectedReserva){let a=this.reservas.find(r=>r.id===e);a&&(this.selectedReserva=a)}},error:a=>{console.error(a);let r=a.error?.message||(typeof a.error=="string"?a.error:"Error desconocido al realizar Check-Out");alert("Error: "+r)}})}intentarEliminar(e){["FINALIZADA","CANCELADA"].includes(e.estadoReserva)?this.eliminarReservaFisica(e.id):(this.selectedReservaForAction=e,this.showConflictModal=!0)}cerrarModalConflicto(){this.showConflictModal=!1,this.selectedReservaForAction=null}resolverConflicto(e){if(!this.selectedReservaForAction)return;let a=this.selectedReservaForAction.id;this.cerrarModalConflicto(),e==="FINALIZAR"?this.realizarCheckOut(a):e==="CANCELAR"&&this.cancelarReserva(a)}eliminarReservaFisica(e){confirm(`ADVERTENCIA CR\xCDTICA: \xBFEst\xE1s seguro de ELIMINAR F\xCDSICAMENTE esta reserva?

Esta acci\xF3n borrar\xE1 permanentemente:
- Historial de pagos
- Registros de facturaci\xF3n
- Auditor\xEDa asociada

Esta acci\xF3n NO SE PUEDE DESHACER.`)&&this.reservaService.eliminar(e).subscribe({next:()=>{alert("Reserva eliminada correctamente del sistema."),this.cargarReservas(),this.selectedReserva=null},error:a=>{console.error(a),alert("Error al eliminar: La reserva podr\xEDa tener dependencias cr\xEDticas en base de datos.")}})}static{this.\u0275fac=function(a){return new(a||o)(w(we),w(j),w(O),w(Le))}}static{this.\u0275cmp=I({type:o,selectors:[["app-reservas"]],standalone:!0,features:[M],decls:80,vars:13,consts:[[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","mb-8"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],["class","flex items-center gap-3",4,"ngIf"],[1,"grid","grid-cols-1","gap-8","lg:grid-cols-3"],[1,"flex","flex-col","gap-6","lg:col-span-2"],[1,"flex","flex-col","gap-4","md:flex-row"],[1,"relative","flex-1"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","pointer-events-none"],["placeholder","Buscar por Nombre, DNI o ID...",1,"w-full","pl-10","pr-4","py-2.5","rounded-lg","bg-white/5","border","border-white/10","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","transition-all","text-sm",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"h-full","px-4","py-2.5","rounded-lg","bg-white/5","border","border-white/10","text-white","flex","items-center","gap-2","hover:bg-white/10","transition-colors","font-medium","text-sm","whitespace-nowrap",3,"click"],["class","absolute right-0 top-full mt-2 w-48 bg-[#1A1A1A] border border-white/10 rounded-xl shadow-2xl z-50 p-2 glass-panel",4,"ngIf"],[1,"px-6","py-2.5","rounded-lg","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-colors","shadow-lg","shadow-primary/20","text-sm",3,"click"],[1,"glass-panel","rounded-2xl","overflow-hidden","min-h-[400px]"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group cursor-pointer",3,"bg-white-5","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"lg:col-span-1"],["class","sticky top-24 glass-panel rounded-2xl border border-white/10 shadow-xl h-[400px] flex items-center justify-center p-8 text-center",4,"ngIf"],["class","sticky top-24 glass-panel rounded-2xl border border-white/10 shadow-xl overflow-hidden animate-fade-in",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex","items-center","gap-3"],["routerLink","/reservas/crear",1,"px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-all","duration-200","shadow-lg","shadow-primary/20","hover:scale-105","flex","items-center","gap-2"],[1,"material-symbols-outlined"],[1,"absolute","right-0","top-full","mt-2","w-48","bg-[#1A1A1A]","border","border-white/10","rounded-xl","shadow-2xl","z-50","p-2","glass-panel"],[1,"flex","items-center","gap-2","p-2","hover:bg-white/5","rounded-lg","cursor-pointer","transition-colors"],["type","checkbox",1,"rounded","border-white/30","bg-transparent","text-primary","focus:ring-primary",3,"change"],[1,"text-white","text-sm"],[1,"w-full","mt-2","bg-primary","text-white","font-bold","text-xs","py-2","rounded-lg","hover:bg-primary/90","transition-colors",3,"click"],[1,"hover:bg-white/5","transition-colors","group","cursor-pointer",3,"click"],[1,"px-6","py-4","font-mono","text-white/60"],[1,"size-8","rounded-full","bg-gradient-to-br","from-gray-700","to-gray-900","flex","items-center","justify-center","text-xs","font-bold","text-white","border","border-white/10"],[1,"font-medium","text-white","group-hover:text-primary","transition-colors"],[1,"text-white/80","font-mono","bg-white/5","px-2","py-1","rounded","text-xs"],[1,"text-white/40","text-xs","ml-1"],[1,"px-6","py-4","text-white/70"],[1,"flex","flex-col","text-xs"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-bold","border",3,"ngClass"],[1,"px-6","py-4","text-right","font-medium","text-white"],["colspan","6",1,"px-6","py-20","text-center"],[1,"flex","flex-col","items-center","gap-3","text-white/30"],[1,"material-symbols-outlined","text-5xl","opacity-40"],[1,"text-sm"],[1,"sticky","top-24","glass-panel","rounded-2xl","border","border-white/10","shadow-xl","h-[400px]","flex","items-center","justify-center","p-8","text-center"],[1,"flex","flex-col","items-center","gap-4","text-white/30"],[1,"p-4","rounded-full","bg-white/5"],[1,"material-symbols-outlined","text-4xl"],[1,"text-sm","font-medium","max-w-[200px]"],[1,"sticky","top-24","glass-panel","rounded-2xl","border","border-white/10","shadow-xl","overflow-hidden","animate-fade-in"],[1,"p-6","border-b","border-white/5","bg-white/5","relative"],[1,"absolute","top-4","right-4","text-white/40","hover:text-white","transition-colors","lg:hidden",3,"click"],[1,"flex","items-center","gap-4","mb-4"],[1,"size-16","rounded-full","bg-gradient-to-br","from-primary","to-accent","flex","items-center","justify-center","text-2xl","font-bold","text-white","shadow-lg","shadow-primary/20"],[1,"text-lg","font-bold","text-white","leading-tight"],[1,"text-white/40","text-xs","font-mono"],[1,"flex","items-center","gap-2"],[1,"px-3","py-1","rounded-full","text-xs","font-bold","border","flex","items-center","gap-2",3,"ngClass"],[1,"size-2","rounded-full","bg-current"],[1,"text-xs","text-white/40"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-2","gap-4"],[1,"p-3","rounded-xl","bg-white/5","border","border-white/5"],[1,"block","text-[10px]","text-white/40","uppercase","tracking-wider","mb-1"],[1,"font-bold","text-white"],[1,"text-xs","text-access","accent"],[1,"p-4","rounded-xl","bg-gradient-to-r","from-white/5","to-transparent","border","border-white/5"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-sm","text-white/60"],[1,"text-lg","font-bold","text-white","font-mono"],[1,"w-full","h-1","bg-white/10","rounded-full","overflow-hidden","mt-2"],[1,"h-full","bg-green-400","w-full"],["class","w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 mt-4 bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500/20",3,"click",4,"ngIf"],["class","fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 text-left",4,"ngIf"],["class","w-full py-3 rounded-xl bg-primary text-white font-bold hover:bg-primary/90 transition-all flex items-center justify-center gap-2",3,"click",4,"ngIf"],["class","w-full py-3 rounded-xl bg-accent text-white font-bold hover:bg-accent/90 transition-all flex items-center justify-center gap-2",3,"click",4,"ngIf"],["class","w-full py-3 rounded-xl bg-red-600 text-white font-bold hover:bg-red-700 transition-all flex items-center justify-center gap-2 mt-4 shadow-lg shadow-red-600/20",3,"click",4,"ngIf"],["class","text-center p-4 text-white/30 text-sm italic",4,"ngIf"],[1,"w-full","py-3","rounded-xl","font-bold","transition-all","flex","items-center","justify-center","gap-2","mt-4","bg-red-500/10","text-red-400","border","border-red-500/20","hover:bg-red-500/20",3,"click"],[1,"fixed","inset-0","z-[60]","flex","items-center","justify-center","bg-black/80","backdrop-blur-sm","p-4","text-left"],[1,"bg-[#1e1e1e]","border","border-white/10","rounded-2xl","w-full","max-w-md","p-6","shadow-2xl","relative","animate-in","fade-in","zoom-in","duration-200"],[1,"flex","items-start","gap-4","mb-6"],[1,"p-3","rounded-full","bg-orange-500/20","text-orange-400"],[1,"material-symbols-outlined","text-2xl"],[1,"text-xl","font-bold","text-white"],[1,"text-white/60","text-sm","mt-1"],[1,"text-primary","font-bold"],[1,"space-y-3"],[1,"w-full","p-4","rounded-xl","bg-green-500/10","hover:bg-green-500/20","text-green-400","font-bold","border","border-green-500/20","flex","items-center","gap-3","transition-all",3,"click"],[1,"text-left"],[1,"text-sm","font-bold"],[1,"text-xs","opacity-60","font-normal"],[1,"w-full","p-4","rounded-xl","bg-red-500/10","hover:bg-red-500/20","text-red-400","font-bold","border","border-red-500/20","flex","items-center","gap-3","transition-all",3,"click"],[1,"w-full","p-3","rounded-lg","hover:bg-white/5","text-white/40","hover:text-white","font-bold","mt-2","text-sm",3,"click"],[1,"w-full","py-3","rounded-xl","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-all","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-full","py-3","rounded-xl","bg-accent","text-white","font-bold","hover:bg-accent/90","transition-all","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-full","py-3","rounded-xl","bg-red-600","text-white","font-bold","hover:bg-red-700","transition-all","flex","items-center","justify-center","gap-2","mt-4","shadow-lg","shadow-red-600/20",3,"click"],[1,"text-center","p-4","text-white/30","text-sm","italic"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/80","backdrop-blur-sm","animate-fade-in"],[1,"relative","w-full","max-w-lg","bg-[#1A1A1A]","border","border-white/10","rounded-2xl","shadow-2xl","p-6","max-h-[80vh]","overflow-hidden","flex","flex-col"],[1,"flex","items-center","justify-between","mb-4","shrink-0"],[1,"text-white/40","hover:text-white",3,"click"],[1,"text-white/60","text-sm","mb-4","shrink-0"],[1,"flex-1","overflow-y-auto","space-y-2","pr-2"],["class","p-3 rounded-xl border border-white/5 cursor-pointer flex justify-between items-center hover:bg-white/5 transition-all",3,"ngClass","click",4,"ngFor","ngForOf"],["class","text-center text-white/40 py-8",4,"ngIf"],[1,"flex","justify-end","gap-3","pt-4","border-t","border-white/10","mt-4","shrink-0"],[1,"text-sm","font-medium","text-white/60","hover:text-white","px-3","py-2",3,"click"],[1,"rounded-lg","bg-primary","px-6","py-2.5","text-sm","font-bold","text-white","hover:bg-primary/90","shadow-lg","shadow-primary/25","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"p-3","rounded-xl","border","border-white/5","cursor-pointer","flex","justify-between","items-center","hover:bg-white/5","transition-all",3,"click","ngClass"],[1,"font-bold","text-white","text-sm"],[1,"text-xs","text-white/50"],[1,"text-primary","font-mono","font-bold","text-sm"],[1,"size-5","rounded-full","border","border-white/20","flex","items-center","justify-center",3,"ngClass"],["class","material-symbols-outlined text-xs text-black",4,"ngIf"],[1,"material-symbols-outlined","text-xs","text-black"],[1,"text-center","text-white/40","py-8"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"div",2)(4,"div",3),h(5,"div",4),i(),t(6,"header",5)(7,"div",6)(8,"h2",7),n(9," Gesti\xF3n de Reservas "),i(),t(10,"div",8)(11,"a",9),n(12,"Inicio"),i(),t(13,"span",10),n(14,"chevron_right"),i(),t(15,"span",11),n(16,"Reservas"),i()()(),t(17,"div",12)(18,"div",13)(19,"span",14)(20,"span",15),n(21,"search"),i()(),t(22,"input",16),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.applyFilters()}),i()(),t(23,"div",17)(24,"button",18),p("click",function(){return r.toggleNotifications()}),t(25,"span",19),n(26,"notifications"),i(),g(27,mi,1,0,"span",20),i(),g(28,xi,12,3,"div",21),i()()(),t(29,"main",22)(30,"div",23)(31,"div",24)(32,"div",25)(33,"h1",26),n(34," Gesti\xF3n de Reservas "),i(),t(35,"p",27),n(36," Administra las reservas, check-ins y check-outs del hotel. "),i()(),g(37,hi,6,0,"div",28),y(38,"async"),i(),t(39,"div",29)(40,"div",30)(41,"div",31)(42,"div",32)(43,"span",33)(44,"span",15),n(45,"search"),i()(),t(46,"input",34),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.applyFilters()}),i()(),t(47,"div",17)(48,"button",35),p("click",function(){return r.toggleStatusDropdown()}),t(49,"span",15),n(50,"filter_list"),i(),t(51,"span"),n(52,"Estado"),i()(),g(53,fi,19,0,"div",36),i(),t(54,"button",37),p("click",function(){return r.applyFilters()}),n(55," Buscar "),i()(),t(56,"div",38)(57,"div",39)(58,"table",40)(59,"thead",41)(60,"tr")(61,"th",42),n(62,"ID"),i(),t(63,"th",42),n(64,"Hu\xE9sped"),i(),t(65,"th",42),n(66,"Habitaci\xF3n"),i(),t(67,"th",42),n(68,"Fechas"),i(),t(69,"th",42),n(70,"Estado"),i(),t(71,"th",43),n(72,"Total"),i()()(),t(73,"tbody",44),g(74,gi,28,27,"tr",45)(75,bi,7,0,"tr",46),i()()()()(),t(76,"div",47),g(77,vi,7,0,"div",48)(78,ki,51,36,"div",49),i()()()(),g(79,Fi,18,4,"div",50),i()()),a&2&&(l(22),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(9),c("ngIf",T(38,11,r.canCreate$)),l(9),S("ngModel",r.searchTerm),l(7),c("ngIf",r.showStatusDropdown),l(21),c("ngForOf",r.filteredReservas),l(),c("ngIf",r.filteredReservas.length===0),l(2),c("ngIf",!r.selectedReserva),l(),c("ngIf",r.selectedReserva),l(),c("ngIf",r.showServiceModal))},dependencies:[F,L,D,R,Z,me,P,B,N,$,q,U,G,H],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#333;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#444}"]})}}return o})();var Ri=()=>["/notificaciones"],Ai=o=>({id:o}),Ni=(o,d)=>({"bg-white/5":o,"opacity-70":d}),Vi=o=>["/clientes/editar",o];function Di(o,d){o&1&&h(0,"span",44)}function Li(o,d){if(o&1){let e=v();t(0,"div",54),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",55),n(2),i(),t(3,"p",56),n(4),i(),t(5,"div",57)(6,"span",58),n(7),i(),t(8,"p",59),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,Ri))("queryParams",V(11,Ai,e.id))("ngClass",A(13,Ni,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function Pi(o,d){o&1&&(t(0,"div",60)(1,"span",61),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function ji(o,d){if(o&1&&(t(0,"div",45)(1,"div",46)(2,"h3",47),n(3,"Notificaciones"),i(),t(4,"span",48),n(5),i()(),t(6,"div",49),g(7,Li,11,16,"div",50)(8,Pi,4,0,"div",51),i(),t(9,"div",52)(10,"a",53),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function Oi(o,d){o&1&&(t(0,"div",62)(1,"a",63)(2,"span",64),n(3,"person_add"),i(),t(4,"span"),n(5,"Registrar Cliente"),i()()())}function Hi(o,d){if(o&1&&(t(0,"div",76)(1,"span",77),n(2,"event"),i(),t(3,"span"),n(4),y(5,"date"),i()()),o&2){let e=m().$implicit;l(4),_(k(5,1,e.ultimaEstancia,"dd MMM, yyyy"))}}function zi(o,d){o&1&&(t(0,"span",78),n(1,"-"),i())}function Wi(o,d){if(o&1){let e=v();t(0,"tr",65)(1,"td",39)(2,"div",62)(3,"div",66)(4,"span"),n(5),i()(),t(6,"span",67),n(7),i()()(),t(8,"td",68),n(9),i(),t(10,"td",68),n(11),i(),t(12,"td",68),g(13,Hi,6,4,"div",69)(14,zi,2,0,"span",70),i(),t(15,"td",40)(16,"span",71),n(17),i()(),t(18,"td",40)(19,"div",72)(20,"a",73)(21,"span",74),n(22,"visibility"),i()(),t(23,"button",75),p("click",function(){let r=u(e).$implicit,s=m();return x(s.deleteCliente(r.id))}),t(24,"span",74),n(25,"delete"),i()()()()()}if(o&2){let e=d.$implicit;l(5),_(e.nombres.charAt(0)),l(2),z(" ",e.nombres," ",e.apellidos," "),l(2),b(" ",e.email," "),l(2),b(" ",e.telefono," "),l(2),c("ngIf",e.ultimaEstancia),l(),c("ngIf",!e.ultimaEstancia),l(3),b(" ",e.totalReservas||0," "),l(3),c("routerLink",V(9,Vi,e.id))}}function Bi(o,d){o&1&&(t(0,"tr")(1,"td",79)(2,"div",80)(3,"span",81),n(4,"person_off"),i(),t(5,"p",82),n(6," No se encontraron clientes registrados. "),i()()()())}var pt=(()=>{class o{constructor(e,a,r){this.clienteService=e,this.authService=a,this.dashboardService=r,this.clientes=[],this.filteredClientes=[],this.searchTerm="",this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.isRecepcion$=this.authService.currentUser$.pipe(Ie(s=>!!(s&&s.role==="ROLE_RECEPCIONISTA"))),this.canCreate$=this.isRecepcion$}ngOnInit(){this.cargarClientes(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}cargarClientes(){this.clienteService.getAll().subscribe({next:e=>{this.clientes=e,this.filteredClientes=e},error:e=>console.error("Error loading clientes",e)})}applyFilters(){if(!this.searchTerm){this.filteredClientes=this.clientes;return}let e=this.searchTerm.toLowerCase();this.filteredClientes=this.clientes.filter(a=>a.nombres.toLowerCase().includes(e)||a.apellidos.toLowerCase().includes(e)||a.email.toLowerCase().includes(e)||a.dni.includes(e))}deleteCliente(e){confirm("\xBFEst\xE1s seguro de eliminar este cliente?")&&this.clienteService.delete(e).subscribe({next:()=>{this.cargarClientes()},error:a=>{console.error(a),alert("No se puede eliminar el cliente: "+(a.error?.message||"Tiene reservas activas o historial."))}})}static{this.\u0275fac=function(a){return new(a||o)(w(et),w(j),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-clientes"]],standalone:!0,features:[M],decls:68,vars:9,consts:[[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"absolute","bottom-[-10%]","left-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-accent/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar por nombre o email...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"flex","flex-wrap","justify-between","items-center","gap-4","mb-8"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],["class","flex items-center gap-3",4,"ngIf"],[1,"flex","flex-col","gap-4","md:flex-row","mb-8"],[1,"relative","flex-1"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","pointer-events-none"],["placeholder","Buscar por nombre o email...",1,"w-full","pl-10","pr-4","py-2.5","rounded-lg","bg-white/5","border","border-white/10","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","transition-all","text-sm",3,"ngModelChange","keyup.enter","ngModel"],[1,"px-6","py-2.5","rounded-lg","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-colors","shadow-lg","shadow-primary/20","text-sm",3,"click"],[1,"glass-panel","rounded-2xl","overflow-hidden","min-h-[400px]"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"px-6","py-4","text-center"],[1,"divide-y","divide-white/5"],["class","hover:bg-primary/10 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex","items-center","gap-3"],["routerLink","/clientes/crear",1,"px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-all","duration-200","shadow-lg","shadow-primary/20","hover:scale-105","flex","items-center","gap-2"],[1,"material-symbols-outlined"],[1,"hover:bg-primary/10","transition-colors","group"],[1,"size-8","rounded-full","bg-gradient-to-br","from-gray-700","to-gray-900","flex","items-center","justify-center","text-xs","font-bold","text-white","border","border-white/10"],[1,"font-medium","text-white","group-hover:text-primary","transition-colors"],[1,"px-6","py-4","text-white/70"],["class","flex items-center gap-1.5",4,"ngIf"],["class","text-white/20",4,"ngIf"],[1,"inline-flex","items-center","justify-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-white/10","text-white/80","border","border-white/5"],[1,"flex","items-center","justify-center","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],["title","Ver Detalles/Editar",1,"p-2","rounded-lg","text-white/60","hover:bg-white/10","hover:text-white","transition-colors",3,"routerLink"],[1,"material-symbols-outlined","text-xl"],["title","Eliminar",1,"p-2","rounded-lg","text-red-400","hover:bg-red-500/10","transition-colors",3,"click"],[1,"flex","items-center","gap-1.5"],[1,"material-symbols-outlined","text-xs","opacity-50"],[1,"text-white/20"],["colspan","6",1,"px-6","py-20","text-center"],[1,"flex","flex-col","items-center","gap-3","text-white/30"],[1,"material-symbols-outlined","text-5xl","opacity-40"],[1,"text-sm"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"div",2)(4,"div",3),h(5,"div",4)(6,"div",5),i(),t(7,"header",6)(8,"div",7)(9,"h2",8),n(10," Gesti\xF3n de Clientes "),i(),t(11,"div",9)(12,"a",10),n(13,"Inicio"),i(),t(14,"span",11),n(15,"chevron_right"),i(),t(16,"span",12),n(17,"Clientes"),i()()(),t(18,"div",13)(19,"div",14)(20,"span",15)(21,"span",16),n(22,"search"),i()(),t(23,"input",17),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.applyFilters()}),i()(),t(24,"div",18)(25,"button",19),p("click",function(){return r.toggleNotifications()}),t(26,"span",20),n(27,"notifications"),i(),g(28,Di,1,0,"span",21),i(),g(29,ji,12,3,"div",22),i()()(),t(30,"main",23)(31,"div",24)(32,"div",25)(33,"div",26)(34,"h1",27),n(35," Lista de Clientes "),i(),t(36,"p",28),n(37," Gestiona y consulta la informaci\xF3n de todos los clientes registrados. "),i()(),g(38,Oi,6,0,"div",29),y(39,"async"),i(),t(40,"div",30)(41,"div",31)(42,"span",32)(43,"span",16),n(44,"search"),i()(),t(45,"input",33),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.applyFilters()}),i()(),t(46,"button",34),p("click",function(){return r.applyFilters()}),n(47," Buscar "),i()(),t(48,"div",35)(49,"div",36)(50,"table",37)(51,"thead",38)(52,"tr")(53,"th",39),n(54,"Nombre Completo"),i(),t(55,"th",39),n(56,"Correo Electr\xF3nico"),i(),t(57,"th",39),n(58,"Tel\xE9fono"),i(),t(59,"th",39),n(60,"\xDAltima Estancia"),i(),t(61,"th",40),n(62,"Reservas"),i(),t(63,"th",40),n(64,"Acciones"),i()()(),t(65,"tbody",41),g(66,Wi,26,11,"tr",42)(67,Bi,7,0,"tr",43),i()()()()()()()()),a&2&&(l(23),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(9),c("ngIf",T(39,7,r.canCreate$)),l(7),S("ngModel",r.searchTerm),l(21),c("ngForOf",r.filteredClientes),l(),c("ngIf",r.filteredClientes.length===0))},dependencies:[F,L,D,R,Z,P,B,N,$,q,U,G,H],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#333;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#444}"]})}}return o})();var qi=(o,d)=>({"lg:col-span-2":o,"lg:col-span-3":d}),Ui=()=>["/notificaciones"],Gi=o=>({id:o}),$i=(o,d)=>({"bg-white/5":o,"opacity-70":d}),Zi=(o,d,e,a)=>({"bg-green-500/10 text-green-400 border-green-500/20":o,"bg-red-500/10 text-red-400 border-red-500/20":d,"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":e,"bg-blue-500/10 text-blue-400 border-blue-500/20":a}),Ji=(o,d,e,a)=>({"bg-green-400":o,"bg-red-400":d,"bg-yellow-400":e,"bg-blue-400":a});function Yi(o,d){o&1&&h(0,"span",49)}function Ki(o,d){if(o&1){let e=v();t(0,"div",59),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",60),n(2),i(),t(3,"p",61),n(4),i(),t(5,"div",62)(6,"span",63),n(7),i(),t(8,"p",64),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,Ui))("queryParams",V(11,Gi,e.id))("ngClass",A(13,$i,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function Qi(o,d){o&1&&(t(0,"div",65)(1,"span",66),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function Xi(o,d){if(o&1&&(t(0,"div",50)(1,"div",51)(2,"h3",52),n(3,"Notificaciones"),i(),t(4,"span",53),n(5),i()(),t(6,"div",54),g(7,Ki,11,16,"div",55)(8,Qi,4,0,"div",56),i(),t(9,"div",57)(10,"a",58),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function en(o,d){if(o&1){let e=v();t(0,"button",67),p("click",function(){u(e);let r=m();return x(r.limpiarFormulario())}),t(1,"span",68),n(2,"add"),i(),t(3,"span"),n(4,"A\xF1adir Nueva Habitaci\xF3n"),i()()}}function tn(o,d){o&1&&(t(0,"div",69)(1,"span",17),n(2,"info"),i(),t(3,"span"),n(4,"Solo administradores pueden modificar habitaciones"),i()())}function nn(o,d){if(o&1){let e=v();t(0,"button",81),p("click",function(){u(e);let r=m(2).$implicit,s=m();return x(s.eliminar(r.id))}),t(1,"span",79),n(2,"delete"),i()()}}function rn(o,d){if(o&1){let e=v();t(0,"div",77)(1,"button",78),p("click",function(){u(e);let r=m().$implicit,s=m();return x(s.cargarParaEditar(r))}),t(2,"span",79),n(3,"edit"),i()(),g(4,nn,3,0,"button",80),y(5,"async"),i()}if(o&2){let e=m(2);l(4),c("ngIf",T(5,1,e.isAdmin$))}}function on(o,d){o&1&&(t(0,"span",82),n(1,"\u2014"),i())}function an(o,d){if(o&1&&(t(0,"tr",70)(1,"td",42)(2,"span",71),n(3),i()(),t(4,"td",72),n(5),i(),t(6,"td",42)(7,"span",73),h(8,"span",74),t(9,"span"),n(10),i()()(),t(11,"td",75),n(12),y(13,"number"),i(),t(14,"td",44),g(15,rn,6,3,"div",76),y(16,"async"),g(17,on,2,0,"ng-template",null,0,te),i()()),o&2){let e=d.$implicit,a=ee(18),r=m();l(3),_(e.numero),l(2),_(e.tipo),l(2),c("ngClass",ce(13,Zi,e.estado==="DISPONIBLE",e.estado==="OCUPADA",e.estado==="MANTENIMIENTO",e.estado==="LIMPIEZA")),l(),c("ngClass",ce(18,Ji,e.estado==="DISPONIBLE",e.estado==="OCUPADA",e.estado==="MANTENIMIENTO",e.estado==="LIMPIEZA")),l(2),_(e.estado),l(2),b(" S/. ",k(13,8,e.precioPorNoche,"1.2-2")," "),l(3),c("ngIf",T(16,11,r.isAdmin$))("ngIfElse",a)}}function ln(o,d){o&1&&(t(0,"tr")(1,"td",83)(2,"span",84),n(3,"meeting_room"),i(),n(4," No hay habitaciones encontradas. "),i()())}function sn(o,d){if(o&1){let e=v();t(0,"div",85)(1,"div",86)(2,"div",87)(3,"div",88)(4,"span",68),n(5,"edit_square"),i()(),t(6,"h2",89),n(7),i()(),t(8,"p",90),n(9),i(),t(10,"form",91),p("submit",function(){u(e);let r=m();return x(r.guardar())}),t(11,"div",92)(12,"label",93),n(13,"N\xFAmero"),i(),t(14,"input",94),y(15,"async"),E("ngModelChange",function(r){u(e);let s=m();return C(s.habitacionModel.numero,r)||(s.habitacionModel.numero=r),x(r)}),i()(),t(16,"div",92)(17,"label",93),n(18,"Tipo"),i(),t(19,"select",95),y(20,"async"),E("ngModelChange",function(r){u(e);let s=m();return C(s.habitacionModel.tipo,r)||(s.habitacionModel.tipo=r),x(r)}),p("change",function(){u(e);let r=m();return x(r.onTipoChange())}),t(21,"option",96),n(22,"Simple"),i(),t(23,"option",97),n(24,"Doble"),i(),t(25,"option",98),n(26,"Suite Junior"),i(),t(27,"option",99),n(28,"Suite Familiar"),i()()(),t(29,"div",92)(30,"label",93),n(31,"Estado"),i(),t(32,"select",100),E("ngModelChange",function(r){u(e);let s=m();return C(s.habitacionModel.estado,r)||(s.habitacionModel.estado=r),x(r)}),t(33,"option",101),n(34,"Disponible"),i(),t(35,"option",102),n(36,"Ocupada"),i(),t(37,"option",103),n(38,"Limpieza"),i(),t(39,"option",104),n(40,"Mantenimiento"),i()()(),t(41,"div",92)(42,"label",93),n(43,"Precio por Noche"),i(),t(44,"div",19)(45,"span",105),n(46,"S/."),i(),t(47,"input",106),y(48,"async"),E("ngModelChange",function(r){u(e);let s=m();return C(s.habitacionModel.precioPorNoche,r)||(s.habitacionModel.precioPorNoche=r),x(r)}),i()()(),t(49,"div",107)(50,"button",108),p("click",function(){u(e);let r=m();return x(r.limpiarFormulario())}),n(51," Cancelar "),i(),t(52,"button",109),n(53),i()()()()()}if(o&2){let e=m();l(7),b(" ",e.isEditing?"Editar Habitaci\xF3n "+e.habitacionModel.numero:"Nueva Habitaci\xF3n"," "),l(2),b(" ",e.isEditing?"Modifica los detalles de la habitaci\xF3n seleccionada.":"Ingresa los detalles de la nueva habitaci\xF3n."," "),l(5),S("ngModel",e.habitacionModel.numero),c("disabled",!T(15,11,e.isAdmin$)),l(5),S("ngModel",e.habitacionModel.tipo),c("disabled",!T(20,13,e.isAdmin$)),l(13),S("ngModel",e.habitacionModel.estado),l(15),S("ngModel",e.habitacionModel.precioPorNoche),c("readonly",!e.isEditing)("disabled",!T(48,15,e.isAdmin$)),l(6),b(" ",e.isEditing?"Actualizar":"Guardar"," ")}}var ut=(()=>{class o{constructor(e,a,r){this.habitacionService=e,this.authService=a,this.dashboardService=r,this.habitaciones=[],this.filteredHabitaciones=[],this.searchTerm="",this.habitacionModel={id:0,numero:"",tipo:"Simple",estado:"DISPONIBLE",precioPorNoche:50},this.isEditing=!1,this.preciosPorTipo={Simple:50,Doble:80,"Suite Junior":120,"Suite Familiar":150},this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.isAdmin$=this.authService.isAdmin$,this.isRecepcion$=this.authService.isRecepcionista$}ngOnInit(){this.loadHabitaciones(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}loadHabitaciones(){this.habitacionService.getAll().subscribe({next:e=>{this.habitaciones=e,this.filterHabitaciones()},error:e=>console.error("Error loading rooms",e)})}filterHabitaciones(){if(!this.searchTerm)this.filteredHabitaciones=this.habitaciones;else{let e=this.searchTerm.toLowerCase();this.filteredHabitaciones=this.habitaciones.filter(a=>a.numero.toLowerCase().includes(e)||a.tipo.toLowerCase().includes(e))}}onSearch(){this.filterHabitaciones()}limpiarFormulario(){this.habitacionModel={id:0,numero:"",tipo:"Simple",estado:"DISPONIBLE",precioPorNoche:this.preciosPorTipo.Simple},this.isEditing=!1}cargarParaEditar(e){this.habitacionModel=ie({},e),this.isEditing=!0;let a=document.getElementById("form-title");a&&a.scrollIntoView({behavior:"smooth"})}onTipoChange(){this.preciosPorTipo[this.habitacionModel.tipo]&&(this.habitacionModel.precioPorNoche=this.preciosPorTipo[this.habitacionModel.tipo])}guardar(){this.habitacionModel.id&&this.habitacionModel.id>0?this.habitacionService.update(this.habitacionModel.id,this.habitacionModel).subscribe({next:()=>{this.loadHabitaciones(),this.limpiarFormulario()},error:e=>alert("Error actualizando habitaci\xF3n. Verifique los datos o permisos.")}):this.habitacionService.create(this.habitacionModel).subscribe({next:()=>{this.loadHabitaciones(),this.limpiarFormulario()},error:e=>alert("Error creando habitaci\xF3n. Verifique los datos o permisos.")})}eliminar(e){confirm("\xBFEst\xE1s seguro de eliminar esta habitaci\xF3n?")&&this.habitacionService.delete(e).subscribe({next:()=>this.loadHabitaciones(),error:a=>alert("Error eliminando habitaci\xF3n. Puede tener reservas asociadas.")})}static{this.\u0275fac=function(a){return new(a||o)(w(ye),w(j),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-habitaciones"]],standalone:!0,features:[M],decls:72,vars:22,consts:[["noActions",""],[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"absolute","bottom-[-10%]","left-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-accent/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar por n\xFAmero o tipo...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","mb-8"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],["class","flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-white font-bold shadow-lg shadow-primary/20 hover:bg-primary/90 hover:scale-105 transition-all duration-200",3,"click",4,"ngIf"],["class","flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-400 text-sm backdrop-blur-sm",4,"ngIf"],[1,"grid","grid-cols-1","gap-8","lg:grid-cols-3"],[1,"flex","flex-col","gap-6",3,"ngClass"],[1,"flex","flex-col","gap-4","md:flex-row"],[1,"flex","gap-3"],[1,"px-6","py-2.5","rounded-lg","bg-primary","text-white","font-medium","hover:bg-primary/90","transition-colors","shadow-lg","shadow-primary/20",3,"click"],[1,"px-6","py-2.5","rounded-lg","bg-white/5","text-white/80","font-medium","hover:bg-white/10","hover:text-white","transition-colors","border","border-white/10",3,"click"],[1,"glass-panel","rounded-2xl","overflow-hidden","min-h-[400px]"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"px-6","py-4","text-center"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],["class","lg:col-span-1",4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex","items-center","gap-2","px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","shadow-lg","shadow-primary/20","hover:bg-primary/90","hover:scale-105","transition-all","duration-200",3,"click"],[1,"material-symbols-outlined"],[1,"flex","items-center","gap-2","px-4","py-2","rounded-lg","bg-blue-500/10","border","border-blue-500/20","text-blue-400","text-sm","backdrop-blur-sm"],[1,"hover:bg-white/5","transition-colors","group"],[1,"font-bold","text-white","text-lg"],[1,"px-6","py-4","text-white/80"],[1,"inline-flex","items-center","gap-1.5","px-2.5","py-1","rounded-full","text-xs","font-bold","border",3,"ngClass"],[1,"size-1.5","rounded-full",3,"ngClass"],[1,"px-6","py-4","text-right","font-mono","text-white/90"],["class","flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",4,"ngIf","ngIfElse"],[1,"flex","items-center","justify-center","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],["title","Editar",1,"p-2","rounded-lg","text-accent","hover:bg-accent/10","transition-colors",3,"click"],[1,"material-symbols-outlined","text-xl"],["class","p-2 rounded-lg text-red-400 hover:bg-red-500/10 transition-colors","title","Eliminar",3,"click",4,"ngIf"],["title","Eliminar",1,"p-2","rounded-lg","text-red-400","hover:bg-red-500/10","transition-colors",3,"click"],[1,"text-white/20"],["colspan","5",1,"px-6","py-12","text-center","text-white/30","flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-4xl","opacity-50"],[1,"lg:col-span-1"],[1,"sticky","top-24","glass-panel","rounded-2xl","p-6","border","border-primary/20","shadow-lg","shadow-primary/5"],[1,"flex","items-center","gap-3","mb-2"],[1,"p-2","rounded-lg","bg-primary/10","text-primary"],["id","form-title",1,"text-xl","font-bold","text-white"],[1,"mb-6","text-sm","text-white/60","pl-11"],[1,"space-y-5",3,"submit"],[1,"space-y-1.5"],[1,"text-xs","font-bold","text-white/60","uppercase","tracking-wider","ml-1"],["name","numero","type","text","placeholder","Ej: 101","required","",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],["name","tipo",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","[&>option]:bg-[#121212]","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","change","ngModel","disabled"],["value","Simple"],["value","Doble"],["value","Suite Junior"],["value","Suite Familiar"],["name","estado",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","[&>option]:bg-[#121212]",3,"ngModelChange","ngModel"],["value","DISPONIBLE"],["value","OCUPADA"],["value","LIMPIEZA"],["value","MANTENIMIENTO"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","pointer-events-none","font-bold"],["name","precio","type","number","step","0.01","placeholder","0.00","required","",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","pl-9","pr-3","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","readonly","disabled"],[1,"flex","justify-end","gap-3","pt-4"],["type","button",1,"text-sm","font-medium","text-red-400","hover:text-red-300","transition-colors","px-3","py-2","rounded-lg","hover:bg-red-500/10",3,"click"],["type","submit",1,"rounded-lg","bg-primary","px-6","py-2.5","text-sm","font-bold","text-white","hover:bg-primary/90","shadow-lg","shadow-primary/25","hover:scale-105","transition-all","duration-200"]],template:function(a,r){a&1&&(t(0,"div",1)(1,"div",2),h(2,"app-sidebar"),i(),t(3,"div",3)(4,"div",4),h(5,"div",5)(6,"div",6),i(),t(7,"header",7)(8,"div",8)(9,"h2",9),n(10," Gesti\xF3n de Habitaciones "),i(),t(11,"div",10)(12,"a",11),n(13,"Inicio"),i(),t(14,"span",12),n(15,"chevron_right"),i(),t(16,"span",13),n(17,"Habitaciones"),i()()(),t(18,"div",14)(19,"div",15)(20,"span",16)(21,"span",17),n(22,"search"),i()(),t(23,"input",18),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.onSearch()}),i()(),t(24,"div",19)(25,"button",20),p("click",function(){return r.toggleNotifications()}),t(26,"span",21),n(27,"notifications"),i(),g(28,Yi,1,0,"span",22),i(),g(29,Xi,12,3,"div",23),i()()(),t(30,"main",24)(31,"div",25)(32,"div",26)(33,"div",27)(34,"h1",28),n(35," Gesti\xF3n de Habitaciones "),i(),t(36,"p",29),n(37," Crea, edita y gestiona el estado de las habitaciones del hotel. "),i()(),g(38,en,5,0,"button",30),y(39,"async"),g(40,tn,5,0,"div",31),y(41,"async"),i(),t(42,"div",32)(43,"div",33),y(44,"async"),y(45,"async"),t(46,"div",34)(47,"div",35)(48,"button",36),p("click",function(){return r.onSearch()}),n(49," Buscar "),i(),t(50,"button",37),p("click",function(){return r.searchTerm="",r.onSearch()}),n(51," Limpiar "),i()()(),t(52,"div",38)(53,"div",39)(54,"table",40)(55,"thead",41)(56,"tr")(57,"th",42),n(58,"N\xFAmero"),i(),t(59,"th",42),n(60,"Tipo"),i(),t(61,"th",42),n(62,"Estado"),i(),t(63,"th",43),n(64,"Precio/Noche"),i(),t(65,"th",44),n(66,"Acciones"),i()()(),t(67,"tbody",45),g(68,an,19,23,"tr",46)(69,ln,5,0,"tr",47),i()()()()(),g(70,sn,54,17,"div",48),y(71,"async"),i()()()()()),a&2&&(l(23),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(9),c("ngIf",T(39,9,r.isAdmin$)),l(2),c("ngIf",!T(41,11,r.isAdmin$)),l(3),c("ngClass",A(19,qi,T(44,13,r.isAdmin$),!T(45,15,r.isAdmin$))),l(25),c("ngForOf",r.filteredHabitaciones),l(),c("ngIf",r.filteredHabitaciones.length===0),l(),c("ngIf",T(71,17,r.isAdmin$)))},dependencies:[F,L,D,R,Z,me,P,$,ae,be,ve,q,fe,ge,U,re,le,G,oe,B,N,H]})}}return o})();var dn=()=>["/notificaciones"],cn=o=>({id:o}),mn=(o,d)=>({"bg-white/5":o,"opacity-70":d});function pn(o,d){o&1&&h(0,"span",45)}function un(o,d){if(o&1){let e=v();t(0,"div",55),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",56),n(2),i(),t(3,"p",57),n(4),i(),t(5,"div",58)(6,"span",59),n(7),i(),t(8,"p",60),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,dn))("queryParams",V(11,cn,e.id))("ngClass",A(13,mn,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function xn(o,d){o&1&&(t(0,"div",61)(1,"span",62),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function hn(o,d){if(o&1&&(t(0,"div",46)(1,"div",47)(2,"h3",48),n(3,"Notificaciones"),i(),t(4,"span",49),n(5),i()(),t(6,"div",50),g(7,un,11,16,"div",51)(8,xn,4,0,"div",52),i(),t(9,"div",53)(10,"a",54),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function fn(o,d){if(o&1){let e=v();t(0,"button",63),p("click",function(){u(e);let r=m();return x(r.openForm())}),t(1,"span",64),n(2,"add"),i(),t(3,"span"),n(4,"A\xF1adir Nuevo Servicio"),i()()}}function gn(o,d){o&1&&(t(0,"div",65)(1,"span",17),n(2,"info"),i(),t(3,"span"),n(4,"Solo administradores pueden modificar servicios"),i()())}function bn(o,d){if(o&1){let e=v();t(0,"div",73)(1,"button",74),p("click",function(){u(e);let r=m().$implicit,s=m();return x(s.cargarParaEditar(r))}),t(2,"span",75),n(3,"edit"),i()(),t(4,"button",76),p("click",function(){u(e);let r=m().$implicit,s=m();return x(s.eliminar(r.id))}),t(5,"span",75),n(6,"delete"),i()()()}}function vn(o,d){o&1&&(t(0,"span",77),n(1,"\u2014"),i())}function _n(o,d){if(o&1&&(t(0,"tr",66)(1,"td",38)(2,"div",67)(3,"div",68)(4,"span",64),n(5,"spa"),i()(),t(6,"span",69),n(7),i()()(),t(8,"td",70),n(9),i(),t(10,"td",71),n(11),y(12,"number"),i(),t(13,"td",40),g(14,bn,7,0,"div",72),y(15,"async"),g(16,vn,2,0,"ng-template",null,0,te),i()()),o&2){let e=d.$implicit,a=ee(17),r=m();l(7),_(e.nombre),l(2),b(" ",e.descripcion," "),l(2),b(" S/. ",k(12,5,e.precio,"1.2-2")," "),l(3),c("ngIf",T(15,8,r.isAdmin$))("ngIfElse",a)}}function wn(o,d){o&1&&(t(0,"tr")(1,"td",78)(2,"span",79),n(3,"inventory_2"),i(),n(4," No hay servicios registrados. "),i()())}function yn(o,d){if(o&1){let e=v();t(0,"div",80)(1,"div",81)(2,"button",82),p("click",function(){u(e);let r=m();return x(r.closeForm())}),t(3,"span",64),n(4,"close"),i()(),t(5,"div",83)(6,"div",84)(7,"span",64),n(8,"edit_square"),i()(),t(9,"h2",85),n(10),i()(),t(11,"p",86),n(12),i(),t(13,"form",87),p("submit",function(){u(e);let r=m();return x(r.guardar())}),t(14,"div",88)(15,"label",89),n(16,"Nombre"),i(),t(17,"input",90),E("ngModelChange",function(r){u(e);let s=m();return C(s.servicioModel.nombre,r)||(s.servicioModel.nombre=r),x(r)}),i()(),t(18,"div",88)(19,"label",89),n(20,"Precio ($)"),i(),t(21,"input",91),E("ngModelChange",function(r){u(e);let s=m();return C(s.servicioModel.precio,r)||(s.servicioModel.precio=r),x(r)}),i()(),t(22,"div",88)(23,"label",89),n(24,"Descripci\xF3n"),i(),t(25,"textarea",92),E("ngModelChange",function(r){u(e);let s=m();return C(s.servicioModel.descripcion,r)||(s.servicioModel.descripcion=r),x(r)}),i()(),t(26,"div",88)(27,"label",89),n(28,"Categor\xEDa"),i(),t(29,"input",93),E("ngModelChange",function(r){u(e);let s=m();return C(s.servicioModel.categoria,r)||(s.servicioModel.categoria=r),x(r)}),i()(),t(30,"label",94)(31,"input",95),E("ngModelChange",function(r){u(e);let s=m();return C(s.servicioModel.activo,r)||(s.servicioModel.activo=r),x(r)}),i(),t(32,"span",96),n(33," Servicio Activo "),i()(),t(34,"div",97)(35,"button",98),p("click",function(){u(e);let r=m();return x(r.closeForm())}),n(36," Cancelar "),i(),t(37,"button",99),n(38),i()()()()()}if(o&2){let e=m();l(10),b(" ",e.isEditing?"Editar Servicio":"Nuevo Servicio"," "),l(2),b(" ",e.isEditing?"Modifica los detalles.":"Ingresa los detalles del nuevo servicio."," "),l(5),S("ngModel",e.servicioModel.nombre),l(4),S("ngModel",e.servicioModel.precio),l(4),S("ngModel",e.servicioModel.descripcion),l(4),S("ngModel",e.servicioModel.categoria),l(2),S("ngModel",e.servicioModel.activo),l(7),b(" ",e.isEditing?"Actualizar":"Guardar"," ")}}var xt=(()=>{class o{openForm(){this.limpiarFormulario(),this.showForm=!0}closeForm(){this.showForm=!1,this.limpiarFormulario()}constructor(e,a,r){this.servicioService=e,this.authService=a,this.dashboardService=r,this.servicios=[],this.filteredServicios=[],this.searchTerm="",this.servicioModel={id:0,nombre:"",descripcion:"",precio:0,categoria:"General",activo:!0},this.isEditing=!1,this.showForm=!1,this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.isAdmin$=this.authService.isAdmin$}ngOnInit(){this.loadServicios(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}loadServicios(){this.servicioService.getAll().subscribe({next:e=>{this.servicios=e,this.filterServicios()},error:e=>console.error("Error loading servicios",e)})}filterServicios(){if(!this.searchTerm)this.filteredServicios=this.servicios;else{let e=this.searchTerm.toLowerCase();this.filteredServicios=this.servicios.filter(a=>a.nombre.toLowerCase().includes(e)||a.descripcion.toLowerCase().includes(e))}}onSearch(){this.filterServicios()}limpiarFormulario(){this.servicioModel={id:0,nombre:"",descripcion:"",precio:0,categoria:"General",activo:!0},this.isEditing=!1}cargarParaEditar(e){this.servicioModel=ie({},e),this.isEditing=!0,this.showForm=!0}guardar(){this.servicioModel.id&&this.servicioModel.id>0?this.servicioService.update(this.servicioModel.id,this.servicioModel).subscribe({next:()=>{alert("Servicio actualizado exitosamente"),window.location.reload()},error:()=>alert("Error actualizando servicio")}):this.servicioService.create(this.servicioModel).subscribe({next:()=>{alert("Servicio creado exitosamente"),window.location.reload()},error:e=>{console.error(e),alert("Error creando servicio: "+(typeof e.error=="string"?e.error:e.message))}})}eliminar(e){confirm("\xBFEst\xE1s seguro de que deseas eliminar este servicio? Esta acci\xF3n no se puede deshacer.")&&this.servicioService.eliminar(e).subscribe({next:()=>this.loadServicios(),error:()=>alert("Error eliminando servicio")})}static{this.\u0275fac=function(a){return new(a||o)(w(Le),w(j),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-servicios"]],standalone:!0,features:[M],decls:61,vars:12,consts:[["noAdminActions",""],[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"absolute","bottom-[-10%]","left-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-accent/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar servicio...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","mb-8"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],["class","flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-white font-bold shadow-lg shadow-primary/20 hover:bg-primary/90 hover:scale-105 transition-all duration-200",3,"click",4,"ngIf"],["class","flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-400 text-sm backdrop-blur-sm",4,"ngIf"],[1,"grid","grid-cols-1"],[1,"flex","flex-col","gap-6"],[1,"glass-panel","rounded-2xl","overflow-hidden","min-h-[300px]"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"px-6","py-4","text-center"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex","items-center","gap-2","px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","shadow-lg","shadow-primary/20","hover:bg-primary/90","hover:scale-105","transition-all","duration-200",3,"click"],[1,"material-symbols-outlined"],[1,"flex","items-center","gap-2","px-4","py-2","rounded-lg","bg-blue-500/10","border","border-blue-500/20","text-blue-400","text-sm","backdrop-blur-sm"],[1,"hover:bg-white/5","transition-colors","group"],[1,"flex","items-center","gap-3"],[1,"size-10","rounded-lg","bg-white/5","flex","items-center","justify-center","text-white/40","group-hover:text-primary","transition-colors"],[1,"font-bold","text-white","text-base"],[1,"px-6","py-4","text-white/60","truncate","max-w-xs"],[1,"px-6","py-4","text-right","font-mono","font-bold","text-white"],["class","flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",4,"ngIf","ngIfElse"],[1,"flex","items-center","justify-center","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],["title","Editar",1,"p-2","rounded-lg","text-accent","hover:bg-accent/10","transition-colors",3,"click"],[1,"material-symbols-outlined","text-xl"],["title","Eliminar",1,"p-2","rounded-lg","text-red-400","hover:bg-red-500/10","transition-colors",3,"click"],[1,"text-white/20"],["colspan","4",1,"px-6","py-12","text-center","text-white/30","flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-4xl","opacity-50"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/80","backdrop-blur-sm","animate-fade-in"],[1,"relative","w-full","max-w-2xl","bg-[#1A1A1A]","border","border-white/10","rounded-2xl","shadow-2xl","p-8","max-h-[90vh]","overflow-y-auto"],[1,"absolute","top-4","right-4","text-white/40","hover:text-white","transition-colors",3,"click"],[1,"flex","items-center","gap-3","mb-2"],[1,"p-2","rounded-lg","bg-primary/10","text-primary"],[1,"text-xl","font-bold","text-white"],[1,"mb-6","text-sm","text-white/60","pl-11"],[1,"space-y-5",3,"submit"],[1,"space-y-1.5"],[1,"text-xs","font-bold","text-white/60","uppercase","tracking-wider","ml-1"],["name","nombre","type","text","placeholder","Ej. Masaje","required","",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5",3,"ngModelChange","ngModel"],["name","precio","type","number","step","0.01","min","0","required","","placeholder","0.00",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5",3,"ngModelChange","ngModel"],["name","descripcion","placeholder","Detalles sobre el servicio...","required","","maxlength","255",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","min-h-[100px]","resize-y","p-3",3,"ngModelChange","ngModel"],["name","categoria","type","text","placeholder","Ej. Wellness, Gastronom\xEDa...","maxlength","50",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3","p-3","rounded-lg","bg-white/5","border","border-white/5","hover:border-primary/30","transition-colors","cursor-pointer","group"],["type","checkbox","name","activo",1,"rounded","bg-black/40","border-white/20","text-primary","focus:ring-primary","size-5","transition-all",3,"ngModelChange","ngModel"],[1,"text-sm","font-medium","text-white","group-hover:text-primary","transition-colors"],[1,"flex","justify-end","gap-3","pt-4"],["type","button",1,"text-sm","font-medium","text-red-400","hover:text-red-300","transition-colors","px-3","py-2","rounded-lg","hover:bg-red-500/10",3,"click"],["type","submit",1,"rounded-lg","bg-primary","px-6","py-2.5","text-sm","font-bold","text-white","hover:bg-primary/90","shadow-lg","shadow-primary/25","hover:scale-105","transition-all","duration-200"]],template:function(a,r){a&1&&(t(0,"div",1)(1,"div",2),h(2,"app-sidebar"),i(),t(3,"div",3)(4,"div",4),h(5,"div",5)(6,"div",6),i(),t(7,"header",7)(8,"div",8)(9,"h2",9),n(10," Gesti\xF3n de Servicios "),i(),t(11,"div",10)(12,"a",11),n(13,"Inicio"),i(),t(14,"span",12),n(15,"chevron_right"),i(),t(16,"span",13),n(17,"Servicios"),i()()(),t(18,"div",14)(19,"div",15)(20,"span",16)(21,"span",17),n(22,"search"),i()(),t(23,"input",18),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.onSearch()})("ngModelChange",function(){return r.onSearch()}),i()(),t(24,"div",19)(25,"button",20),p("click",function(){return r.toggleNotifications()}),t(26,"span",21),n(27,"notifications"),i(),g(28,pn,1,0,"span",22),i(),g(29,hn,12,3,"div",23),i()()(),t(30,"main",24)(31,"div",25)(32,"div",26)(33,"div",27)(34,"h1",28),n(35," Gesti\xF3n de Servicios "),i(),t(36,"p",29),n(37," Administra los servicios adicionales ofrecidos por el hotel. "),i()(),g(38,fn,5,0,"button",30),y(39,"async"),g(40,gn,5,0,"div",31),y(41,"async"),i(),t(42,"div",32)(43,"div",33)(44,"div",34)(45,"div",35)(46,"table",36)(47,"thead",37)(48,"tr")(49,"th",38),n(50,"Servicio"),i(),t(51,"th",38),n(52,"Descripci\xF3n"),i(),t(53,"th",39),n(54,"Precio"),i(),t(55,"th",40),n(56,"Acciones"),i()()(),t(57,"tbody",41),g(58,_n,18,10,"tr",42)(59,wn,5,0,"tr",43),i()()()()()()()(),g(60,yn,39,8,"div",44),i()()),a&2&&(l(23),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(9),c("ngIf",T(39,8,r.isAdmin$)),l(2),c("ngIf",!T(41,10,r.isAdmin$)),l(18),c("ngForOf",r.filteredServicios),l(),c("ngIf",r.filteredServicios.length===0),l(),c("ngIf",r.showForm))},dependencies:[F,L,D,R,Z,me,P,$,ae,q,fe,Ne,U,re,le,pe,Qe,G,oe,B,N,H]})}}return o})();var Sn=()=>["/notificaciones"],Cn=o=>({id:o}),En=(o,d)=>({"bg-white/5":o,"opacity-70":d});function kn(o,d){o&1&&h(0,"span",43)}function In(o,d){if(o&1){let e=v();t(0,"div",53),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",54),n(2),i(),t(3,"p",55),n(4),i(),t(5,"div",56)(6,"span",57),n(7),i(),t(8,"p",58),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,Sn))("queryParams",V(11,Cn,e.id))("ngClass",A(13,En,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function Mn(o,d){o&1&&(t(0,"div",59)(1,"span",60),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function Tn(o,d){if(o&1&&(t(0,"div",44)(1,"div",45)(2,"h3",46),n(3,"Notificaciones"),i(),t(4,"span",47),n(5),i()(),t(6,"div",48),g(7,In,11,16,"div",49)(8,Mn,4,0,"div",50),i(),t(9,"div",51)(10,"a",52),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function Fn(o,d){if(o&1){let e=v();t(0,"button",61),p("click",function(){u(e);let r=m();return x(r.openForm())}),t(1,"span",62),n(2,"add"),i(),t(3,"span"),n(4,"Registrar Nuevo Descuento"),i()()}}function Rn(o,d){if(o&1){let e=v();t(0,"div",76)(1,"button",77),p("click",function(){u(e);let r=m().$implicit,s=m();return x(s.cargarParaEditar(r))}),t(2,"span",78),n(3,"edit"),i()(),t(4,"button",79),p("click",function(){u(e);let r=m().$implicit,s=m();return x(s.eliminar(r.id))}),t(5,"span",78),n(6,"delete"),i()()()}}function An(o,d){o&1&&(t(0,"span",80),n(1,"\u2014"),i())}function Nn(o,d){if(o&1&&(t(0,"tr",63)(1,"td",38)(2,"div",64)(3,"span",65),n(4,"sell"),i(),t(5,"span",66),n(6),i()()(),t(7,"td",67),n(8),i(),t(9,"td",68),n(10),i(),t(11,"td",38)(12,"div",69)(13,"div",70),h(14,"div",71),i(),t(15,"span",72),n(16),i()()(),t(17,"td",38)(18,"span",73),h(19,"span",74),n(20),i()(),t(21,"td",37),g(22,Rn,7,0,"div",75),y(23,"async"),g(24,An,2,0,"ng-template",null,0,te),i()()),o&2){let e=d.$implicit,a=ee(25),r=m();l(6),_(e.codigo),l(2),_(e.tipo),l(2),b(" ",e.valor," "),l(4),Be("width",r.getPorcentajeUso(e),"%"),l(2),z("",e.usosActuales,"/",e.usosMaximos||"\u221E",""),l(2),c("ngClass",e.activo?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"),l(),c("ngClass",e.activo?"bg-green-400":"bg-red-400"),l(),b(" ",e.activo?"Activo":"Inactivo"," "),l(2),c("ngIf",T(23,12,r.isAdmin$))("ngIfElse",a)}}function Vn(o,d){o&1&&(t(0,"tr")(1,"td",81)(2,"span",82),n(3,"money_off"),i(),n(4," No se encontraron descuentos. "),i()())}function Dn(o,d){if(o&1){let e=v();t(0,"div",83)(1,"div",84)(2,"button",85),p("click",function(){u(e);let r=m();return x(r.closeForm())}),t(3,"span",62),n(4,"close"),i()(),t(5,"div",86)(6,"div",87)(7,"span",62),n(8,"edit_square"),i()(),t(9,"h2",88),n(10),i()(),t(11,"p",89),n(12),i(),t(13,"form",90),p("submit",function(){u(e);let r=m();return x(r.guardar())}),t(14,"div",91)(15,"label",92),n(16,"C\xF3digo"),i(),t(17,"input",93),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.codigo,r)||(s.descuentoModel.codigo=r),x(r)}),i()(),t(18,"div",91)(19,"label",92),n(20,"Descripci\xF3n"),i(),t(21,"textarea",94),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.descripcion,r)||(s.descuentoModel.descripcion=r),x(r)}),i()(),t(22,"div",95)(23,"div",91)(24,"label",92),n(25,"Tipo"),i(),t(26,"select",96),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.tipo,r)||(s.descuentoModel.tipo=r),x(r)}),t(27,"option",97),n(28,"Porcentaje"),i(),t(29,"option",98),n(30,"Monto Fijo"),i()()(),t(31,"div",91)(32,"label",92),n(33,"Valor"),i(),t(34,"input",99),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.valor,r)||(s.descuentoModel.valor=r),x(r)}),i()()(),t(35,"div",95)(36,"div",91)(37,"label",92),n(38,"Uso Max"),i(),t(39,"input",100),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.usosMaximos,r)||(s.descuentoModel.usosMaximos=r),x(r)}),i()(),t(40,"div",91)(41,"label",92),n(42,"Min ($)"),i(),t(43,"input",101),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.montoMinimo,r)||(s.descuentoModel.montoMinimo=r),x(r)}),i()()(),t(44,"div",95)(45,"div",91)(46,"label",92),n(47,"Fecha Inicio"),i(),t(48,"input",102),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.fechaInicio,r)||(s.descuentoModel.fechaInicio=r),x(r)}),i()(),t(49,"div",91)(50,"label",92),n(51,"Fecha Fin"),i(),t(52,"input",103),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.fechaFin,r)||(s.descuentoModel.fechaFin=r),x(r)}),i()()(),t(53,"label",104)(54,"input",105),E("ngModelChange",function(r){u(e);let s=m();return C(s.descuentoModel.activo,r)||(s.descuentoModel.activo=r),x(r)}),i(),t(55,"span",106),n(56," Descuento Activo "),i()(),t(57,"div",107)(58,"button",108),p("click",function(){u(e);let r=m();return x(r.closeForm())}),n(59," Cancelar "),i(),t(60,"button",109),n(61),i()()()()()}if(o&2){let e=m();l(10),b(" ",e.isEditing?"Editar Descuento":"Nuevo Descuento"," "),l(2),b(" ",e.isEditing?"Modifica las condiciones del descuento.":"Crea un nuevo c\xF3digo de promoci\xF3n."," "),l(5),S("ngModel",e.descuentoModel.codigo),l(4),S("ngModel",e.descuentoModel.descripcion),l(5),S("ngModel",e.descuentoModel.tipo),l(8),S("ngModel",e.descuentoModel.valor),l(5),S("ngModel",e.descuentoModel.usosMaximos),l(4),S("ngModel",e.descuentoModel.montoMinimo),l(5),S("ngModel",e.descuentoModel.fechaInicio),l(4),S("ngModel",e.descuentoModel.fechaFin),l(2),S("ngModel",e.descuentoModel.activo),l(7),b(" ",e.isEditing?"Actualizar":"Guardar"," ")}}var ht=(()=>{class o{openForm(){this.limpiarFormulario(),this.showForm=!0}closeForm(){this.showForm=!1,this.limpiarFormulario()}constructor(e,a,r){this.descuentoService=e,this.authService=a,this.dashboardService=r,this.descuentos=[],this.filteredDescuentos=[],this.searchTerm="",this.descuentoModel={id:0,codigo:"",descripcion:"",tipo:"PORCENTAJE",valor:0,usosMaximos:100,usosActuales:0,activo:!0,montoMinimo:0,montoMaximoDescuento:0},this.isEditing=!1,this.showForm=!1,this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.isAdmin$=this.authService.isAdmin$}ngOnInit(){this.loadDescuentos(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}loadDescuentos(){this.descuentoService.getAll().subscribe({next:e=>{this.descuentos=e,this.filterDescuentos()},error:e=>console.error("Error loading discounts",e)})}filterDescuentos(){if(!this.searchTerm)this.filteredDescuentos=this.descuentos;else{let e=this.searchTerm.toLowerCase();this.filteredDescuentos=this.descuentos.filter(a=>a.codigo.toLowerCase().includes(e))}}onSearch(){this.filterDescuentos()}limpiarFormulario(){this.descuentoModel={id:0,codigo:"",descripcion:"",tipo:"PORCENTAJE",valor:0,usosMaximos:100,usosActuales:0,activo:!0,montoMinimo:0,montoMaximoDescuento:0},this.isEditing=!1}cargarParaEditar(e){this.descuentoModel=ie({},e),this.isEditing=!0,this.showForm=!0}guardar(){this.descuentoModel.id&&this.descuentoModel.id>0?this.descuentoService.update(this.descuentoModel.id,this.descuentoModel).subscribe({next:()=>{alert("Descuento actualizado exitosamente"),window.location.reload()},error:()=>alert("Error actualizando descuento")}):this.descuentoService.create(this.descuentoModel).subscribe({next:()=>{alert("Descuento creado exitosamente"),window.location.reload()},error:e=>{console.error(e),alert("Error creando descuento: "+(typeof e.error=="string"?e.error:e.message))}})}eliminar(e){confirm("\xBFEst\xE1s seguro de eliminar este descuento?")&&this.descuentoService.delete(e).subscribe({next:()=>this.loadDescuentos(),error:()=>alert("Error eliminando descuento")})}getPorcentajeUso(e){return e.usosMaximos&&e.usosMaximos>0?Math.min(e.usosActuales/e.usosMaximos*100,100):0}static{this.\u0275fac=function(a){return new(a||o)(w(tt),w(j),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-descuentos"]],standalone:!0,features:[M],decls:63,vars:9,consts:[["noAdminActions",""],[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"absolute","bottom-[-10%]","left-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-accent/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar por c\xF3digo...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","mb-8"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],["class","flex items-center gap-2 px-5 py-2.5 rounded-lg bg-primary text-white font-bold shadow-lg shadow-primary/20 hover:bg-primary/90 hover:scale-105 transition-all duration-200",3,"click",4,"ngIf"],[1,"grid","grid-cols-1"],[1,"flex","flex-col","gap-6"],[1,"glass-panel","rounded-2xl","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4","text-center"],[1,"px-6","py-4"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex","items-center","gap-2","px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","shadow-lg","shadow-primary/20","hover:bg-primary/90","hover:scale-105","transition-all","duration-200",3,"click"],[1,"material-symbols-outlined"],[1,"hover:bg-white/5","transition-colors","group"],[1,"flex","items-center","justify-center","gap-2"],[1,"material-symbols-outlined","text-primary","text-lg"],[1,"font-bold","text-white"],[1,"px-6","py-4","text-white/80"],[1,"px-6","py-4","font-mono","font-bold","text-white","text-center"],[1,"flex","items-center","gap-2"],[1,"w-16","h-1.5","bg-white/10","rounded-full","overflow-hidden"],[1,"h-full","bg-primary","rounded-full","transition-all","duration-500"],[1,"text-xs","text-white/60"],[1,"inline-flex","items-center","gap-1.5","px-2.5","py-1","rounded-full","text-xs","font-bold","border",3,"ngClass"],[1,"size-1.5","rounded-full",3,"ngClass"],["class","flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",4,"ngIf","ngIfElse"],[1,"flex","items-center","justify-center","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],["title","Editar",1,"p-2","rounded-lg","text-accent","hover:bg-accent/10","transition-colors",3,"click"],[1,"material-symbols-outlined","text-xl"],["title","Eliminar",1,"p-2","rounded-lg","text-red-400","hover:bg-red-500/10","transition-colors",3,"click"],[1,"text-white/20"],["colspan","6",1,"px-6","py-12","text-center","text-white/30","flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-4xl","opacity-50"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/80","backdrop-blur-sm","animate-fade-in"],[1,"relative","w-full","max-w-2xl","bg-[#1A1A1A]","border","border-white/10","rounded-2xl","shadow-2xl","p-8","max-h-[90vh]","overflow-y-auto"],[1,"absolute","top-4","right-4","text-white/40","hover:text-white","transition-colors",3,"click"],[1,"flex","items-center","gap-3","mb-2"],[1,"p-2","rounded-lg","bg-primary/10","text-primary"],[1,"text-xl","font-bold","text-white"],[1,"mb-6","text-sm","text-white/60","pl-11"],[1,"space-y-5",3,"submit"],[1,"space-y-1.5"],[1,"text-xs","font-bold","text-white/60","uppercase","tracking-wider","ml-1"],["name","codigo","type","text","placeholder","EJ: VERANO24","required","","minlength","3","maxlength","20",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5","uppercase",3,"ngModelChange","ngModel"],["name","descripcion","placeholder","Breve descripci\xF3n del descuento...","required","","maxlength","200",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5","resize-none","h-20",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-4"],["name","tipo",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5","[&>option]:bg-[#121212]",3,"ngModelChange","ngModel"],["value","PORCENTAJE"],["value","MONTO_FIJO"],["name","valor","type","number","step","0.01","required","","placeholder","0.00",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5",3,"ngModelChange","ngModel"],["name","usosMaximos","type","number","required","","placeholder","\u221E",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5",3,"ngModelChange","ngModel"],["name","min","type","number","step","0.01","placeholder","0.00",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5",3,"ngModelChange","ngModel"],["name","fechaInicio","type","date","required","",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5","custom-date-input",3,"ngModelChange","ngModel"],["name","fechaFin","type","date","required","",1,"w-full","rounded-lg","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","p-2.5","custom-date-input",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-3","p-3","rounded-lg","bg-white/5","border","border-white/5","hover:border-primary/30","transition-colors","cursor-pointer","group"],["type","checkbox","name","activo",1,"rounded","bg-black/40","border-white/20","text-primary","focus:ring-primary","size-5","transition-all",3,"ngModelChange","ngModel"],[1,"text-sm","font-medium","text-white","group-hover:text-primary","transition-colors"],[1,"flex","justify-end","gap-3","pt-4"],["type","button",1,"text-sm","font-medium","text-red-400","hover:text-red-300","transition-colors","px-3","py-2","rounded-lg","hover:bg-red-500/10",3,"click"],["type","submit",1,"rounded-lg","bg-primary","px-6","py-2.5","text-sm","font-bold","text-white","hover:bg-primary/90","shadow-lg","shadow-primary/25","hover:scale-105","transition-all","duration-200"]],template:function(a,r){a&1&&(t(0,"div",1)(1,"div",2),h(2,"app-sidebar"),i(),t(3,"div",3)(4,"div",4),h(5,"div",5)(6,"div",6),i(),t(7,"header",7)(8,"div",8)(9,"h2",9),n(10," Gesti\xF3n de Descuentos "),i(),t(11,"div",10)(12,"a",11),n(13,"Inicio"),i(),t(14,"span",12),n(15,"chevron_right"),i(),t(16,"span",13),n(17,"Descuentos"),i()()(),t(18,"div",14)(19,"div",15)(20,"span",16)(21,"span",17),n(22,"search"),i()(),t(23,"input",18),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("keyup.enter",function(){return r.onSearch()})("ngModelChange",function(){return r.onSearch()}),i()(),t(24,"div",19)(25,"button",20),p("click",function(){return r.toggleNotifications()}),t(26,"span",21),n(27,"notifications"),i(),g(28,kn,1,0,"span",22),i(),g(29,Tn,12,3,"div",23),i()()(),t(30,"main",24)(31,"div",25)(32,"div",26)(33,"div",27)(34,"h1",28),n(35," Gesti\xF3n de Descuentos "),i(),t(36,"p",29),n(37," Administre los c\xF3digos de descuento y promociones. "),i()(),g(38,Fn,5,0,"button",30),y(39,"async"),i(),t(40,"div",31)(41,"div",32)(42,"div",33)(43,"div",34)(44,"table",35)(45,"thead",36)(46,"tr")(47,"th",37),n(48,"C\xF3digo"),i(),t(49,"th",38),n(50,"Tipo"),i(),t(51,"th",37),n(52,"Valor"),i(),t(53,"th",38),n(54,"Uso"),i(),t(55,"th",38),n(56,"Estado"),i(),t(57,"th",37),n(58,"Acciones"),i()()(),t(59,"tbody",39),g(60,Nn,26,14,"tr",40)(61,Vn,5,0,"tr",41),i()()()()()()()(),g(62,Dn,62,12,"div",42),i()()),a&2&&(l(23),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(9),c("ngIf",T(39,7,r.isAdmin$)),l(22),c("ngForOf",r.filteredDescuentos),l(),c("ngIf",r.filteredDescuentos.length===0),l(),c("ngIf",r.showForm))},dependencies:[F,L,D,R,Z,P,$,ae,be,ve,q,fe,Ne,ge,U,re,le,Ve,pe,G,oe,B,N,H]})}}return o})();var ft=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${Ae.apiUrl}/resenas`}getAll(){return this.http.get(`${this.apiUrl}/todas`)}aprobar(e){return this.http.post(`${this.apiUrl}/${e}/aprobar`,{})}responder(e,a){return this.http.post(`${this.apiUrl}/${e}/responder`,a)}delete(e){return this.http.delete(`${this.apiUrl}/${e}`)}getMisResenas(){return this.http.get(`${this.apiUrl}/mis-resenas`)}static{this.\u0275fac=function(a){return new(a||o)(Te(Re))}}static{this.\u0275prov=Me({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var jn=()=>["/notificaciones"],On=o=>({id:o}),Hn=(o,d)=>({"bg-white/5":o,"opacity-70":d}),zn=(o,d)=>({"bg-green-500/20 text-green-400":o,"bg-yellow-500/20 text-yellow-400":d});function Wn(o,d){o&1&&h(0,"span",30)}function Bn(o,d){if(o&1){let e=v();t(0,"div",40),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",41),n(2),i(),t(3,"p",42),n(4),i(),t(5,"div",43)(6,"span",44),n(7),i(),t(8,"p",45),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,jn))("queryParams",V(11,On,e.id))("ngClass",A(13,Hn,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function qn(o,d){o&1&&(t(0,"div",46)(1,"span",47),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function Un(o,d){if(o&1&&(t(0,"div",31)(1,"div",32)(2,"h3",33),n(3,"Notificaciones"),i(),t(4,"span",34),n(5),i()(),t(6,"div",35),g(7,Bn,11,16,"div",36)(8,qn,4,0,"div",37),i(),t(9,"div",38)(10,"a",39),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function Gn(o,d){o&1&&(t(0,"span",60),n(1,"star"),i())}function $n(o,d){if(o&1&&(t(0,"div",61)(1,"p",62),n(2," Respuesta del Hotel: "),i(),t(3,"p",63),n(4),i()()),o&2){let e=m().$implicit;l(4),_(e.respuesta)}}function Zn(o,d){if(o&1){let e=v();t(0,"div",64)(1,"textarea",65),E("ngModelChange",function(r){u(e);let s=m(2);return C(s.respuestaText,r)||(s.respuestaText=r),x(r)}),i(),t(2,"div",66)(3,"button",67),p("click",function(){u(e);let r=m(2);return x(r.cancelarRespuesta())}),n(4," Cancelar "),i(),t(5,"button",68),p("click",function(){u(e);let r=m().$implicit,s=m();return x(s.enviarRespuesta(r.id))}),n(6," Enviar "),i()()()}if(o&2){let e=m(2);l(),S("ngModel",e.respuestaText)}}function Jn(o,d){if(o&1){let e=v();t(0,"button",74),p("click",function(){u(e);let r=m(2).$implicit,s=m();return x(s.aprobar(r.id))}),n(1," Aprobar "),i()}}function Yn(o,d){if(o&1){let e=v();t(0,"button",75),p("click",function(){u(e);let r=m(2).$implicit,s=m();return x(s.iniciarRespuesta(r))}),n(1," Responder "),i()}}function Kn(o,d){if(o&1){let e=v();t(0,"button",76),p("click",function(){u(e);let r=m(2).$implicit,s=m();return x(s.iniciarRespuesta(r))}),n(1," Editar "),i()}}function Qn(o,d){if(o&1){let e=v();t(0,"button",77),p("click",function(){u(e);let r=m(2).$implicit,s=m();return x(s.eliminar(r.id))}),t(1,"span",78),n(2,"delete"),i()()}}function Xn(o,d){if(o&1&&(t(0,"div",69),g(1,Jn,2,0,"button",70)(2,Yn,2,0,"button",71)(3,Kn,2,0,"button",72)(4,Qn,3,0,"button",73),y(5,"async"),i()),o&2){let e=m().$implicit,a=m();l(),c("ngIf",!e.aprobada),l(),c("ngIf",!e.respuesta&&a.answeringId!==e.id),l(),c("ngIf",e.respuesta&&a.answeringId!==e.id),l(),c("ngIf",T(5,4,a.isAdmin$))}}function er(o,d){if(o&1&&(t(0,"div",48)(1,"div",49)(2,"div",50)(3,"div",51),n(4),i(),t(5,"div")(6,"h3",52),n(7),i(),t(8,"div",53),g(9,Gn,2,0,"span",54),i()()(),t(10,"span",55),n(11),i()(),t(12,"p",56),n(13),i(),g(14,$n,5,1,"div",57)(15,Zn,7,1,"div",58)(16,Xn,6,6,"div",59),y(17,"async"),i()),o&2){let e=d.$implicit,a=m();l(4),b(" ",(e.cliente==null||e.cliente.nombres==null?null:e.cliente.nombres.charAt(0))||"?"," "),l(3),z(" ",e.cliente==null?null:e.cliente.nombres," ",e.cliente==null?null:e.cliente.apellidos," "),l(2),c("ngForOf",a.getStarsArray(e.calificacion)),l(),c("ngClass",A(12,zn,e.aprobada,!e.aprobada)),l(),b(" ",e.aprobada?"Aprobada":"Pendiente"," "),l(2),b(' "',e.comentario,'" '),l(),c("ngIf",e.respuesta&&a.answeringId!==e.id),l(),c("ngIf",a.answeringId===e.id),l(),c("ngIf",T(17,10,a.isAdmin$))}}function tr(o,d){o&1&&(t(0,"div",79)(1,"div",80)(2,"span",81),n(3,"rate_review"),i()(),t(4,"h3",82),n(5,"No hay rese\xF1as a\xFAn"),i(),t(6,"p",83),n(7," Las opiniones de los clientes aparecer\xE1n aqu\xED. "),i()())}var gt=(()=>{class o{constructor(e,a,r){this.resenaService=e,this.authService=a,this.dashboardService=r,this.resenas=[],this.filteredResenas=[],this.filterMode="all",this.searchTerm="",this.answeringId=null,this.respuestaText="",this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.isAdmin$=this.authService.isAdmin$,this.isRecepcion$=this.authService.isRecepcionista$}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}ngOnInit(){this.loadResenas(),this.loadNotifications()}loadResenas(){this.resenaService.getAll().subscribe({next:e=>{this.resenas=e,this.applyFilter()},error:e=>console.error("Error cargando rese\xF1as",e)})}applyFilter(){let e=this.resenas;if(this.filterMode==="pending"?e=e.filter(a=>!a.aprobada):this.filterMode==="approved"&&(e=e.filter(a=>a.aprobada)),this.searchTerm){let a=this.searchTerm.toLowerCase();e=e.filter(r=>r.comentario?.toLowerCase().includes(a)||r.cliente?.nombres&&r.cliente.nombres.toLowerCase().includes(a))}this.filteredResenas=e}setFilter(e){this.filterMode=e,this.applyFilter()}onSearch(){this.applyFilter()}aprobar(e){confirm("\xBFAprobar esta rese\xF1a para que sea p\xFAblica?")&&this.resenaService.aprobar(e).subscribe(()=>this.loadResenas())}eliminar(e){confirm("\xBFEliminar esta rese\xF1a permanentemente?")&&this.resenaService.delete(e).subscribe(()=>this.loadResenas())}iniciarRespuesta(e){this.answeringId=e.id,this.respuestaText=e.respuesta||""}cancelarRespuesta(){this.answeringId=null,this.respuestaText=""}enviarRespuesta(e){this.respuestaText.trim()&&this.resenaService.responder(e,this.respuestaText).subscribe(()=>{this.cancelarRespuesta(),this.loadResenas()})}getStarsArray(e){return Array(Math.floor(e)).fill(0)}static{this.\u0275fac=function(a){return new(a||o)(w(ft),w(j),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-resenas"]],standalone:!0,features:[M],decls:44,vars:8,consts:[[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8"],[1,"mx-auto","max-w-7xl"],[1,"flex","flex-col","gap-1","mb-8"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],[1,"flex","items-center","gap-6","border-b","border-white/10","mb-8"],[1,"pb-3","text-sm","font-medium","transition-colors","border-b-2",3,"click","ngClass"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-6"],["class","flex flex-col rounded-xl border border-white/10 bg-white/5 p-5 shadow-sm hover:border-primary/30 transition-all group",4,"ngFor","ngForOf"],["class","glass-panel border border-white/5 rounded-2xl flex flex-col items-center justify-center p-12 text-center h-[300px]",4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex","flex-col","rounded-xl","border","border-white/10","bg-white/5","p-5","shadow-sm","hover:border-primary/30","transition-all","group"],[1,"flex","justify-between","items-start","mb-3"],[1,"flex","items-center","gap-3"],[1,"h-10","w-10","rounded-full","bg-primary/20","flex","items-center","justify-center","text-primary","font-bold","text-lg"],[1,"font-bold","text-white","text-sm"],[1,"flex","text-yellow-400","text-xs"],["class","material-symbols-outlined text-[16px]","style","font-variation-settings: 'FILL' 1",4,"ngFor","ngForOf"],[1,"px-2","py-1","rounded","text-[10px]","font-bold","uppercase","tracking-wider",3,"ngClass"],[1,"text-gray-300","text-sm","mb-4","italic","leading-relaxed"],["class","mt-auto mb-4 bg-primary/5 p-3 rounded-lg border border-primary/10",4,"ngIf"],["class","mt-auto mb-4",4,"ngIf"],["class","flex gap-2 mt-auto pt-3 border-t border-white/5 opacity-0 group-hover:opacity-100 transition-opacity",4,"ngIf"],[1,"material-symbols-outlined","text-[16px]",2,"font-variation-settings","'FILL' 1"],[1,"mt-auto","mb-4","bg-primary/5","p-3","rounded-lg","border","border-primary/10"],[1,"text-xs","text-primary","font-bold","mb-1"],[1,"text-xs","text-gray-300"],[1,"mt-auto","mb-4"],["rows","3","placeholder","Escribe tu respuesta...",1,"w-full","bg-black/20","border","border-white/10","rounded-lg","p-3","text-sm","text-white","mb-2","focus:border-primary/50","outline-none","resize-none",3,"ngModelChange","ngModel"],[1,"flex","gap-2","justify-end"],[1,"text-xs","text-gray-400","hover:text-white","px-2","py-1",3,"click"],[1,"bg-primary","text-background-dark","px-3","py-1","rounded","text-xs","font-bold","hover:opacity-90",3,"click"],[1,"flex","gap-2","mt-auto","pt-3","border-t","border-white/5","opacity-0","group-hover:opacity-100","transition-opacity"],["class","flex-1 bg-green-500/10 text-green-400 hover:bg-green-500/20 py-2 rounded text-xs font-bold transition-colors","title","Aprobar para que sea visible",3,"click",4,"ngIf"],["class","flex-1 bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 py-2 rounded text-xs font-bold transition-colors","title","Responder al cliente",3,"click",4,"ngIf"],["class","flex-1 bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 py-2 rounded text-xs font-bold transition-colors","title","Editar respuesta",3,"click",4,"ngIf"],["class","px-3 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded transition-colors","title","Eliminar permanentemente",3,"click",4,"ngIf"],["title","Aprobar para que sea visible",1,"flex-1","bg-green-500/10","text-green-400","hover:bg-green-500/20","py-2","rounded","text-xs","font-bold","transition-colors",3,"click"],["title","Responder al cliente",1,"flex-1","bg-blue-500/10","text-blue-400","hover:bg-blue-500/20","py-2","rounded","text-xs","font-bold","transition-colors",3,"click"],["title","Editar respuesta",1,"flex-1","bg-blue-500/10","text-blue-400","hover:bg-blue-500/20","py-2","rounded","text-xs","font-bold","transition-colors",3,"click"],["title","Eliminar permanentemente",1,"px-3","bg-red-500/10","text-red-400","hover:bg-red-500/20","rounded","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm"],[1,"glass-panel","border","border-white/5","rounded-2xl","flex","flex-col","items-center","justify-center","p-12","text-center","h-[300px]"],[1,"p-4","rounded-full","bg-white/5","mb-4","text-white/20"],[1,"material-symbols-outlined","text-4xl"],[1,"text-white","font-bold","text-lg","mb-2"],[1,"text-white/60","max-w-sm"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"div",2)(4,"header",3)(5,"div",4)(6,"h2",5),n(7," Gesti\xF3n de Rese\xF1as "),i(),t(8,"div",6)(9,"a",7),n(10,"Inicio"),i(),t(11,"span",8),n(12,"chevron_right"),i(),t(13,"span",9),n(14,"Rese\xF1as"),i()()(),t(15,"div",10)(16,"div",11)(17,"span",12)(18,"span",13),n(19,"search"),i()(),t(20,"input",14),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("ngModelChange",function(){return r.onSearch()}),i()(),t(21,"div",15)(22,"button",16),p("click",function(){return r.toggleNotifications()}),t(23,"span",17),n(24,"notifications"),i(),g(25,Wn,1,0,"span",18),i(),g(26,Un,12,3,"div",19),i()()(),t(27,"main",20)(28,"div",21)(29,"div",22)(30,"h1",23),n(31," Gesti\xF3n de Rese\xF1as "),i(),t(32,"p",24),n(33," Modera y responde a las opiniones de los hu\xE9spedes. "),i()(),t(34,"div",25)(35,"button",26),p("click",function(){return r.setFilter("all")}),n(36," Todas "),i(),t(37,"button",26),p("click",function(){return r.setFilter("pending")}),n(38," Pendientes "),i(),t(39,"button",26),p("click",function(){return r.setFilter("approved")}),n(40," Aprobadas "),i()(),t(41,"div",27),g(42,er,18,15,"div",28),i(),g(43,tr,8,0,"div",29),i()()()()),a&2&&(l(20),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(9),c("ngClass",r.filterMode==="all"?"text-primary border-primary":"text-white/40 border-transparent hover:text-white"),l(2),c("ngClass",r.filterMode==="pending"?"text-primary border-primary":"text-white/40 border-transparent hover:text-white"),l(2),c("ngClass",r.filterMode==="approved"?"text-primary border-primary":"text-white/40 border-transparent hover:text-white"),l(3),c("ngForOf",r.filteredResenas),l(),c("ngIf",r.filteredResenas.length===0))},dependencies:[F,L,D,R,Z,P,$,q,U,G,H,B,N]})}}return o})();var Pe=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${Ae.apiUrl}/empleados`}getAll(){return this.http.get(this.apiUrl)}getById(e){return this.http.get(`${this.apiUrl}/${e}`)}create(e){return this.http.post(this.apiUrl,e)}update(e,a){return this.http.put(`${this.apiUrl}/${e}`,a)}delete(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(a){return new(a||o)(Te(Re))}}static{this.\u0275prov=Me({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var ir=()=>["/notificaciones"],nr=o=>({id:o}),rr=(o,d)=>({"bg-white/5":o,"opacity-70":d}),or=o=>["/empleados/editar",o];function ar(o,d){o&1&&h(0,"span",45)}function lr(o,d){if(o&1){let e=v();t(0,"div",55),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",56),n(2),i(),t(3,"p",57),n(4),i(),t(5,"div",58)(6,"span",59),n(7),i(),t(8,"p",60),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("routerLink",W(10,ir))("queryParams",V(11,nr,e.id))("ngClass",A(13,rr,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,7,e.fechaCreacion,"short")," ")}}function sr(o,d){o&1&&(t(0,"div",61)(1,"span",62),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function dr(o,d){if(o&1&&(t(0,"div",46)(1,"div",47)(2,"h3",48),n(3,"Notificaciones"),i(),t(4,"span",49),n(5),i()(),t(6,"div",50),g(7,lr,11,16,"div",51)(8,sr,4,0,"div",52),i(),t(9,"div",53)(10,"a",54),n(11," Ver todas "),i()()()),o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function cr(o,d){if(o&1){let e=v();t(0,"tr",63)(1,"td",64)(2,"div",65)(3,"div",66),n(4),i(),t(5,"span"),n(6),i()()(),t(7,"td",39)(8,"span",67),n(9),i()(),t(10,"td",68),n(11),i(),t(12,"td",39)(13,"span",69),h(14,"span",70),t(15,"span"),n(16),i()()(),t(17,"td",40)(18,"div",71)(19,"a",72)(20,"span",30),n(21,"edit"),i()(),t(22,"button",73),p("click",function(){let r=u(e).$implicit,s=m();return x(s.eliminar(r.id))}),t(23,"span",30),n(24,"delete"),i()()()()()}if(o&2){let e=d.$implicit,a=m();l(4),z(" ",(e.nombres||"").charAt(0),"",(e.apellidos||"").charAt(0)," "),l(2),z("",e.nombres," ",e.apellidos,""),l(3),b(" ",a.getRoleDisplay(e.usuario.rol||"")," "),l(2),b(" ",e.email," "),l(2),c("ngClass",e.usuario.activo?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"),l(),c("ngClass",e.usuario.activo?"bg-green-400":"bg-red-400"),l(2),_(e.usuario.activo?"Activo":"Inactivo"),l(3),c("routerLink",V(10,or,e.id))}}function mr(o,d){o&1&&(t(0,"tr")(1,"td",74)(2,"span",75),n(3,"group_off"),i(),n(4," No se encontraron empleados registrados. "),i()())}function pr(o,d){if(o&1){let e=v();t(0,"button",82),p("click",function(){let r=u(e).$implicit,s=m(2);return x(s.goToPage(r))}),n(1),i()}if(o&2){let e=d.$implicit,a=m(2);ne("bg-primary",a.currentPage===e)("text-white",a.currentPage===e)("shadow-lg",a.currentPage===e)("shadow-primary",a.currentPage===e),c("ngClass",a.currentPage===e?"":"text-white/60 hover:text-white hover:bg-white/5"),l(),b(" ",e," ")}}function ur(o,d){if(o&1){let e=v();t(0,"div",76)(1,"p",77),n(2," Mostrando "),t(3,"span",78),n(4),i(),n(5," - "),t(6,"span",78),n(7),i(),n(8," de "),t(9,"span",78),n(10),i(),n(11," resultados "),i(),t(12,"div",79)(13,"button",80),p("click",function(){u(e);let r=m();return x(r.goToPage(r.currentPage-1))}),n(14," Anterior "),i(),g(15,pr,2,10,"button",81),t(16,"button",80),p("click",function(){u(e);let r=m();return x(r.goToPage(r.currentPage+1))}),n(17," Siguiente "),i()()()}if(o&2){let e=m();l(4),_((e.currentPage-1)*e.itemsPerPage+1),l(3),_(e.currentPage*e.itemsPerPage>e.totalItems?e.totalItems:e.currentPage*e.itemsPerPage),l(3),_(e.totalItems),l(3),c("disabled",e.currentPage===1),l(2),c("ngForOf",e.pagesArray),l(),c("disabled",e.currentPage===e.totalPages)}}var vt=(()=>{class o{constructor(e,a,r){this.empleadoService=e,this.router=a,this.dashboardService=r,this.empleados=[],this.filteredEmpleados=[],this.searchTerm="",this.currentPage=1,this.itemsPerPage=5,this.totalItems=0,this.totalPages=0,this.paginatedEmpleados=[],this.showNotifications=!1,this.notifications=[],this.unreadCount=0}ngOnInit(){this.loadEmpleados(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}loadEmpleados(){this.empleadoService.getAll().subscribe({next:e=>{this.empleados=e,this.filterEmpleados()},error:e=>console.error("Error loading empleados",e)})}filterEmpleados(){let e=this.empleados;if(this.searchTerm){let a=this.searchTerm.toLowerCase();e=e.filter(r=>r.nombres.toLowerCase().includes(a)||r.apellidos.toLowerCase().includes(a)||r.email.toLowerCase().includes(a))}this.filteredEmpleados=e,this.totalItems=this.filteredEmpleados.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.currentPage=1,this.updatePagination()}onSearch(){this.filterEmpleados()}updatePagination(){let e=(this.currentPage-1)*this.itemsPerPage,a=e+this.itemsPerPage;this.paginatedEmpleados=this.filteredEmpleados.slice(e,a)}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.updatePagination())}get pagesArray(){return Array(this.totalPages).fill(0).map((e,a)=>a+1)}getRoleDisplay(e){return e.replace("ROLE_","")}eliminar(e){confirm("\xBFConfirma eliminar este empleado?")&&this.empleadoService.delete(e).subscribe(()=>this.loadEmpleados())}static{this.\u0275fac=function(a){return new(a||o)(w(Pe),w(Q),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-empleados"]],standalone:!0,features:[M],decls:67,vars:7,consts:[[1,"flex","h-screen","bg-background-dark","overflow-hidden"],[1,"hidden","md:block"],[1,"flex-1","flex","flex-col","min-w-0","overflow-hidden","relative"],[1,"absolute","top-0","left-0","w-full","h-full","overflow-hidden","-z-10","pointer-events-none"],[1,"absolute","top-[-10%]","right-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-primary/5","blur-[100px]"],[1,"absolute","bottom-[-10%]","left-[-5%]","w-[500px]","h-[500px]","rounded-full","bg-accent/5","blur-[100px]"],[1,"h-16","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","z-20","sticky","top-0"],[1,"flex","flex-col","justify-center"],[1,"text-xl","font-bold","text-white","tracking-tight"],[1,"flex","items-center","gap-2","text-xs","text-white/50"],["routerLink","/dashboard",1,"hover:text-primary","transition-colors"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-white"],[1,"flex","items-center","gap-4"],[1,"relative","group","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","group-focus-within:text-primary","transition-colors"],[1,"material-symbols-outlined","text-lg"],["placeholder","Buscar por nombre, rol o email...",1,"w-64","pl-9","pr-4","py-2","rounded-full","bg-black/20","border","border-white/10","text-sm","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all",3,"ngModelChange","ngModel"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"flex-1","overflow-y-auto","p-8","scroll-smooth"],[1,"w-full","max-w-7xl","mx-auto","flex","flex-col","gap-8"],[1,"flex","flex-wrap","justify-between","items-center","gap-4"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-3xl","font-bold","tracking-tight"],[1,"text-white/60","text-base","font-medium"],["routerLink","/empleados/registrar",1,"flex","items-center","gap-2","px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-all","duration-200","shadow-lg","shadow-primary/20","hover:scale-105"],[1,"material-symbols-outlined","text-xl"],[1,"truncate"],[1,"relative","w-full"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","pointer-events-none"],["placeholder","Buscar por nombre, rol o email...",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-white/5","border","border-white/10","text-white","placeholder-white/30","focus:ring-1","focus:ring-primary/50","focus:border-primary/50","transition-all","text-sm",3,"ngModelChange","ngModel"],[1,"glass-panel","rounded-2xl","overflow-hidden","border","border-white/10","shadow-xl"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-white/5","text-xs","uppercase","text-white/40","font-medium","tracking-wider"],[1,"px-6","py-4"],[1,"px-6","py-4","text-right"],[1,"divide-y","divide-white/5"],["class","hover:bg-white/5 transition-colors group",4,"ngFor","ngForOf"],[4,"ngIf"],["class","flex items-center justify-between border-t border-white/5 py-4 px-6 bg-black/20",4,"ngIf"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"routerLink","queryParams","ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-2","border-t","border-white/10","bg-white/5"],["routerLink","/notificaciones",1,"block","w-full","py-2","text-center","text-xs","font-bold","text-primary","hover:bg-white/5","rounded","transition-colors","cursor-pointer"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","routerLink","queryParams","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"hover:bg-white/5","transition-colors","group"],[1,"px-6","py-4","font-bold","text-white"],[1,"flex","items-center","gap-3"],[1,"h-9","w-9","rounded-full","bg-white/10","flex","items-center","justify-center","text-white/60","font-bold","text-xs","uppercase"],[1,"px-2.5","py-1","rounded-lg","bg-white/5","border","border-white/10","text-white/80","text-xs","font-medium"],[1,"px-6","py-4","text-white/60"],[1,"inline-flex","items-center","gap-1.5","px-2.5","py-1","rounded-full","text-xs","font-bold","border",3,"ngClass"],[1,"size-1.5","rounded-full",3,"ngClass"],[1,"flex","justify-end","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],["title","Editar",1,"p-2","rounded-lg","text-accent","hover:bg-accent/10","transition-colors",3,"routerLink"],["title","Eliminar",1,"p-2","rounded-lg","text-red-400","hover:bg-red-500/10","transition-colors",3,"click"],["colspan","5",1,"px-6","py-12","text-center","text-white/30","flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-4xl","opacity-50"],[1,"flex","items-center","justify-between","border-t","border-white/5","py-4","px-6","bg-black/20"],[1,"text-sm","text-white/40"],[1,"font-medium","text-white"],[1,"flex","items-center","gap-2"],[1,"px-3","py-1","rounded-lg","text-sm","font-medium","text-white/60","hover:text-white","hover:bg-white/5","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["class","px-3 py-1 rounded-lg text-sm font-medium transition-colors",3,"bg-primary","text-white","shadow-lg","shadow-primary","ngClass","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","rounded-lg","text-sm","font-medium","transition-colors",3,"click","ngClass"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"div",2)(4,"div",3),h(5,"div",4)(6,"div",5),i(),t(7,"header",6)(8,"div",7)(9,"h2",8),n(10," Gesti\xF3n de Empleados "),i(),t(11,"div",9)(12,"a",10),n(13,"Inicio"),i(),t(14,"span",11),n(15,"chevron_right"),i(),t(16,"span",12),n(17,"Empleados"),i()()(),t(18,"div",13)(19,"div",14)(20,"span",15)(21,"span",16),n(22,"search"),i()(),t(23,"input",17),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("ngModelChange",function(){return r.onSearch()}),i()(),t(24,"div",18)(25,"button",19),p("click",function(){return r.toggleNotifications()}),t(26,"span",20),n(27,"notifications"),i(),g(28,ar,1,0,"span",21),i(),g(29,dr,12,3,"div",22),i()()(),t(30,"main",23)(31,"div",24)(32,"div",25)(33,"div",26)(34,"h1",27),n(35," Lista de Empleados "),i(),t(36,"p",28),n(37," Administre el personal del hotel. "),i()(),t(38,"a",29)(39,"span",30),n(40,"add"),i(),t(41,"span",31),n(42,"Registrar Nuevo Empleado"),i()()(),t(43,"div",32)(44,"span",33)(45,"span",16),n(46,"search"),i()(),t(47,"input",34),E("ngModelChange",function(f){return C(r.searchTerm,f)||(r.searchTerm=f),f}),p("ngModelChange",function(){return r.onSearch()}),i()(),t(48,"div",35)(49,"div",36)(50,"table",37)(51,"thead",38)(52,"tr")(53,"th",39),n(54,"Nombre"),i(),t(55,"th",39),n(56,"Rol"),i(),t(57,"th",39),n(58,"Email"),i(),t(59,"th",39),n(60,"Estado"),i(),t(61,"th",40),n(62,"Acciones"),i()()(),t(63,"tbody",41),g(64,cr,25,12,"tr",42)(65,mr,5,0,"tr",43),i()()(),g(66,ur,18,6,"div",44),i()()()()()),a&2&&(l(23),S("ngModel",r.searchTerm),l(5),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(18),S("ngModel",r.searchTerm),l(17),c("ngForOf",r.paginatedEmpleados),l(),c("ngIf",r.paginatedEmpleados.length===0),l(),c("ngIf",r.totalItems>0))},dependencies:[F,L,D,R,P,$,q,U,G,H,N]})}}return o})();function xr(o,d){if(o&1&&(t(0,"option",35),n(1),i()),o&2){let e=d.$implicit;c("value",e),l(),_(e)}}var je=(()=>{class o{onlyNumbers(e){let a=e.which?e.which:e.keyCode;return!(a>31&&(a<48||a>57))}constructor(e,a,r){this.route=e,this.router=a,this.empleadoService=r,this.empleado={nombres:"",apellidos:"",email:"",telefono:"",usuario:{rol:"RECEPCIONISTA"}},this.isEdit=!1,this.confirmPassword="",this.title="Registrar Nuevo Empleado",this.roles=["RECEPCIONISTA"]}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&(this.isEdit=!0,this.title="Editar Empleado",this.empleadoService.getById(+e).subscribe(a=>{this.empleado=a,this.empleado.usuario?(this.empleado.usuario.password="",this.empleado.usuario.rol=this.empleado.usuario.rol.replace("ROLE_","")):this.empleado.usuario={rol:"RECEPCIONISTA"}}))}save(){if(!this.isEdit&&this.empleado.usuario.password!==this.confirmPassword){alert("Las contrase\xF1as no coinciden");return}let e=JSON.parse(JSON.stringify(this.empleado));e.usuario&&e.usuario.rol&&!e.usuario.rol.startsWith("ROLE_")&&(e.usuario.rol="ROLE_"+e.usuario.rol),this.isEdit&&this.empleado.id?this.empleadoService.update(this.empleado.id,e).subscribe({next:()=>{alert("Empleado actualizado exitosamente"),window.location.href="/empleados"},error:a=>{console.error("Full error:",a);let r=typeof a.error=="string"?a.error:a.error?.message||a.message;alert("Error al actualizar: "+r)}}):this.empleadoService.create(e).subscribe({next:()=>{alert("Empleado creado exitosamente"),window.location.href="/empleados"},error:a=>{console.error("Full error:",a);let r=typeof a.error=="string"?a.error:a.error?.message||a.message;alert("Error al crear: "+r)}})}static{this.\u0275fac=function(a){return new(a||o)(w(Je),w(Q),w(Pe))}}static{this.\u0275cmp=I({type:o,selectors:[["app-empleado-form"]],standalone:!0,features:[M],decls:92,vars:24,consts:[[1,"flex","h-screen","bg-background-dark","overflow-hidden"],[1,"hidden","md:block"],[1,"flex-1","flex","flex-col","min-w-0","overflow-hidden","relative"],[1,"sticky","top-0","z-20","flex","items-center","justify-between","gap-4","border-b","border-white/10","bg-background-dark/80","px-6","py-4","backdrop-blur-xl"],[1,"text-2xl","font-bold","text-white"],[1,"flex-1","overflow-y-auto","p-8","scroll-smooth"],[1,"max-w-4xl","mx-auto","flex","flex-col","gap-8"],[1,"flex","items-center","gap-2","text-sm","text-white/60"],["routerLink","/empleados",1,"hover:text-primary","transition-colors","cursor-pointer"],[1,"material-symbols-outlined","text-xs"],[1,"text-white","font-medium"],[1,"flex","flex-col","gap-2"],[1,"text-white","text-4xl","font-black","tracking-tight"],[1,"text-white/60","text-lg","font-medium"],[1,"glass-panel","rounded-2xl","p-8","border","border-white/10","shadow-xl","relative","overflow-hidden","bg-white/5"],[1,"absolute","top-0","right-0","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","pointer-events-none","-translate-y-1/2","translate-x-1/2"],[1,"flex","flex-col","gap-8","relative","z-10",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-1.5"],[1,"text-xs","font-bold","text-white/60","uppercase","tracking-wider","ml-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/40","pointer-events-none"],[1,"material-symbols-outlined","text-lg"],["name","nombres","required","","placeholder","Ingrese el nombre",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","apellidos","required","","placeholder","Ingrese el apellido",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","telefono","required","","pattern","[0-9]{9}","minlength","9","maxlength","9","placeholder","999999999",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300",3,"ngModelChange","keypress","ngModel"],["name","rol",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300","appearance-none","opacity-50","cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","email","type","email","required","","placeholder","ejemplo@oasisdigital.com",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Ingrese una contrase\xF1a segura",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300",3,"ngModelChange","ngModel","readonly","required"],["name","confirmPassword","type","password","placeholder","Confirme la contrase\xF1a",1,"w-full","pl-10","pr-4","py-3","rounded-xl","bg-black/20","border","border-white/10","text-white","placeholder:text-white/20","focus:ring-2","focus:ring-primary/50","focus:border-primary/50","focus:bg-black/40","transition-all","duration-300",3,"ngModelChange","ngModel","readonly","required"],[1,"flex","items-center","justify-end","gap-4","pt-6","border-t","border-white/10"],["routerLink","/empleados",1,"px-6","py-3","rounded-xl","border","border-white/10","text-white/60","hover:text-white","hover:bg-white/5","transition-all","duration-200","font-medium","cursor-pointer"],["type","submit",1,"px-8","py-3","rounded-xl","bg-primary","text-white","font-bold","hover:bg-primary/90","transition-all","duration-200","shadow-lg","shadow-primary/20","hover:scale-105","flex","items-center","gap-2"],[1,"material-symbols-outlined"],[3,"value"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"main",2)(4,"div",3)(5,"h1",4),n(6,"Gesti\xF3n de Empleados"),i()(),t(7,"div",5)(8,"div",6)(9,"div",7)(10,"a",8),n(11,"Empleados"),i(),t(12,"span",9),n(13,"chevron_right"),i(),t(14,"span",10),n(15),i()(),t(16,"div",11)(17,"h1",12),n(18),i(),t(19,"p",13),n(20," Ingrese la informaci\xF3n del personal. "),i()(),t(21,"div",14),h(22,"div",15),t(23,"form",16),p("ngSubmit",function(){return r.save()}),t(24,"div",17)(25,"div",18)(26,"label",19),n(27,"Nombre"),i(),t(28,"div",20)(29,"span",21)(30,"span",22),n(31,"person"),i()(),t(32,"input",23),E("ngModelChange",function(f){return C(r.empleado.nombres,f)||(r.empleado.nombres=f),f}),i()()(),t(33,"div",18)(34,"label",19),n(35,"Apellido"),i(),t(36,"div",20)(37,"span",21)(38,"span",22),n(39,"person"),i()(),t(40,"input",24),E("ngModelChange",function(f){return C(r.empleado.apellidos,f)||(r.empleado.apellidos=f),f}),i()()()(),t(41,"div",17)(42,"div",18)(43,"label",19),n(44,"N\xFAmero de Tel\xE9fono"),i(),t(45,"div",20)(46,"span",21)(47,"span",22),n(48,"phone"),i()(),t(49,"input",25),E("ngModelChange",function(f){return C(r.empleado.telefono,f)||(r.empleado.telefono=f),f}),p("keypress",function(f){return r.onlyNumbers(f)}),i()()(),t(50,"div",18)(51,"label",19),n(52,"Rol"),i(),t(53,"div",20)(54,"span",21)(55,"span",22),n(56,"badge"),i()(),t(57,"select",26),E("ngModelChange",function(f){return C(r.empleado.usuario.rol,f)||(r.empleado.usuario.rol=f),f}),g(58,xr,2,2,"option",27),i()()()(),t(59,"div",18)(60,"label",19),n(61,"Correo Electr\xF3nico"),i(),t(62,"div",20)(63,"span",21)(64,"span",22),n(65,"mail"),i()(),t(66,"input",28),E("ngModelChange",function(f){return C(r.empleado.email,f)||(r.empleado.email=f),f}),i()()(),t(67,"div",17)(68,"div",18)(69,"label",19),n(70,"Contrase\xF1a"),i(),t(71,"div",20)(72,"span",21)(73,"span",22),n(74,"lock"),i()(),t(75,"input",29),E("ngModelChange",function(f){return C(r.empleado.usuario.password,f)||(r.empleado.usuario.password=f),f}),i()()(),t(76,"div",18)(77,"label",19),n(78,"Confirmar Contrase\xF1a"),i(),t(79,"div",20)(80,"span",21)(81,"span",22),n(82,"lock_reset"),i()(),t(83,"input",30),E("ngModelChange",function(f){return C(r.confirmPassword,f)||(r.confirmPassword=f),f}),i()()()(),t(84,"div",31)(85,"a",32),n(86,"Cancelar"),i(),t(87,"button",33)(88,"span",34),n(89,"save"),i(),t(90,"span"),n(91),i()()()()()()()()()),a&2&&(l(15),_(r.title),l(3),b(" ",r.title," "),l(14),S("ngModel",r.empleado.nombres),l(8),S("ngModel",r.empleado.apellidos),l(9),S("ngModel",r.empleado.telefono),l(8),S("ngModel",r.empleado.usuario.rol),c("disabled",!0),l(),c("ngForOf",r.roles),l(8),S("ngModel",r.empleado.email),l(9),ne("opacity-50",r.isEdit)("cursor-not-allowed",r.isEdit),S("ngModel",r.empleado.usuario.password),c("readonly",r.isEdit)("required",!r.isEdit),l(8),ne("opacity-50",r.isEdit)("cursor-not-allowed",r.isEdit),S("ngModel",r.confirmPassword),c("readonly",r.isEdit)("required",!r.isEdit),l(8),_(r.isEdit?"Actualizar Empleado":"Registrar Empleado"))},dependencies:[F,D,$,ae,be,ve,q,ge,U,re,le,Ve,pe,De,G,oe,H,N]})}}return o})();var hr=(o,d)=>({"bg-white/5":o,"opacity-70":d}),fr=(o,d)=>({"bg-green-500/10 text-green-500 border-green-500/20":o,"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":d}),gr=(o,d)=>({"bg-gray-500/10 text-gray-500 border-gray-500/20":o,"bg-orange-500/10 text-orange-500 border-orange-500/20":d});function br(o,d){o&1&&h(0,"span",32)}function vr(o,d){if(o&1){let e=v();t(0,"div",42),p("click",function(){let r=u(e).$implicit,s=m(2);return s.markAsRead(r),x(s.toggleNotifications())}),t(1,"p",43),n(2),i(),t(3,"p",44),n(4),i(),t(5,"div",45)(6,"span",46),n(7),i(),t(8,"p",47),n(9),y(10,"date"),i()()()}if(o&2){let e=d.$implicit;c("ngClass",A(8,hr,!e.leida,e.leida)),l(2),_(e.titulo),l(2),b(" ",e.mensaje," "),l(3),_(e.tipo),l(2),b(" ",k(10,5,e.fechaCreacion,"short")," ")}}function _r(o,d){o&1&&(t(0,"div",48)(1,"span",49),n(2,"notifications_off"),i(),n(3," No tienes notificaciones "),i())}function wr(o,d){if(o&1){let e=v();t(0,"div",33)(1,"div",34)(2,"h3",35),n(3,"Notificaciones"),i(),t(4,"span",36),n(5),i()(),t(6,"div",37),g(7,vr,11,11,"div",38)(8,_r,4,0,"div",39),i(),t(9,"div",40)(10,"a",41),p("click",function(){u(e);let r=m();return x(r.toggleNotifications())}),n(11," Ver todas "),i()()()}if(o&2){let e=m();l(5),b("",e.unreadCount," nuevas"),l(2),c("ngForOf",e.notifications),l(),c("ngIf",e.notifications.length===0)}}function yr(o,d){o&1&&(t(0,"div",50)(1,"span",51),n(2,"bed"),i(),t(3,"p",52),n(4,"No hay llegadas programadas para hoy."),i()())}function Sr(o,d){if(o&1&&(t(0,"div",54)(1,"div",27)(2,"p",55),n(3),i(),t(4,"p",56),n(5),i()(),t(6,"div",28)(7,"span",57),n(8),i()(),t(9,"div",28)(10,"span",58),n(11),i()()()),o&2){let e=d.$implicit;l(3),z(" ",e.cliente.nombres," ",e.cliente.apellidos," "),l(2),b(" DNI: ",e.cliente.dni," "),l(3),_(e.habitacion.numero),l(2),c("ngClass",A(6,fr,e.estadoReserva==="ACTIVA",e.estadoReserva==="PENDIENTE")),l(),b(" ",e.estadoReserva==="ACTIVA"?"Ingres\xF3":"Pendiente"," ")}}function Cr(o,d){if(o&1&&(t(0,"div"),g(1,Sr,12,9,"div",53),i()),o&2){let e=m();l(),c("ngForOf",e.llegadasHoy)}}function Er(o,d){o&1&&(t(0,"div",50)(1,"span",51),n(2,"luggage"),i(),t(3,"p",52),n(4,"No hay salidas programadas para hoy."),i()())}function kr(o,d){if(o&1&&(t(0,"div",54)(1,"div",27)(2,"p",55),n(3),i(),t(4,"p",56),n(5),i()(),t(6,"div",28)(7,"span",59),n(8),i()(),t(9,"div",28)(10,"span",58),n(11),i()()()),o&2){let e=d.$implicit;l(3),z(" ",e.cliente.nombres," ",e.cliente.apellidos," "),l(2),b(" Checkout: ",e.horaSalida," "),l(3),_(e.habitacion.numero),l(2),c("ngClass",A(6,gr,e.estadoReserva==="FINALIZADA",e.estadoReserva==="ACTIVA")),l(),b(" ",e.estadoReserva==="FINALIZADA"?"Sali\xF3":"Por Salir"," ")}}function Ir(o,d){if(o&1&&(t(0,"div"),g(1,kr,12,9,"div",53),i()),o&2){let e=m();l(),c("ngForOf",e.salidasHoy)}}var _t=(()=>{class o{constructor(e,a,r){this.reservaService=e,this.habitacionService=a,this.dashboardService=r,this.llegadasHoy=[],this.salidasHoy=[],this.fechaHoy="",this.loading=!0,this.showNotifications=!1,this.notifications=[],this.unreadCount=0,this.fechaHoy=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}ngOnInit(){this.cargarDatos(),this.loadNotifications()}loadNotifications(){this.dashboardService.getNotifications().subscribe({next:e=>{this.notifications=e||[],this.unreadCount=this.notifications.filter(a=>!a.leida).length},error:e=>console.error("Error loading notifications",e)})}toggleNotifications(){this.showNotifications=!this.showNotifications}markAsRead(e){e.leida||this.dashboardService.markAsRead(e.id).subscribe(()=>{e.leida=!0,this.unreadCount=Math.max(0,this.unreadCount-1)})}cargarDatos(){this.loading=!0,this.reservaService.getAll().subscribe({next:e=>{let a=new Date().toISOString().split("T")[0];this.llegadasHoy=e.filter(r=>r.fechaInicio.startsWith(a)&&r.estadoReserva!=="CANCELADA"&&r.estadoReserva!=="FINALIZADA"),this.salidasHoy=e.filter(r=>r.fechaFin.startsWith(a)&&r.estadoReserva!=="CANCELADA"),this.loading=!1},error:e=>{console.error("Error al cargar reservas recepcion",e),this.loading=!1}})}static{this.\u0275fac=function(a){return new(a||o)(w(we),w(ye),w(O))}}static{this.\u0275cmp=I({type:o,selectors:[["app-recepcion"]],standalone:!0,features:[M],decls:64,vars:6,consts:[[1,"flex","min-h-screen","w-full","bg-background-light","dark:bg-background-dark","font-display","text-gray-900","dark:text-gray-100"],[1,"sticky","top-0","h-screen","z-30","shrink-0"],[1,"flex-1","flex","flex-col","min-w-0","relative"],[1,"h-20","border-b","border-white/5","bg-background-dark/50","backdrop-blur-xl","flex","items-center","justify-between","px-8","sticky","top-0","z-20"],[1,"relative","w-96","hidden","md:block"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","text-white/30"],[1,"material-symbols-outlined"],["type","text","placeholder","Buscar...",1,"w-full","bg-white/5","border","border-white/5","rounded-full","py-2","pl-10","pr-4","text-sm","text-white","placeholder-white/30","focus:outline-none","focus:border-primary/50","transition-colors"],[1,"flex","items-center","gap-4"],[1,"relative"],["type","button",1,"relative","p-2","text-white/60","hover:text-white","transition-colors","rounded-full","hover:bg-white/5","cursor-pointer","z-50",3,"click"],[1,"material-symbols-outlined","pointer-events-none"],["class","absolute top-2 right-2 w-2 h-2 bg-accent rounded-full border-2 border-[#121212] pointer-events-none",4,"ngIf"],["class","absolute right-0 top-full mt-2 w-80 bg-[#1e1e1e] border border-white/10 rounded-lg shadow-xl overflow-hidden z-[100]",4,"ngIf"],[1,"p-8","flex-1","overflow-y-auto"],[1,"max-w-7xl","mx-auto"],[1,"mb-10","flex","flex-col","md:flex-row","md:items-end","justify-between","gap-4"],[1,"flex","items-center","gap-2","text-xs","text-white/40","mb-1"],[1,"material-symbols-outlined","text-[10px]"],[1,"text-3xl","font-bold","text-white","tracking-tight","mb-1"],[1,"text-white/50","text-base"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"flex","items-center","gap-3","mb-4"],[1,"material-symbols-outlined","text-green-500","text-2xl",2,"font-variation-settings","'FILL' 1"],[1,"text-xl","font-bold","text-white"],[1,"bg-[#1A1A1A]","border","border-white/5","rounded-2xl","overflow-hidden","min-h-[300px]","flex","flex-col"],[1,"bg-white/5","px-6","py-4","flex","items-center","text-xs","font-bold","text-white/40","uppercase","tracking-wider"],[1,"flex-1"],[1,"w-24","text-center"],["class","flex-1 flex flex-col items-center justify-center py-12 text-white/30 gap-2",4,"ngIf"],[4,"ngIf"],[1,"material-symbols-outlined","text-red-400","text-2xl",2,"font-variation-settings","'FILL' 1"],[1,"absolute","top-2","right-2","w-2","h-2","bg-accent","rounded-full","border-2","border-[#121212]","pointer-events-none"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-[#1e1e1e]","border","border-white/10","rounded-lg","shadow-xl","overflow-hidden","z-[100]"],[1,"p-3","border-b","border-white/10","flex","justify-between","items-center","bg-white/5"],[1,"text-white","font-bold","text-sm"],[1,"text-xs","text-[#a0a0a0]"],[1,"max-h-80","overflow-y-auto"],["class","p-3 border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",3,"ngClass","click",4,"ngFor","ngForOf"],["class","p-8 text-center text-[#a0a0a0] text-sm flex flex-col items-center",4,"ngIf"],[1,"p-3","border-t","border-white/10","bg-white/5","text-center","hover:bg-white/10","transition-colors"],["routerLink","/notificaciones",1,"text-xs","text-primary","hover:text-primary/80","font-medium","cursor-pointer","block","w-full","h-full",3,"click"],[1,"p-3","border-b","border-white/5","hover:bg-white/5","cursor-pointer","transition-colors",3,"click","ngClass"],[1,"text-sm","text-white","font-medium"],[1,"text-xs","text-[#a0a0a0]","mt-1","line-clamp-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-white/10","text-white/50"],[1,"text-[10px]","text-white/40"],[1,"p-8","text-center","text-[#a0a0a0]","text-sm","flex","flex-col","items-center"],[1,"material-symbols-outlined","text-3xl","mb-2","opacity-30"],[1,"flex-1","flex","flex-col","items-center","justify-center","py-12","text-white/30","gap-2"],[1,"material-symbols-outlined","text-5xl","opacity-40"],[1,"text-sm"],["class","px-6 py-4 border-b border-white/5 flex items-center hover:bg-white/5 transition-colors cursor-pointer group",4,"ngFor","ngForOf"],[1,"px-6","py-4","border-b","border-white/5","flex","items-center","hover:bg-white/5","transition-colors","cursor-pointer","group"],[1,"font-bold","text-white"],[1,"text-xs","text-white/40"],[1,"font-mono","text-sm","text-primary","bg-primary/10","px-2","py-1","rounded"],[1,"text-[10px]","font-bold","uppercase","px-2","py-0.5","rounded-full","border",3,"ngClass"],[1,"font-mono","text-sm","text-white/60","bg-white/5","px-2","py-1","rounded"]],template:function(a,r){a&1&&(t(0,"div",0)(1,"div",1),h(2,"app-sidebar"),i(),t(3,"div",2)(4,"header",3),h(5,"div"),t(6,"div",4)(7,"span",5)(8,"span",6),n(9,"search"),i()(),h(10,"input",7),i(),t(11,"div",8)(12,"div",9)(13,"button",10),p("click",function(){return r.toggleNotifications()}),t(14,"span",11),n(15,"notifications"),i(),g(16,br,1,0,"span",12),i(),g(17,wr,12,3,"div",13),i()()(),t(18,"main",14)(19,"div",15)(20,"div",16)(21,"div")(22,"div",17)(23,"span"),n(24,"Inicio"),i(),t(25,"span",18),n(26,"chevron_right"),i()(),t(27,"h1",19),n(28," Panel de Recepci\xF3n "),i(),t(29,"p",20),n(30," Gesti\xF3n operativa diaria de llegadas y salidas. "),i()()(),t(31,"div",21)(32,"div")(33,"div",22)(34,"span",23),n(35,"flight_land"),i(),t(36,"h2",24),n(37,"Llegadas de Hoy"),i()(),t(38,"div",25)(39,"div",26)(40,"div",27),n(41,"Hu\xE9sped"),i(),t(42,"div",28),n(43,"Habitaci\xF3n"),i(),t(44,"div",28),n(45,"Estado"),i()(),g(46,yr,5,0,"div",29)(47,Cr,2,1,"div",30),i()(),t(48,"div")(49,"div",22)(50,"span",31),n(51,"flight_takeoff"),i(),t(52,"h2",24),n(53,"Salidas de Hoy"),i()(),t(54,"div",25)(55,"div",26)(56,"div",27),n(57,"Hu\xE9sped"),i(),t(58,"div",28),n(59,"Habitaci\xF3n"),i(),t(60,"div",28),n(61,"Estado"),i()(),g(62,Er,5,0,"div",29)(63,Ir,2,1,"div",30),i()()()()()()()),a&2&&(l(16),c("ngIf",r.unreadCount>0),l(),c("ngIf",r.showNotifications),l(29),c("ngIf",r.llegadasHoy.length===0),l(),c("ngIf",r.llegadasHoy.length>0),l(15),c("ngIf",r.salidasHoy.length===0),l(),c("ngIf",r.salidasHoy.length>0))},dependencies:[F,L,D,R,P,B,N,H],styles:["[_nghost-%COMP%]{display:block}"]})}}return o})();var wt=[{path:"",component:ot},{path:"home",redirectTo:""},{path:"login",component:at},{path:"catalogo",redirectTo:""},{path:"cliente",loadComponent:()=>import("./chunk-KKE53KG7.js").then(o=>o.ClientLayoutComponent),children:[{path:"dashboard",loadComponent:()=>import("./chunk-L4CY36UD.js").then(o=>o.ClientDashboardComponent)},{path:"perfil",loadComponent:()=>import("./chunk-4HZDOJ3D.js").then(o=>o.ClientProfileComponent)},{path:"historial",loadComponent:()=>import("./chunk-GJ4NXKGL.js").then(o=>o.ClientHistoryComponent)},{path:"descuentos",loadComponent:()=>import("./chunk-XU7QQUOI.js").then(o=>o.ClientDiscountsComponent)},{path:"servicios",loadComponent:()=>import("./chunk-XU7QQUOI.js").then(o=>o.ClientServicesViewComponent)},{path:"resenas",loadComponent:()=>import("./chunk-XU7QQUOI.js").then(o=>o.ClientReviewsComponent)},{path:"reservas/nueva",loadComponent:()=>import("./chunk-TJSEYGJR.js").then(o=>o.ReservaFormComponent)},{path:"reservas/:id",loadComponent:()=>import("./chunk-XU7QQUOI.js").then(o=>o.ClientReservaDetailComponent)},{path:"factura/:id",loadComponent:()=>import("./chunk-XU7QQUOI.js").then(o=>o.ClientFacturaComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"recepcion",component:_t},{path:"dashboard",component:dt},{path:"reservas",component:mt},{path:"reservas/crear",loadComponent:()=>import("./chunk-TJSEYGJR.js").then(o=>o.ReservaFormComponent)},{path:"clientes",component:pt},{path:"clientes/crear",loadComponent:()=>import("./chunk-O5QKNTID.js").then(o=>o.ClienteFormComponent)},{path:"clientes/editar/:id",loadComponent:()=>import("./chunk-O5QKNTID.js").then(o=>o.ClienteFormComponent)},{path:"habitaciones",component:ut},{path:"servicios",component:xt},{path:"descuentos",component:ht},{path:"resenas",component:gt},{path:"empleados",component:vt},{path:"empleados/registrar",component:je},{path:"empleados/editar/:id",component:je},{path:"calendario",loadComponent:()=>import("./chunk-2PIECT6Y.js").then(o=>o.CalendarioComponent)},{path:"reportes",loadComponent:()=>import("./chunk-2DS65NHQ.js").then(o=>o.ReportesComponent)},{path:"auditoria",loadComponent:()=>import("./chunk-5XAWJDGP.js").then(o=>o.AuditoriaComponent)},{path:"notificaciones",loadComponent:()=>import("./chunk-RCFPXAFZ.js").then(o=>o.NotificacionesComponent)},{path:"configuracion",loadComponent:()=>import("./chunk-C5W572RS.js").then(o=>o.ConfiguracionComponent)},{path:"**",redirectTo:""}];var yt={providers:[Ke(wt),qe(Ge(),Ue([nt]))]};var St=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-footer"]],standalone:!0,features:[M],decls:66,vars:0,consts:[[1,"bg-background-dark","border-t","border-solid","border-white/10"],[1,"max-w-7xl","mx-auto","py-16","px-4","sm:px-8"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-8"],[1,"col-span-2","md:col-span-1"],[1,"flex","items-center","gap-4","mb-4"],[1,"text-primary","text-2xl"],[1,"fas","fa-hotel"],[1,"text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"text-white/60","text-sm","mt-4"],[1,"flex","gap-3","mt-6"],["href","#",1,"w-10","h-10","bg-[#121212]/5","rounded-full","flex","items-center","justify-center","text-white","hover:bg-primary","hover:text-background-dark","transition-all"],[1,"fab","fa-facebook-f"],[1,"fab","fa-instagram"],[1,"fab","fa-twitter"],[1,"text-white","font-bold","tracking-wider","uppercase","text-sm","mb-4"],[1,"space-y-2"],["routerLink","/","fragment","inicio",1,"text-white/60","hover:text-primary","text-sm","transition-colors","cursor-pointer"],["routerLink","/","fragment","habitaciones",1,"text-white/60","hover:text-primary","text-sm","transition-colors","cursor-pointer"],["routerLink","/","fragment","servicios",1,"text-white/60","hover:text-primary","text-sm","transition-colors","cursor-pointer"],["routerLink","/","fragment","contacto",1,"text-white/60","hover:text-primary","text-sm","transition-colors","cursor-pointer"],["href","#",1,"text-white/60","hover:text-primary","text-sm","transition-colors"],[1,"space-y-2","text-white/60","text-sm"],[1,"flex","items-center","gap-2"],[1,"fas","fa-map-marker-alt","text-sm"],[1,"fas","fa-phone","text-sm"],[1,"fas","fa-envelope","text-sm"],[1,"mt-16","pt-8","border-t","border-solid","border-white/10","text-center","text-white/50","text-sm"]],template:function(a,r){a&1&&(t(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h(6,"i",6),i(),t(7,"h2",7),n(8," Oasis Digital "),i()(),t(9,"p",8),n(10," La perfecta fusi\xF3n entre lujo, confort y tecnolog\xEDa. "),i(),t(11,"div",9)(12,"a",10),h(13,"i",11),i(),t(14,"a",10),h(15,"i",12),i(),t(16,"a",10),h(17,"i",13),i()()(),t(18,"div")(19,"h3",14),n(20," Navegaci\xF3n "),i(),t(21,"ul",15)(22,"li")(23,"a",16),n(24,"Inicio"),i()(),t(25,"li")(26,"a",17),n(27,"Habitaciones"),i()(),t(28,"li")(29,"a",18),n(30,"Servicios"),i()(),t(31,"li")(32,"a",19),n(33,"Contacto"),i()()()(),t(34,"div")(35,"h3",14),n(36," Legal "),i(),t(37,"ul",15)(38,"li")(39,"a",20),n(40,"T\xE9rminos de Servicio"),i()(),t(41,"li")(42,"a",20),n(43,"Pol\xEDtica de Privacidad"),i()(),t(44,"li")(45,"a",20),n(46,"Pol\xEDtica de Cookies"),i()()()(),t(47,"div")(48,"h3",14),n(49," Contacto "),i(),t(50,"ul",21)(51,"li",22),h(52,"i",23),t(53,"span"),n(54,"Av. Principal 123, Lima"),i()(),t(55,"li",22),h(56,"i",24),t(57,"span"),n(58,"+51 1 234-5678"),i()(),t(59,"li",22),h(60,"i",25),t(61,"span"),n(62,"hola@oasisdigital.com"),i()()()()(),t(63,"div",26)(64,"p"),n(65,"\xA9 2024 Oasis Digital. Todos los derechos reservados."),i()()()())}})}}return o})();function Mr(o,d){o&1&&h(0,"app-footer")}var Ct=(()=>{class o{constructor(e,a){this.router=e,this.themeService=a,this.title="angular",this.showFooter=!0}ngOnInit(){this.router.events.pipe(ze(e=>e instanceof Ze)).subscribe(e=>{let a=e.urlAfterRedirects||e.url,r=["/login","/register","/dashboard","/admin","/reservas","/clientes","/habitaciones","/usuarios","/empleados","/reportes","/configuracion","/auditoria","/recepcion","/calendario","/descuentos","/servicios","/resenas","/notificaciones","/cliente"];this.showFooter=!r.some(s=>a.startsWith(s))})}static{this.\u0275fac=function(a){return new(a||o)(w(Q),w(it))}}static{this.\u0275cmp=I({type:o,selectors:[["app-root"]],standalone:!0,features:[M],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(a,r){a&1&&(t(0,"main"),h(1,"router-outlet"),i(),g(2,Mr,1,0,"app-footer",0)),a&2&&(l(2),c("ngIf",r.showFooter))},dependencies:[Ye,St,F,R]})}}return o})();$e(Ct,yt).catch(o=>console.error(o));
